try{window.performance.mark("async-connect-modules.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["async-connect-modules"],{"./node_modules/@atlassian/mpac-fetch-wrapper/node_modules/whatwg-fetch/fetch.js":function(t,n){!function(t){"use strict";if(!t.fetch){var n="URLSearchParams"in t,r="Symbol"in t&&"iterator"in Symbol,o="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in t,a="ArrayBuffer"in t;if(a)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=function(e){return e&&DataView.prototype.isPrototypeOf(e)},c=ArrayBuffer.isView||function(e){return e&&u.indexOf(Object.prototype.toString.call(e))>-1};y.prototype.append=function(e,t){e=f(e),t=h(t);var n=this.map[e];this.map[e]=n?n+","+t:t},y.prototype.delete=function(e){delete this.map[f(e)]},y.prototype.get=function(e){return e=f(e),this.has(e)?this.map[e]:null},y.prototype.has=function(e){return this.map.hasOwnProperty(f(e))},y.prototype.set=function(e,t){this.map[f(e)]=h(t)},y.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},y.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},y.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},y.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(y.prototype[Symbol.iterator]=y.prototype.entries);var l=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];k.prototype.clone=function(){return new k(this,{body:this._bodyInit})},w.call(k.prototype),w.call(P.prototype),P.prototype.clone=function(){return new P(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},P.error=function(){var e=new P(null,{status:0,statusText:""});return e.type="error",e};var p=[301,302,303,307,308];P.redirect=function(e,t){if(-1===p.indexOf(t))throw new RangeError("Invalid status code");return new P(null,{status:t,headers:{location:e}})},t.Headers=y,t.Request=k,t.Response=P,t.fetch=function(e,t){return new Promise((function(n,r){var i=new k(e,t),a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:O(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;n(new P(t,e))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials&&(a.withCredentials=!0),"responseType"in a&&o&&(a.responseType="blob"),i.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),a.send(void 0===i._bodyInit?null:i._bodyInit)}))},t.fetch.polyfill=!0}function f(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function h(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function y(e){this.map={},e instanceof y?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function v(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function m(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function g(e){var t=new FileReader,n=m(t);return t.readAsArrayBuffer(e),n}function b(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function w(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(o&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(i&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(n&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(a&&o&&s(e))this._bodyArrayBuffer=b(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!a||!ArrayBuffer.prototype.isPrototypeOf(e)&&!c(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=b(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=v(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?v(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e=v(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=m(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}function k(e,t){var n=(t=t||{}).body;if(e instanceof k){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new y(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new y(t.headers)),this.method=function(e){var t=e.toUpperCase();return l.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function _(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function O(e){var t=new y;return e.split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t}function P(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new y(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},"./node_modules/@atlassian/mpac-functional-utils/dist/flowUtils.js":function(e,t,n){"use strict";t.a={unexpectedCase:function(e){return new Error("Unexpected case ".concat(e))}}},"./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js":function(e,t){e.exports=function(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}},"./node_modules/nanoid/index.browser.js":function(e,t,n){for(var r=self.crypto||self.msCrypto,o="-_",i=36;i--;)o+=i.toString(36);for(i=36;i---10;)o+=i.toString(36).toUpperCase();e.exports=function(e){var t="",n=r.getRandomValues(new Uint8Array(e||21));for(i=e||21;i--;)t+=o[63&n[i]];return t}},"./src/entry/connect-modules.js":function(t,n,r){"use strict";r.r(n);var o=r("./node_modules/@babel/runtime/regenerator/index.js"),i=r.n(o),a=r("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),u=r.n(a),s=r("./node_modules/@babel/runtime/helpers/classCallCheck.js"),c=r.n(s),l=r("./node_modules/@babel/runtime/helpers/createClass.js"),p=r.n(l),f=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),h=r.n(f),d=r("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js"),y=r.n(d),v={context:!1,accessToken:!1,enabled:!1},m=r("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),g=r.n(m);r("./node_modules/@atlassian/mpac-fetch-wrapper/node_modules/whatwg-fetch/fetch.js");function b(e){return!(!e||"function"!=typeof e.equals||"function"!=typeof e.hashCode)}function w(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){var n=e.valueOf(),r=t.valueOf();if(n===r||n!=n&&r!=r)return!0;if(!n||!r)return!1}return!(!b(e)||!e.equals(t))}function k(e){if("number"==typeof e)return e&e;if("function"==typeof e.valueOf){var t=e.valueOf();if(t!==e)return k(t)}return b(e)?e.hashCode():function(e){var t=0;if(null==e||0===e.length)return t;for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t}(String(e))}var _=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),P=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},j=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},E=(function(e){function t(e){_(this,t);var n="",r=!0,o=!1,i=void 0;try{for(var a,u=e.slice(0,2)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value;n+=", "+(s instanceof Error?s.name+"("+s.message+")":""+s)}}catch(p){o=!0,i=p}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}n=n.slice(2),e.length>2&&(n+=", ...");var c=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));c.name="CompositeError",c.errorsRef=e;var l=c;return l.constructor=t,l.__proto__=t.prototype,c}P(t,e),O(t,[{key:"errors",value:function(){return this.errorsRef.slice()}}])}(Error),function(e){function t(e){_(this,t);var n=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.name="DummyError";var r=n;return r.constructor=t,r.__proto__=t.prototype,n}P(t,e)}(Error),function(e){function t(e){_(this,t);var n=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.name="NoSuchElementError";var r=n;return r.constructor=t,r.__proto__=t.prototype,n}return P(t,e),t}(Error));(function(e){function t(e){_(this,t);var n=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.name="IllegalInheritanceError";var r=n;return r.constructor=t,r.__proto__=t.prototype,n}P(t,e)})(Error),function(e){function t(e){_(this,t);var n=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.name="IllegalStateError";var r=n;return r.constructor=t,r.__proto__=t.prototype,n}P(t,e)}(Error),function(e){function t(e){_(this,t);var n=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.name="IllegalArgumentError";var r=n;return r.constructor=t,r.__proto__=t.prototype,n}P(t,e)}(Error),function(e){function t(e){_(this,t);var n=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.name="NotImplementedError";var r=n;return r.constructor=t,r.__proto__=t.prototype,n}P(t,e)}(Error),function(e){function t(e){_(this,t);var n=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.name="TimeoutError";var r=n;return r.constructor=t,r.__proto__=t.prototype,n}P(t,e)}(Error);function x(e){return function(){var t=Array.prototype.slice.call(arguments);return t.push(this),e.apply(void 0,t)}}function A(e,t,n){var r=e,o=r.prototype,i="fantasy-land/",a=i+"map",u=i+"ap",s=i+"of";o.equals?o["fantasy-land/equals"]=o.equals:n&&(o["fantasy-land/equals"]=x(n.equals)),o.map?o[a]=o.map:t&&(o[a]=x(t.map)),o.ap?o[u]=o.ap:t&&(o[u]=x(t.ap)),r.pure?r[s]=r.pure:t&&(r[s]=t.of),o.chain?o["fantasy-land/chain"]=o.chain:t&&(o["fantasy-land/chain"]=x(t.chain)),r.chainRec?r["fantasy-land/chainRec"]=r.chainRec:t&&(r["fantasy-land/chainRec"]=t.chainRec)}Object.freeze({convertToMethod:x,fantasyLandRegister:A});var U=function(){function e(t,n){_(this,e),this._isRight="right"===n,this.value=t}return O(e,[{key:"isLeft",value:function(){return!this._isRight}},{key:"isRight",value:function(){return this._isRight}},{key:"contains",value:function(e){return this._isRight&&w(this.value,e)}},{key:"exists",value:function(e){return this._isRight&&e(this.value)}},{key:"filterOrElse",value:function(e,t){return this._isRight?e(this.value)?this:S(t()):this}},{key:"flatMap",value:function(e){return this._isRight?e(this.value):this}},{key:"chain",value:function(e){return this.flatMap(e)}},{key:"ap",value:function(e){var t=this;return e.flatMap((function(e){return t.map(e)}))}},{key:"fold",value:function(e,t){return this._isRight?t(this.value):e(this.value)}},{key:"forAll",value:function(e){return!this._isRight||e(this.value)}},{key:"get",value:function(){if(this._isRight)return this.value;throw new E("left.get()")}},{key:"getOrElse",value:function(e){return this._isRight?this.value:e}},{key:"getOrElseL",value:function(e){return this._isRight?this.value:e()}},{key:"map",value:function(e){return this._isRight?T(e(this.value)):this}},{key:"forEach",value:function(e){this._isRight&&e(this.value)}},{key:"swap",value:function(){return this._isRight?S(this.value):T(this.value)}},{key:"toOption",value:function(){return this._isRight?C(this.value):L}},{key:"equals",value:function(e){return null!=e&&(this._isRight===e._isRight&&w(this.value,e.value))}},{key:"hashCode",value:function(){return this._isRight?k(this.value)<<2:k(this.value)<<3}}],[{key:"pure",value:function(e){return new R(e)}},{key:"left",value:function(e){return S(e)}},{key:"right",value:function(e){return T(e)}},{key:"map2",value:function(e,t,n){return e.isLeft()?e:t.isLeft()?t:T(n(e.value,t.value))}},{key:"map3",value:function(e,t,n,r){return e.isLeft()?e:t.isLeft()?t:n.isLeft()?n:T(r(e.value,t.value,n.value))}},{key:"map4",value:function(e,t,n,r,o){return e.isLeft()?e:t.isLeft()?t:n.isLeft()?n:r.isLeft()?r:T(o(e.value,t.value,n.value,r.value))}},{key:"map5",value:function(e,t,n,r,o,i){return e.isLeft()?e:t.isLeft()?t:n.isLeft()?n:r.isLeft()?r:o.isLeft()?o:T(i(e.value,t.value,n.value,r.value,o.value))}},{key:"map6",value:function(e,t,n,r,o,i,a){return e.isLeft()?e:t.isLeft()?t:n.isLeft()?n:r.isLeft()?r:o.isLeft()?o:i.isLeft()?i:T(a(e.value,t.value,n.value,r.value,o.value,i.value))}},{key:"tailRecM",value:function(e,t){for(var n=e;;){var r=t(n);if(!r.isRight())return r;var o=r.value;if(o.isRight())return T(o.value);n=o.value}}}]),e}(),I=function(e){function t(e){return _(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"left"))}return P(t,e),t}(U);function S(e){return new I(e)}var R=function(e){function t(e){return _(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"right"))}return P(t,e),t}(U);function T(e){return new R(e)}var D={equals:function(e,t){return e?e.equals(t):!t},map:function(e,t){return t.map(e)},ap:function(e,t){return t.ap(e)},of:U.pure,chain:function(e,t){return t.flatMap(e)},chainRec:function(e,t){return U.tailRecM(t,(function(t){return e(U.left,U.right,t)}))}};A(U,D,D);var F=function(){function e(t,n){_(this,e),this._isEmpty=null!=n?n:null==t,this.value=t}return O(e,[{key:"get",value:function(){if(!this._isEmpty)return this.value;throw new E("Option.get")}},{key:"getOrElse",value:function(e){return this._isEmpty?e:this.value}},{key:"orNull",value:function(){return this._isEmpty?null:this.value}},{key:"orUndefined",value:function(){return this._isEmpty?void 0:this.value}},{key:"getOrElseL",value:function(e){return this._isEmpty?e():this.value}},{key:"orElse",value:function(e){return this._isEmpty?e:this}},{key:"orElseL",value:function(e){return this._isEmpty?e():this}},{key:"isEmpty",value:function(){return this._isEmpty}},{key:"nonEmpty",value:function(){return!this._isEmpty}},{key:"map",value:function(e){return this._isEmpty?L:C(e(this.value))}},{key:"flatMap",value:function(e){return this._isEmpty?L:e(this.value)}},{key:"chain",value:function(e){return this.flatMap(e)}},{key:"ap",value:function(e){var t=this;return e.flatMap((function(e){return t.map(e)}))}},{key:"filter",value:function(e){return this._isEmpty||!e(this.value)?L:this}},{key:"fold",value:function(e,t){return this._isEmpty?e():t(this.value)}},{key:"contains",value:function(e){return!this._isEmpty&&w(this.value,e)}},{key:"exists",value:function(e){return!this._isEmpty&&e(this.value)}},{key:"forAll",value:function(e){return this._isEmpty||e(this.value)}},{key:"forEach",value:function(e){this._isEmpty||e(this.value)}},{key:"equals",value:function(e){return null!=e&&(this.nonEmpty()&&e.nonEmpty()?w(this.value,e.value):this.isEmpty()&&e.isEmpty())}},{key:"hashCode",value:function(){return this._isEmpty?2433880:null==this.value?9735524:k(this.value)<<2}}],[{key:"of",value:function(e){return null!=e?C(e):L}},{key:"some",value:function(t){return new e(t,!1)}},{key:"none",value:function(){return L}},{key:"empty",value:function(){return L}},{key:"pure",value:function(e){return C(e)}},{key:"map2",value:function(e,t,n){return e.nonEmpty()&&t.nonEmpty()?C(n(e.value,t.value)):L}},{key:"map3",value:function(e,t,n,r){return e.nonEmpty()&&t.nonEmpty()&&n.nonEmpty()?C(r(e.value,t.value,n.value)):L}},{key:"map4",value:function(e,t,n,r,o){return e.nonEmpty()&&t.nonEmpty()&&n.nonEmpty()&&r.nonEmpty()?C(o(e.value,t.value,n.value,r.value)):L}},{key:"map5",value:function(e,t,n,r,o,i){return e.nonEmpty()&&t.nonEmpty()&&n.nonEmpty()&&r.nonEmpty()&&o.nonEmpty()?C(i(e.value,t.value,n.value,r.value,o.value)):L}},{key:"map6",value:function(e,t,n,r,o,i,a){return e.nonEmpty()&&t.nonEmpty()&&n.nonEmpty()&&r.nonEmpty()&&o.nonEmpty()&&i.nonEmpty()?C(a(e.value,t.value,n.value,r.value,o.value,i.value)):L}},{key:"tailRecM",value:function(e,t){for(var n=e;;){var r=t(n);if(!r.nonEmpty())return L;var o=r.value;if(o.isRight())return C(o.value);n=o.value}}}]),e}(),B=function(e){function t(e){return _(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,!1))}return P(t,e),t}(F);function C(e){return new B(e)}var L=new(function(e){function t(){return _(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,void 0,!0))}return P(t,e),t}(F)),M={equals:function(e,t){return e?e.equals(t):!t},map:function(e,t){return t.map(e)},ap:function(e,t){return t.ap(e)},of:F.pure,chain:function(e,t){return t.flatMap(e)},chainRec:function(e,t){return F.tailRecM(t,(function(t){return e(U.left,U.right,t)}))}};A(F,M,M);var q=function(){function t(e,n){_(this,t),this._isSuccess="success"===n,this.value=e}return O(t,[{key:"isSuccess",value:function(){return this._isSuccess}},{key:"isFailure",value:function(){return!this._isSuccess}},{key:"get",value:function(){if(!this._isSuccess)throw this.value;return this.value}},{key:"getOrElse",value:function(e){return this._isSuccess?this.value:e}},{key:"getOrElseL",value:function(e){return this._isSuccess?this.value:e()}},{key:"orNull",value:function(){return this._isSuccess?this.value:null}},{key:"orUndefined",value:function(){return this._isSuccess?this.value:void 0}},{key:"orElse",value:function(e){return this._isSuccess?this:e}},{key:"orElseL",value:function(e){return this._isSuccess?this:e()}},{key:"failed",value:function(){return this._isSuccess?z(new E("try.failed()")):H(this.value)}},{key:"fold",value:function(e,t){return this._isSuccess?t(this.value):e(this.value)}},{key:"filter",value:function(t){if(!this._isSuccess)return this;try{return t(this.value)?this:z(new E("Predicate does not hold for "+this.value))}catch(e){return z(e)}}},{key:"flatMap",value:function(t){if(!this._isSuccess)return this;try{return t(this.value)}catch(e){return z(e)}}},{key:"chain",value:function(e){return this.flatMap(e)}},{key:"ap",value:function(e){var t=this;return e.flatMap((function(e){return t.map(e)}))}},{key:"map",value:function(e){var n=this;return this._isSuccess?t.of((function(){return e(n.value)})):this}},{key:"forEach",value:function(e){this._isSuccess&&e(this.value)}},{key:"recover",value:function(e){var n=this;return this._isSuccess?this:t.of((function(){return e(n.value)}))}},{key:"recoverWith",value:function(t){try{return this._isSuccess?this:t(this.value)}catch(e){return z(e)}}},{key:"toOption",value:function(){return this._isSuccess?C(this.value):L}},{key:"toEither",value:function(){return this._isSuccess?T(this.value):S(this.value)}},{key:"equals",value:function(e){return null!=e&&(this._isSuccess?e._isSuccess&&w(this.value,e.value):!e._isSuccess&&w(this.value,e.value))}},{key:"hashCode",value:function(){return this._isSuccess,k(this.value)}}],[{key:"of",value:function(t){try{return H(t())}catch(e){return z(e)}}},{key:"pure",value:function(e){return t.success(e)}},{key:"unit",value:function(){return V}},{key:"success",value:function(e){return H(e)}},{key:"failure",value:function(e){return z(e)}},{key:"raise",value:function(e){return z(e)}},{key:"map2",value:function(t,n,r){if(t.isFailure())return t;if(n.isFailure())return n;try{return H(r(t.value,n.value))}catch(e){return z(e)}}},{key:"map3",value:function(t,n,r,o){if(t.isFailure())return t;if(n.isFailure())return n;if(r.isFailure())return r;try{return H(o(t.value,n.value,r.value))}catch(e){return z(e)}}},{key:"map4",value:function(t,n,r,o,i){if(t.isFailure())return t;if(n.isFailure())return n;if(r.isFailure())return r;if(o.isFailure())return o;try{return H(i(t.value,n.value,r.value,o.value))}catch(e){return z(e)}}},{key:"map5",value:function(t,n,r,o,i,a){if(t.isFailure())return t;if(n.isFailure())return n;if(r.isFailure())return r;if(o.isFailure())return o;if(i.isFailure())return i;try{return H(a(t.value,n.value,r.value,o.value,i.value))}catch(e){return z(e)}}},{key:"map6",value:function(t,n,r,o,i,a,u){if(t.isFailure())return t;if(n.isFailure())return n;if(r.isFailure())return r;if(o.isFailure())return o;if(i.isFailure())return i;if(a.isFailure())return a;try{return H(u(t.value,n.value,r.value,o.value,i.value,a.value))}catch(e){return z(e)}}},{key:"tailRecM",value:function(t,n){for(var r=t;;)try{var o=n(r);if(o.isFailure())return o;var i=o.get();if(i.isRight())return H(i.value);r=i.value}catch(e){return z(e)}}}]),t}(),N=function(e){function t(e){return _(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"success"))}return P(t,e),t}(q);function H(e){return new N(e)}var J=function(e){function t(e){return _(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"failure"))}return P(t,e),t}(q);function z(e){return new J(e)}var K={equals:function(e,t){return e?e.equals(t):!t},map:function(e,t){return t.map(e)},ap:function(e,t){return t.ap(e)},of:q.pure,chain:function(e,t){return t.flatMap(e)},chainRec:function(e,t){return q.tailRecM(t,(function(t){return e(U.left,U.right,t)}))}};A(q,K,K);var V=H(void 0);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.retries,r=t.accept,o=t.retryDelay,i=g()(t,["retries","accept","retryDelay"]),a=F.of(n).getOrElse(0),u=F.of(r).getOrElse((function(e){return Promise.resolve()})),s=F.of(o).getOrElse(0);return new Promise((function(t,n){!function r(o){fetch(e,i).then((function(e){return u(e.clone()).then((function(n){return t(e)}))})).catch((function(t){o>0?setTimeout((function(){r(--o)}),s):n({url:e,error:t,status:t.status||"unknown"})}))}(a)}))}var X=function(e){return!0===e.ok?Promise.resolve():Promise.reject(e)};function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return W(e,$($({},t),{},{accept:function(e){return X(e).then((function(n){return F.of(t.accept).getOrElse((function(e){return Promise.resolve()}))(e)}))}})).catch((function(e){return Promise.reject(e)}))}var Y=r("./node_modules/@atlassian/mpac-functional-utils/dist/flowUtils.js");function Z(e){return e}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne=function(e){return{name:"jira"===e.product?"Jira":"Confluence",type:"application",id:"ari:cloud:".concat(e.product,":").concat(e.cloudId,":/")}};function re(e,t,n){return n.value.returnsPromise=!0,n.enumerable=!0,n}function oe(e,t,n){var r=n.value.name;return n.value=function(){return Promise.reject("Marketplace SPI function [".concat(r,"] not implemented"))},n}function ie(e,t,n){var r=n.value;return n.value=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[t.length-1]._context.extension.addon_key.match(/com\.atlassian\.(jira|confluence)\.emcee($|\.local|\.staging|\.development\..*)/g)?r.apply(this,t):Promise.reject("Emcee Internal API")},n}function ae(e){var t={},n=Object.getPrototypeOf(e);return Object.keys(n).forEach((function(r){t[r]=n[r].bind(e),t[r].returnsPromise=n[r].returnsPromise})),t}function ue(e){return se.apply(this,arguments)}function se(){return(se=u()(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q("".concat(t,"/rest/plugins/1.0/upm-token"),{method:"HEAD",credentials:Pe(t)});case 2:return n=e.sent,e.abrupt("return",n.headers.get("upm-token"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e,t,n){return le.apply(this,arguments)}function le(){return(le=u()(i.a.mark((function e(t,n,r){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={method:"POST",credentials:Pe(t),headers:new window.Headers({"content-type":"application/vnd.atl.plugins.remote.install+json"})},e.next=3,Q("".concat(t,"/rest/plugins/1.0/apps/install-subscribe?addonKey=").concat(r,"&token=").concat(n),o);case 3:return e.next=5,e.sent.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pe=function(e){return function(t,n){if(e.key)return t(e);if(e.url)return n(e);throw"Invalid identifier"}},fe=function(e,t){return 60*e*1e3/t};function he(e,t,n){return de.apply(this,arguments)}function de(){return(de=u()(i.a.mark((function e(t,n,r){var o,a,u,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={retries:fe(4,r),retryDelay:r,credentials:Pe(t),accept:function(e){return e.json().then((function(e){var t;return(null===(t=e.status)||void 0===t?void 0:t.done)?Promise.resolve():Promise.reject(new Error("Request pending"))}))}},e.next=3,Q(n,a);case 3:return u=e.sent,e.next=6,u.json();case 6:if(s=e.sent,!(-1!==(null===(o=u.headers.get("content-type"))||void 0===o?void 0:o.indexOf("application/vnd.atl.plugins.install.complete+json")))){e.next=12;break}return e.abrupt("return",s);case 12:throw s.status;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ye=function(e){var t,n,r,o,i,a,u,s=null===(t=e._embedded)||void 0===t?void 0:t.version,c=null===(n=e._embedded)||void 0===n?void 0:n.vendor;return te(te(te(te(te(te(te({key:e.key,name:e.name,origin:"marketplace",description:e.tagLine||""},be("version",null==s?void 0:s.name)),be("vendor",null==c?void 0:c.name)),be("vendorLink",null==c||null===(r=c._links.alternate)||void 0===r?void 0:r.href)),be("icon",null===(o=e._embedded)||void 0===o||null===(i=o.logo)||void 0===i?void 0:i._links.image.href)),be("privacyPolicy",null===(a=e.vendorLinks)||void 0===a?void 0:a.privacy)),be("eula",null==s||null===(u=s.vendorLinks)||void 0===u?void 0:u.eula)),{},{vendorType:(null==c?void 0:c.isAtlassian)?"internal":"thirdParty",metadata:void 0})},ve=function(e){var t,n,r=null===(t=e._embedded)||void 0===t||null===(n=t.version)||void 0===n?void 0:n.deployment.permissions;return r?r.map((function(e){return e.key})):[]},me=function(e){var t,n,r;return te(te(te(te(te(te(te({key:e.key,name:e.name,origin:"marketplace",description:e.summary,version:e.version},be("vendor",null===(t=e.vendor)||void 0===t?void 0:t.name)),be("vendorLink",null===(n=e.vendor)||void 0===n?void 0:n.marketplaceLink)),be("vendorType",e.vendor?e.vendor.isAtlassian?"internal":"thirdParty":void 0)),be("icon",null===(r=e.logo)||void 0===r?void 0:r.link)),be("privacyPolicy",e.links.privacy)),be("eula",e.links.eula)),{},{metadata:void 0})},ge=function(e){return{details:me(e),preinstalled:e.preinstalled,scopes:(e.permissions||[]).map((function(e){return e.key})),metadata:void 0}};function be(e,t){return null!=t?h()({},e,t):{}}function we(e,t,n){var r,o,i,a=null===(r=t.links)||void 0===r?void 0:r.postInstall,u=null===(o=t.links)||void 0===o?void 0:o.configure,s=null===(i=t.links)||void 0===i?void 0:i.manage;return Oe(n,e).map((function(t){return function(e,t,n,r,o){return te(te(te(te({details:ye(e),scopes:ve(e),enabled:!0,latestVersion:!0,installationId:e.key},be("getStartedUrl",t)),be("configureUrl",n)),be("manageAppUrl",r)),{},{paymentModel:o,installTime:new Date,authType:{type:"2LO"},metadata:void 0})}(e,a,u,s,t)}))}var ke={type:"free"},_e=function(e){return{type:"paid",licenseType:e}},Oe=function(e,t){var n,r,o=null===(n=t._embedded)||void 0===n||null===(r=n.version)||void 0===r?void 0:r.paymentModel;return o?function(e){return function(t,n,r){switch(e){case"atlassian":return n();case"free":return t();case"vendor":return r();default:throw Y.a.unexpectedCase(e)}}}(o)((function(){return U.right(ke)}),(function(){var t,n,r,o,i=null===(t=e.licenseDetails)||void 0===t?void 0:t.evaluation,a=null===(n=e.licenseDetails)||void 0===n?void 0:n.autoRenewal,u=null===(r=e.licenseDetails)||void 0===r?void 0:r.expiryDate;return null!=i&&null!=a?i?function(e,t){return null!=e?U.right({type:"evaluation",expiry:e,isAutoRenewal:t}):U.left("Unable to get Expiry date for evaluation license")}(u,a).map(_e):function(e,t){return t?U.right({type:"subscription",renewalType:{isAutoRenewal:!0}}):null!=e?U.right({type:"subscription",renewalType:{isAutoRenewal:!1,endDate:e}}):U.left("Unable to get end date for subscription license")}(null===(o=e.licenseDetails)||void 0===o?void 0:o.subscriptionEndDate,a).map(_e):U.left("Unable to get subscription information from UPM")}),(function(){return U.left("Cannot get subscription information for a PvV app")})):U.left("Unable to get payment model from marketplace")};function Pe(e){return""===e?"same-origin":"include"}var je=function(e,t){return e.reduce((function(e,n){return e[t(n)]=n,e}),{})},Ee=r("./node_modules/nanoid/index.browser.js"),xe=r.n(Ee);function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ie=function(e,t){var n=function(e,t){return new Function("return function (call) { \n         return function ".concat(e,"() { \n           return call(this, arguments) \n         }; \n      };"))()(Function.apply.bind(t))}(e,(function(r){var o=this,i=t?t(r):r,a=i.code,u=i.message,s=i.meta,c=i.source,l=g()(i,["code","message","meta","source"]);this.code=a,this.message=u,this.id=xe()(9),this.type=e,this.source=c,this.meta=Ue(Ue({},s),l),this.toJSON=function(){return Ue({id:o.id,code:o.code,type:o.type,message:o.message,meta:o.meta},o.source&&{source:o.source.toJSON?o.source.toJSON():o.source.message?o.source.message:o.source})},this.toString=JSON.stringify(this.toJSON()),Object.prototype.hasOwnProperty.call(Error,"captureStackTrace")?Error.captureStackTrace(this,n):this.stack=new Error(u).stack}));return"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf(n.prototype,Error.prototype):n.prototype=Object.create(Error.prototype,{constructor:{value:n}}),n},Se=Ie("AppInstallError",(function(e){var t=e.code,n=e.message,r=e.addon;return{code:t,message:n,source:e.source,meta:{addon:r}}})),Re=function(e){return Ie(e,(function(e){var t=e.source,n=e.appKey;return{code:"FetchError",message:"Failed to fetch app details for ".concat(n),source:t,meta:{appKey:n}}}))},Te=function(e){return{credentials:Pe(e)}},De=function(e,t){return"".concat(e,"/rest/plugins/1.0/apps/install-subscribe/permission?addonKey=").concat(t)},Fe=function(e,t){return"".concat(e,"/rest/plugins/1.0/").concat(t,"-key")},Be=function(e,t){return"".concat(e,"/rest/plugins/1.0/").concat(t,"/marketplace")},Ce=function(e){return"".concat(e,"/rest/plugins/1.0/")};function Le(e,t){return Me.apply(this,arguments)}function Me(){return(Me=u()(i.a.mark((function e(t,n){var r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q(Fe(t,n),Te(t));case 3:return r=e.sent,e.next=6,r.json();case 6:return o=e.sent,e.abrupt("return",{links:{postInstall:o.links["post-install"],configure:o.links.configure,manage:o.links.manage},key:o.key});case 10:throw e.prev=10,e.t0=e.catch(0),new(Re("InstalledAppFromUPMError"))({source:e.t0,appKey:n});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function qe(e,t){return Ne.apply(this,arguments)}function Ne(){return(Ne=u()(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(De(t,n),Te(t));case 2:if(!((r=e.sent).status>=200&&r.status<=299)){e.next=7;break}return e.abrupt("return",Promise.resolve(!0));case 7:if(401!==r.status&&403!==r.status){e.next=11;break}return e.abrupt("return",Promise.resolve(!1));case 11:return e.abrupt("return",Promise.reject("".concat(r.status,": ").concat(r.statusText)));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var He=function(){var e=u()(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q(Be(t,n),Te(t));case 3:return r=e.sent,e.abrupt("return",r.json());case 7:throw e.prev=7,e.t0=e.catch(0),new(Re("InstalledMarketplaePluginUPMError"))({source:e.t0,appKey:n});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),Je=function(e,t){return Q(function(e,t){return"".concat(e,"/rest/plugins/1.0/available/").concat(t,"-key")}(e,t),Te(e)).then((function(e){return e.json()}))},ze=function(e){return Q(function(e){return"".concat(e,"/rest/plugins/1.0/installed-marketplace")}(e),Te(e)).then((function(e){return e.json()}))};function Ke(e){return Ve.apply(this,arguments)}function Ve(){return(Ve=u()(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(Ce(t),Te(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.next=8,r.plugins.filter((function(e){return(e.userInstalled||e.usesLicensing)&&"Embedded Marketplace"!==e.name})).map((function(e){return{links:{postInstall:e.links["post-install"],configure:e.links.configure,manage:e.links.manage},key:e.key}}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ge,$e=function(e){return Q(function(e){return"".concat(e,"/rest/plugins/1.0/host-status")}(e),Te(e)).then((function(e){return e.json()}))},We=function(){var e=u()(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q(t+"/rest/2/addons/".concat(n,"?hosting=cloud&withVersion=true"));case 3:return r=e.sent,e.abrupt("return",r.json());case 7:throw e.prev=7,e.t0=e.catch(0),new(Re("MarketplaceAppByKeyError"))({source:e.t0,appKey:n});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}();function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ye,Ze=(Ge=function(){function e(t){c()(this,e),h()(this,"config",void 0),this.config=t}return p()(e,[{key:"getHostInfo",value:function(){return Promise.resolve(Qe(Qe({supports:v,product:this.config.product},this.config.subproduct?{subproduct:this.config.subproduct}:{}),{},{baseUrl:this.config.baseUrl,globalContext:ne(this.config)}))}},{key:"getHostPricingInfo",value:function(){var e=u()(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e(this.config.baseUrl);case 2:return t=e.sent,e.abrupt("return",{evaluation:t.hostLicense.evaluation,currentLicensedUsers:t.upmLicensedHostUsers,renewalType:t.hostLicense.autoRenewal?"auto":"quote",maximumLicensedUsers:t.hostLicense.maximumNumberOfUsers,billingCurrency:t.billingCurrency,subscriptionPeriod:Object.prototype.hasOwnProperty.call(t.hostLicense,"subscriptionAnnual")?t.hostLicense.subscriptionAnnual?"annual":"monthly":"annual"});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),y()(Ge.prototype,"getHostInfo",[re,ie],Object.getOwnPropertyDescriptor(Ge.prototype,"getHostInfo"),Ge.prototype),y()(Ge.prototype,"getHostPricingInfo",[re,ie],Object.getOwnPropertyDescriptor(Ge.prototype,"getHostPricingInfo"),Ge.prototype),Ge),et=r("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),tt=r.n(et),nt=r("./node_modules/@babel/runtime/helpers/slicedToArray.js"),rt=r.n(nt),ot={mpacBaseUrl:"https://marketplace.atlassian.com"},it={mpacBaseUrl:"https://marketplace.stg.internal.atlassian.com"},at=function(e){switch(e.environment){case"prod":return ot;case"staging":return it;default:return console.error("Unable to configure marketplace env: "+e.environment),ot}},ut=function(e){return e.remoteInstallable||e.preinstalled};function st(e,t,n){return ct.apply(this,arguments)}function ct(){return(ct=u()(i.a.mark((function e(t,n,r){var o,a,u,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([We(n,Z(t.key)),Le(r,t.key),He(r,t.key)]);case 2:return o=e.sent,a=rt()(o,3),u=a[0],s=a[1],c=a[2],e.abrupt("return",we(u,s,c).fold((function(e){return Promise.reject(e)}),(function(e){return e})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lt(e,t){return t.map((function(t){return We(e,t.key).catch((function(e){return e}))}))}function pt(e,t){return ft.apply(this,arguments)}function ft(){return(ft=u()(i.a.mark((function e(t,n){var r,o,a,u,s,c,l,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Ke(n),ze(n)]);case 2:return r=e.sent,o=rt()(r,2),a=o[0],u=o[1],e.next=8,Promise.all(lt(t,a));case 8:return s=e.sent,c=je(u.plugins,(function(e){return e.key})),l=je(s,(function(e){return e.key})),p=a.reduce((function(e,t){var n=c[t.key],r=l[t.key];return r&&n?[].concat(tt()(e),tt()(we(r,t,n).map((function(e){return[e]})).getOrElse([]))):(console.error("Marketplace API or Installed Marketplace API didn't return a response for ".concat(t.key)),e)}),[]),e.abrupt("return",p);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ht,dt,yt,vt=(Ye=function(){function e(t){c()(this,e),h()(this,"config",void 0),h()(this,"upmBaseUrl",void 0),this.config=t,this.upmBaseUrl=this.config.baseUrl}return p()(e,[{key:"getInstalledAddons",value:function(){var e=u()(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=at(this.config).mpacBaseUrl,e.prev=1,e.next=4,pt(n,this.upmBaseUrl);case 4:return r=e.sent,e.abrupt("return",{values:r,totalCount:r.length,pageSize:r.length});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{values:[],totalCount:0,pageSize:0});case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"uninstallAddon",value:function(e){return Promise.reject()}},{key:"installAddon",value:function(){var e=u()(i.a.mark((function e(t){var n,r,o,a,s=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){return(a=u()(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Se({message:"Marketplace SPI function [InstallAddon with InstallByUrl] not implemented",addon:t.addon,code:"MethodNotImplementedError"});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},o=function(e){return a.apply(this,arguments)},n={getTokenFromUPM:function(){var e=u()(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue(s.upmBaseUrl);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new Se({addon:t.addon,code:"UPMTokenFetchError",message:"Fetching token from UPM failed for ".concat(t.addon.toString()),source:e.t0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),postInstallToUPM:function(){var e=u()(i.a.mark((function e(n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce(s.upmBaseUrl,n,r);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new Se({addon:t.addon,code:e.t0.subCode||e.t0.contentType||"UnknownUPMInstallSubscribeError",message:e.t0.errorMessage,source:e.t0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),waitForPendingUPMTask:function(){var e=u()(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he(s.upmBaseUrl,n.links.self,n.pingAfter);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new Se({addon:t.addon,code:"UPMInstallPostError",message:"Failed while polling for app installation status for ".concat(t.addon.toString()),source:e.t0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),getInstalledAddonInternal:function(){var e=u()(i.a.mark((function e(n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,st(n,r,s.upmBaseUrl);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new Se({addon:t.addon,code:"FetchAddonInternalError",message:"Failed while constructing a app object post installation success for ".concat(t.addon.toString()),source:e.t0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},r=function(){var e=u()(i.a.mark((function e(t){var r,o,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=at(s.config).mpacBaseUrl,e.next=3,n.getTokenFromUPM();case 3:return o=e.sent,e.next=6,n.postInstallToUPM(o,t.key);case 6:return a=e.sent,e.next=9,n.waitForPendingUPMTask(a);case 9:return e.abrupt("return",n.getInstalledAddonInternal(t,r));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=6,pe(t.addon)(r,o);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"upgradeAddon",value:function(e){return Promise.reject()}},{key:"uninstallAddonFromSite",value:function(e){return Promise.reject()}},{key:"createContainerToken",value:function(e){return Promise.reject()}},{key:"getInstalledAddon",value:function(e){var t=at(this.config).mpacBaseUrl;return st(e.addon,t,this.upmBaseUrl)}},{key:"getInstallableAddon",value:function(e){var t=this;return pe(e.addon)(function(){var e=u()(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Je(t.upmBaseUrl,n.key);case 2:return r=e.sent,e.abrupt("return",ut(r)?ge(r):Promise.reject("Requested add-on is not installable"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject("Marketplace SPI function [getInstallableAddon with InstallByUrl] not implemented")}))}},{key:"rotateContainerToken",value:function(e){return Promise.reject()}}]),e}(),y()(Ye.prototype,"getInstalledAddons",[re,ie],Object.getOwnPropertyDescriptor(Ye.prototype,"getInstalledAddons"),Ye.prototype),y()(Ye.prototype,"uninstallAddon",[re,ie,oe],Object.getOwnPropertyDescriptor(Ye.prototype,"uninstallAddon"),Ye.prototype),y()(Ye.prototype,"installAddon",[re,ie,function(e,t,n){var r=n.value,o=function(e){return Promise.resolve(e)==e};return n.value=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=r.apply(this,t);return o(i)?i.then((function(e){return e})).catch((function(e){throw e.toJSON?e.toJSON():e})):i},n}],Object.getOwnPropertyDescriptor(Ye.prototype,"installAddon"),Ye.prototype),y()(Ye.prototype,"upgradeAddon",[re,ie,oe],Object.getOwnPropertyDescriptor(Ye.prototype,"upgradeAddon"),Ye.prototype),y()(Ye.prototype,"uninstallAddonFromSite",[re,ie,oe],Object.getOwnPropertyDescriptor(Ye.prototype,"uninstallAddonFromSite"),Ye.prototype),y()(Ye.prototype,"createContainerToken",[re,ie,oe],Object.getOwnPropertyDescriptor(Ye.prototype,"createContainerToken"),Ye.prototype),y()(Ye.prototype,"getInstalledAddon",[re,ie],Object.getOwnPropertyDescriptor(Ye.prototype,"getInstalledAddon"),Ye.prototype),y()(Ye.prototype,"getInstallableAddon",[re,ie],Object.getOwnPropertyDescriptor(Ye.prototype,"getInstallableAddon"),Ye.prototype),y()(Ye.prototype,"rotateContainerToken",[re,ie,oe],Object.getOwnPropertyDescriptor(Ye.prototype,"rotateContainerToken"),Ye.prototype),Ye),mt=(ht=function(){function e(t){c()(this,e),h()(this,"config",void 0),this.config=t}return p()(e,[{key:"getMostRecentContext",value:function(){return Promise.reject()}},{key:"getContextInstallationForInstalledAddonContext",value:function(e){return Promise.reject()}},{key:"getContextInstallationsForInstalledAddon",value:function(e){return Promise.reject()}},{key:"getContext",value:function(e){return Promise.reject()}},{key:"getContexts",value:function(e){return Promise.reject()}}]),e}(),y()(ht.prototype,"getMostRecentContext",[re,ie,oe],Object.getOwnPropertyDescriptor(ht.prototype,"getMostRecentContext"),ht.prototype),y()(ht.prototype,"getContextInstallationForInstalledAddonContext",[re,ie,oe],Object.getOwnPropertyDescriptor(ht.prototype,"getContextInstallationForInstalledAddonContext"),ht.prototype),y()(ht.prototype,"getContextInstallationsForInstalledAddon",[re,ie,oe],Object.getOwnPropertyDescriptor(ht.prototype,"getContextInstallationsForInstalledAddon"),ht.prototype),y()(ht.prototype,"getContext",[re,ie,oe],Object.getOwnPropertyDescriptor(ht.prototype,"getContext"),ht.prototype),y()(ht.prototype,"getContexts",[re,ie,oe],Object.getOwnPropertyDescriptor(ht.prototype,"getContexts"),ht.prototype),ht),gt=(dt=function(){function e(t){c()(this,e),h()(this,"config",void 0),this.config=t}return p()(e,[{key:"hasInstallPermission",value:function(){var e=u()(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe(this.config.baseUrl,t.addon.details.key);case 2:if(!e.sent){e.next=6;break}e.t0={allowed:!0},e.next=7;break;case 6:e.t0={allowed:!1,message:"No addon manage permission",key:"noAddonManagePermission"};case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"hasUninstallPermission",value:function(e){return Promise.reject()}}]),e}(),y()(dt.prototype,"hasInstallPermission",[re,ie],Object.getOwnPropertyDescriptor(dt.prototype,"hasInstallPermission"),dt.prototype),y()(dt.prototype,"hasUninstallPermission",[re,ie,oe],Object.getOwnPropertyDescriptor(dt.prototype,"hasUninstallPermission"),dt.prototype),dt),bt=r("./node_modules/url-parse/index.js"),wt=r.n(bt),kt=function(e,t){return"".concat(e,"/gateway/api/marketplace").concat(t)},_t=(yt=function(){function e(t){c()(this,e),h()(this,"config",void 0),h()(this,"siteBaseUrl",void 0),this.config=t,this.siteBaseUrl=new wt.a(this.config.baseUrl).origin}return p()(e,[{key:"fetchOk",value:function(){var e=u()(i.a.mark((function e(t,n){var r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q(kt(this.siteBaseUrl,t),n);case 3:return r=e.sent,e.next=6,r.json();case 6:return o=e.sent,e.abrupt("return",Promise.resolve(o));case 10:if(e.prev=10,e.t0=e.catch(0),!r||!r.ok){e.next=14;break}return e.abrupt("return",Promise.resolve({status:r.status}));case 14:return e.abrupt("return",Promise.reject(e.t0));case 15:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetch",value:function(){var e=u()(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(kt(this.siteBaseUrl,t),n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),y()(yt.prototype,"fetchOk",[re,ie],Object.getOwnPropertyDescriptor(yt.prototype,"fetchOk"),yt.prototype),y()(yt.prototype,"fetch",[re,ie],Object.getOwnPropertyDescriptor(yt.prototype,"fetch"),yt.prototype),yt),Ot=function(e){return Object.assign({},function(e){return ae(new vt(e))}(e),function(e){return ae(new Ze(e))}(e),function(e){return ae(new mt(e))}(e),function(e){return ae(new gt(e))}(e),function(e){return ae(new _t(e))}(e))},Pt=r("./src/packages/common-legacy-do-not-add-anything-new/src/bridge/index.js"),jt=r("./src/packages/common-legacy-do-not-add-anything-new/src/util/get-feature-flag-value.js"),Et=r("./src/packages/common-legacy-do-not-add-anything-new/src/util/get-tenant-context/index.js");if(Object(jt.a)("emcee-discover",!1)){const{baseUrl:e,cloudId:t,environment:n}=Object(Et.c)();Object(Pt.a)({name:"ac/create"}).then(()=>{const r={baseUrl:`${window.location.origin}${e}`,product:"jira",subproduct:"jira-core",cloudId:t||"",environment:n||"prod"};window.define&&window.define("ac/marketplace",Ot(r))})}const xt=e=>{const t=document.createElement("link");t.rel="dns-prefetch",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)},{baseUrl:At}=Object(Et.c)();fetch(`${At}/rest/atlassian-connect/latest/addons-baseurl`).then(e=>e.ok?e.json():{}).then(e=>e.addonBaseUrls&&e.addonBaseUrls.forEach(xt)).catch(()=>{})}}]);try{window.__jsEvalStop("async-connect-modules.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/async-connect-modules.e9d8d55175919e506ce3.8.js.map