try{window.performance.mark("async-global-trackers-components.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["async-global-trackers-components"],{"./node_modules/@atlaskit/analytics-next--next/dist/es2019/hocs/withAnalyticsEvents.js":function(e,t,n){"use strict";var s=n("./node_modules/react/index.js"),r=n.n(s),a=n("./node_modules/@atlaskit/analytics-next--next/dist/es2019/hooks/useAnalyticsEvents.js");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=(e={})=>t=>{const n=Object(s.forwardRef)((n,c)=>{const{patchedEventProps:i}=function(e={},t){const{createAnalyticsEvent:n}=Object(a.a)();return{patchedEventProps:Object(s.useMemo)(()=>Object.keys(e).reduce((s,r)=>{const a=e[r];if(!["object","function"].includes(typeof a))return s;const c=t[r],i=(...e)=>{const s="function"==typeof a?a(n,t):n(a);c&&"function"==typeof c&&c(...e,s)};return i?o(o({},s),{},{[r]:i}):s},{}),[e,t,n])}}(e,n),{createAnalyticsEvent:l}=Object(a.a)();return r.a.createElement(t,Object.assign({},n,i,{createAnalyticsEvent:l,ref:c}))});return n.displayName=`WithAnalyticsEvents(${t.displayName||t.name})`,n}},"./node_modules/@atlaskit/analytics-next--next/dist/es2019/hooks/useAnalyticsContext.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n("./node_modules/react/index.js"),r=n("./node_modules/@atlaskit/analytics-next-stable-react-context/dist/es2019/index.js");const a=()=>Object(s.useContext)(r.a)},"./node_modules/@atlaskit/analytics-next--next/dist/es2019/hooks/useAnalyticsEvents.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var s=n("./node_modules/use-memo-one/dist/use-memo-one.esm.js");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o{constructor(e){this.clone=()=>{const e=a({},this.payload);return new o({payload:e})},this.payload=e.payload}update(e){return"function"==typeof e&&(this.payload=e(this.payload)),"object"==typeof e&&(this.payload=a(a({},this.payload),e)),this}}class i extends o{constructor(e){super(e),this.clone=()=>{if(this.hasFired)return null;const e=[...this.context],t=[...this.handlers],n=JSON.parse(JSON.stringify(this.payload));return new i({context:e,handlers:t,payload:n})},this.fire=e=>{this.hasFired||(this.handlers.forEach(t=>t(this,e)),this.hasFired=!0)},this.context=e.context||[],this.handlers=e.handlers||[],this.hasFired=!1}update(e){return this.hasFired?this:super.update(e)}}var l=n("./node_modules/@atlaskit/analytics-next--next/dist/es2019/hooks/useAnalyticsContext.js");function u(){const e=Object(l.a)();return{createAnalyticsEvent:Object(s.b)(t=>new i({context:e.getAtlaskitAnalyticsContext(),handlers:e.getAtlaskitAnalyticsEventHandlers(),payload:t}),[e])}}},"./src/packages/common-legacy-do-not-add-anything-new/src/util/has-jsw-jsd.js":function(e,t,n){"use strict";var s=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/get-tenant-context/index.js");t.a=()=>{const e=Object(s.h)(),{JIRA_SOFTWARE:t,JIRA_SERVICEDESK:n}=s.a;return e[t]&&e[n]}},"./src/packages/common-legacy-do-not-add-anything-new/src/util/is-jsw-jsd-bundle.js":function(e,t,n){"use strict";var s=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/get-tenant-context/index.js");t.a=()=>{const{JIRA_SOFTWARE:e,JIRA_SERVICEDESK:t}=s.a,n=Object(s.g)();return void 0!==n&&n.startsWith(`${e}.ondemand,${t}.ondemand`)}},"./src/packages/growth/fire-engagement-targeting-events/src/index.js":function(e,t,n){"use strict";var s=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/get-tenant-context/index.js"),r=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/has-jsw-jsd.js"),a=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/is-jsw-jsd-bundle.js"),c=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/with-injected-props.js"),o=n("./node_modules/react/index.js"),i=n("./node_modules/@atlaskit/analytics-next--next/dist/es2019/hocs/withAnalyticsEvents.js"),l=n("./src/packages/platform/observability/product-analytics-bridge/src/utils/fire-analytics.js");class u extends o.Component{componentDidMount(){const{onJswConfluenceBundleCheck:e,onJswJsdBundleCheck:t,createAnalyticsEvent:n,onGetFirstActivationDate:s}=this.props,r=e(),a=t(),c=s(),o=Date.now(),i=null!==c?o-c:null;null!==i&&i>0&&i<6048e5&&(r&&Object(l.b)(n({}),"appswitcherSpotlight targeting"),a&&Object(l.b)(n({}),"appswitcherjsdspotlight targeting"))}render(){return null}}u.displayName="FireEngagementTargetingEvents",u.displayName="FireEngagementTargetingEvents";var d=Object(i.a)()(u);t.a=Object(c.a)(d,{onJswJsdBundleCheck:()=>Object(r.a)()&&Object(a.a)(),onJswConfluenceBundleCheck:()=>(()=>{const e=Object(s.h)(),{JIRA_SOFTWARE:t,CONFLUENCE:n}=s.a;return e[t]&&e[n]})()&&(()=>{const{JIRA_SOFTWARE:e,CONFLUENCE:t}=s.a,n=Object(s.g)();return void 0!==n&&n.startsWith(`${e}.ondemand,${t}.ondemand`)})(),onGetFirstActivationDate:()=>Object(s.f)()})},"./src/packages/platform/observability/spa-transition-resources-tracker/src/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var s=n("./node_modules/@atlaskit/analytics-next--current/dist/esm/withAnalyticsEvents.js"),r=n("./node_modules/react/index.js"),a=n.n(r),c=n("./node_modules/react-resource-router/build/esm/index.js"),o=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),i=n("./src/packages/platform/observability/errors-handling/src/utils/fire-error-analytics.js"),l=n("./src/packages/platform/observability/product-analytics-bridge/src/utils/fire-analytics.js"),u=n("./src/packages/platform/controllers/spa-state/src/common/index.js");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const j={type:null,duration:null,end:null,isCacheHit:null,start:0},b=({resource:e,route:t,createAnalyticsEvent:n,setResourceMetrics:s})=>{const[a,u]=Object(r.useState)(j),[d,y]=Object(r.useState)(!1),b=Object(c.l)(e);return Object(r.useEffect)(()=>()=>{u(p({},j)),y(!1)},[t]),Object(r.useEffect)(()=>{if(null===b.expiresAt||d)return;const t=Date.now();null===a.isCacheHit&&((e,t)=>{var n;return!e.loading&&(null!==(n=e.expiresAt)&&void 0!==n?n:0)>t})(b,t)?u(n=>p(p({},n),{},{duration:0,end:t,isCacheHit:!0,start:t,type:e.type})):b.loading&&0===a.start?u(n=>p(p({},n),{},{type:e.type,isCacheHit:!1,start:t})):b.loading||a.start===j.start||a.end!==j.end||u(e=>p(p({},e),{},{duration:t-e.start,end:t}))},[d,t,a,e,b]),Object(r.useEffect)(()=>{if(d||!(({duration:e,end:t,isCacheHit:n,start:s})=>n!==j.isCacheHit&&e!==j.duration&&s!==j.start&&t!==j.end)(a))return;const{isCacheHit:r,duration:c,start:u,end:g,type:f}=a,{error:h}=b,m=h?"fetchFailed":"fetchSucceeded",O=n({action:m}),w=h&&h instanceof Error?h.toString():h,v=t.name?t.name:"empty";Object(l.b)(O,`${m} resource`,e.type,p({duration:c,isCacheHit:r,start:u,end:g,routeName:v},null!=w?{error:w}:{})),h&&(Object(i.a)({meta:{id:`spaTransitionResources.${(f||"").toLowerCase()}`,packageName:"jiraSpaTransitionResourcesTracker",teamName:"delorean-spa"},error:h}),o.i.safeError(`resources.${(f||"").toLowerCase()}`,w||"",h)),s({end:g,isCacheHit:r,start:u,type:f}),y(!0)},[n,t,d,a,s,b,e]),null},g=({createAnalyticsEvent:e,setResourceMetrics:t})=>{const[{route:n,match:s}]=Object(c.n)();return Object(r.useMemo)(()=>(n&&n.resources||[]).map(s=>a.a.createElement(b,{key:s.type,resource:s,route:n,createAnalyticsEvent:e,setResourceMetrics:t})),[n,s,e,t])},f=({createAnalyticsEvent:e})=>a.a.createElement(u.a,null,(t,{setResourceMetrics:n})=>a.a.createElement(g,{setResourceMetrics:n,createAnalyticsEvent:e}));f.displayName="SpaResourceMetricsControllerWithActions";const h=Object(s.a)()(f)},"./src/packages/platform/ui/layouts/shared-global-components/src/ui/trackers/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Trackers",(function(){return o}));var s=n("./node_modules/react/index.js"),r=n.n(s),a=n("./src/packages/growth/fire-engagement-targeting-events/src/index.js"),c=n("./src/packages/platform/observability/spa-transition-resources-tracker/src/index.js");const o=()=>r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,null),r.a.createElement(a.a,null));t.default=o}}]);try{window.__jsEvalStop("async-global-trackers-components.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/async-global-trackers-components.8135e182c3c08ab9158a.8.js.map