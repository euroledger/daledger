try{window.performance.mark("async-atlassian-navigation-search.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["async-atlassian-navigation-search"],{"./node_modules/@atlaskit/activity-provider/node_modules/@atlaskit/util-service-support/dist/esm/index.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return d}));var n={};r.r(n),r.d(n,"requestService",(function(){return f}));var o=function(){function e(){this.listeners=new Set}return e.prototype.subscribe=function(e){this.listeners.add(e),this.lastResult&&e.result(this.lastResult)},e.prototype.unsubscribe=function(e){this.listeners.delete(e)},e.prototype.notifyResult=function(e){this.listeners.forEach((function(t){t.result(e)}))},e.prototype.notifyError=function(e){this.listeners.forEach((function(t){t.error&&t.error(e)}))},e.prototype.notifyInfo=function(e){this.listeners.forEach((function(t){t.info&&t.info(e)}))},e.prototype.notifyNotReady=function(){this.listeners.forEach((function(e){e.notReady&&e.notReady()}))},e}(),i=r("./node_modules/tslib/tslib.es6.js"),a=r("./node_modules/url/url.js"),s=r("./node_modules/@atlaskit/activity-provider/node_modules/url-search-params/build/url-search-params.node.js"),c=r.n(s),u=c.a.default||c.a,l={},p=function(e,t){if(t)for(var r in t)if({}.hasOwnProperty.call(t,r)){var n=t[r];if(Array.isArray(n))for(var o=0;o<n.length;o++)e[r]=n[o];else e[r]=n}},f=function(e,t){var r=e.url,n=e.securityProvider,o=e.refreshedSecurityProvider,s=t||l,c=s.path,d=s.queryParams,y=s.requestInit,m=n&&n(),h=function(e,t,r,n){void 0===t&&(t="");var o=new u(a.parse(e).search||void 0);if(e=e.split("?")[0],r)for(var i in r)({}).hasOwnProperty.call(r,i)&&o.append(i,r[i]);if(n&&n.params)for(var i in n.params)if({}.hasOwnProperty.call(n.params,i)){var s=n.params[i];if(Array.isArray(s))for(var c=0;c<s.length;c++)o.append(i,s[c]);else o.append(i,s)}var l="";t&&"/"!==e.substr(-1)&&(l="/");var p=o.toString();return p&&(p="?"+p),""+e+l+t+p}(r,c,d,m),v=function(e,t){var r={};return p(r,t),e&&p(r,e.headers),r}(m,y&&y.headers),b=function(e){return e&&e.omitCredentials?"omit":"include"}(m),g=Object(i.__assign)(Object(i.__assign)({},y),{headers:v,credentials:b});return fetch(h,g).then((function(e){return 204===e.status?Promise.resolve():e.ok?e.json():401===e.status&&o?o().then((function(e){return f({url:r,securityProvider:function(){return e}},t)})):Promise.reject({code:e.status,reason:e.statusText})}))},d=n},"./node_modules/@atlaskit/activity-provider/node_modules/url-search-params/build/url-search-params.node.js":function(e,t,r){"use strict";(function(t){
/*!
Copyright (C) 2015-2017 Andrea Giammarchi - @WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
function r(e){var t,r,o,i,a,s,c=Object.create(null);if(this[u]=c,e)if("string"==typeof e)for("?"===e.charAt(0)&&(e=e.slice(1)),a=0,s=(i=e.split("&")).length;a<s;a++)-1<(t=(o=i[a]).indexOf("="))?l(c,p(o.slice(0,t)),p(o.slice(t+1))):o.length&&l(c,p(o),"");else if(n(e))for(a=0,s=e.length;a<s;a++)l(c,(o=e[a])[0],o[1]);else for(r in e)l(c,r,e[r])}var n=Array.isArray,o=r.prototype,i=/[!'\(\)~]|%20|%00/g,a=/\+/g,s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},c=function(e){return s[e]},u="__URLSearchParams__:"+Math.random();function l(e,t,r){t in e?e[t].push(""+r):e[t]=n(r)?r:[""+r]}function p(e){return decodeURIComponent(e.replace(a," "))}function f(e){return encodeURIComponent(e).replace(i,c)}o.append=function(e,t){l(this[u],e,t)},o.delete=function(e){delete this[u][e]},o.get=function(e){var t=this[u];return e in t?t[e][0]:null},o.getAll=function(e){var t=this[u];return e in t?t[e].slice(0):[]},o.has=function(e){return e in this[u]},o.set=function(e,t){this[u][e]=[""+t]},o.forEach=function(e,t){var r=this[u];Object.getOwnPropertyNames(r).forEach((function(n){r[n].forEach((function(r){e.call(t,r,n,this)}),this)}),this)},o.toJSON=function(){return{}},o.toString=function(){var e,t,r,n,o=this[u],i=[];for(t in o)for(r=f(t),e=0,n=o[t];e<n.length;e++)i.push(r+"="+f(n[e]));return i.join("&")},function(e){var t=function(){try{return!!Symbol.iterator}catch(e){return!1}}();"forEach"in e||(e.forEach=function(e,t){var r=Object.create(null);this.toString().replace(/=[\s\S]*?(?:&|$)/g,"=").split("=").forEach((function(n){!n.length||n in r||(r[n]=this.getAll(n)).forEach((function(r){e.call(t,r,n,this)}),this)}),this)}),"keys"in e||(e.keys=function(){var e=[];this.forEach((function(t,r){e.push(r)}));var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(r[Symbol.iterator]=function(){return r}),r}),"values"in e||(e.values=function(){var e=[];this.forEach((function(t){e.push(t)}));var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(r[Symbol.iterator]=function(){return r}),r}),"entries"in e||(e.entries=function(){var e=[];this.forEach((function(t,r){e.push([r,t])}));var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(r[Symbol.iterator]=function(){return r}),r}),!t||Symbol.iterator in e||(e[Symbol.iterator]=e.entries),"sort"in e||(e.sort=function(){for(var e,t,r,n=this.entries(),o=n.next(),i=o.done,a=[],s=Object.create(null);!i;)t=(r=o.value)[0],a.push(t),t in s||(s[t]=[]),s[t].push(r[1]),i=(o=n.next()).done;for(a.sort(),e=0;e<a.length;e++)this.delete(a[e]);for(e=0;e<a.length;e++)t=a[e],this.append(t,s[t].shift())})}((r=e.exports=t.URLSearchParams||r).prototype)}).call(this,r("./node_modules/webpack/buildin/global.js"))},"./node_modules/@atlassian/product-search-dialog/dist/esm/common/clients/base-search-client.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r("./node_modules/@atlaskit/activity-provider/node_modules/@atlaskit/util-service-support/dist/esm/index.js"),o=r("./node_modules/@atlassian/product-search-dialog/dist/esm/common/clients/timing.js");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void r(u)}s.done?t(c):Promise.resolve(c).then(n,o)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){s(i,n,o,a,c,"next",e)}function c(e){s(i,n,o,a,c,"throw",e)}a(void 0)}))}}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(){function e(t){var r=t.url,n=t.cloudId;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"serviceConfig",void 0),l(this,"cloudId",void 0),this.serviceConfig={url:r},this.cloudId=n}return function(e,t,r){t&&u(e.prototype,t),r&&u(e,r)}(e,[{key:"getAbTestData",value:function(){var t=c(regeneratorRuntime.mark((function t(r,n){var o,i,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={cloudId:this.cloudId,scopes:[r],experience:n},t.next=3,this.makeRequest(e.EXPERIMENT_URL_PATH,o);case 3:return i=t.sent,a=i.scopes.find((function(e){return e.id===r})),s=a?Promise.resolve(a.abTest):Promise.resolve(null),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}()},{key:"getProductPermissions",value:function(){var t=c(regeneratorRuntime.mark((function t(r,n){var o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==r.length){t.next=2;break}return t.abrupt("return",Promise.resolve(r));case 2:return t.prev=2,t.next=5,this.makeRequest(e.SCOPES_API_URL,{cloudId:this.cloudId,productIds:r.map((function(e){return e.toLowerCase()})),experience:n});case 5:return o=t.sent,i=Object.keys(o.products),t.abrupt("return",Promise.resolve(i.filter((function(e){return o.products[e].length>0})).map((function(e){return e.toUpperCase()}))));case 10:return t.prev=10,t.t0=t.catch(2),t.abrupt("return",Promise.resolve([]));case 13:case"end":return t.stop()}}),t,this,[[2,10]])})));return function(e,r){return t.apply(this,arguments)}}()},{key:"search",value:function(){var t=c(regeneratorRuntime.mark((function t(r){var n,i,s,c,u,l,p,f,d,y,m,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.query,i=r.context,s=r.scopes,c=r.modelParams,u=r.resultLimit,l=r.filters,p=void 0===l?[]:l,f=r.experience,d=a(a({query:n,cloudId:this.cloudId,limit:u,scopes:s,filters:p,searchSession:i},c.length>0?{modelParams:c}:{}),{},{experience:f}),t.next=4,Object(o.a)(this.makeRequest(e.QUICKSEARCH_API_URL,d));case 4:return y=t.sent,m=y.result,h=y.durationMs,t.abrupt("return",{response:{rawData:m,retrieveScope:function(e){return m.scopes.find((function(t){return t.id===e}))||null}},requestDurationMs:h});case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"makeRequest",value:function(){var e=c(regeneratorRuntime.mark((function e(t,r){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={path:t,requestInit:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}},e.next=3,n.b.requestService(this.serviceConfig,o);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}();l(p,"EXPERIMENT_URL_PATH","experiment/v1"),l(p,"QUICKSEARCH_API_URL","quicksearch/v1"),l(p,"SCOPES_API_URL","scopes/v1")},"./node_modules/@atlassian/product-search-dialog/dist/esm/common/clients/collaboration-graph-client/collaboration-graph-client.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return f})),r.d(t,"a",(function(){return d}));var n=r("./node_modules/@atlaskit/activity-provider/node_modules/@atlaskit/util-service-support/dist/esm/index.js"),o=r("./node_modules/@atlassian/product-search-dialog/dist/esm/common/clients/timing.js"),i=r("./node_modules/@atlassian/product-search-dialog/dist/esm/utils/simple-cache.js");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void r(u)}s.done?t(c):Promise.resolve(c).then(n,o)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){c(i,n,o,a,s,"next",e)}function s(e){c(i,n,o,a,s,"throw",e)}a(void 0)}))}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=10,d=function(){function e(t){var r=this,n=t.collaborationGraphUrl,o=t.cloudId;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,"serviceConfig",void 0),p(this,"cloudId",void 0),p(this,"spacesCache",void 0),p(this,"usersCache",void 0),p(this,"getContainers",(function(e){return r.spacesCache.get(e).value})),p(this,"getUsers",(function(){return r.usersCache.get().value})),p(this,"getContainersSupplier",function(){var t=u(regeneratorRuntime.mark((function t(n){var o,i,a,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={containerTypes:n,context:{principalId:"context",siteId:r.cloudId,contextType:"quickSearch"},maxNumberOfResults:f,userId:"context",expanded:!0},t.next=3,r.makeRequest(e.CONTAINER_URL_PATH,o);case 3:return i=t.sent,a=i.result,c=i.durationMs,t.abrupt("return",s(s({},a),{},{timings:c}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),p(this,"getUsersSupplier",u(regeneratorRuntime.mark((function t(){var n,o,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={context:{principalId:"context",siteId:r.cloudId,contextType:"quickSearch"},maxNumberOfResults:f,userId:"context",expanded:!0},t.next=3,r.makeRequest(e.USER_URL_PATH,n);case 3:return o=t.sent,i=o.result,a=o.durationMs,t.abrupt("return",s(s({},i),{},{timings:a}));case 7:case"end":return t.stop()}}),t)})))),this.serviceConfig={url:n},this.cloudId=o,this.spacesCache=new i.a(this.getContainersSupplier),this.usersCache=new i.a(this.getUsersSupplier)}return function(e,t,r){t&&l(e.prototype,t),r&&l(e,r)}(e,[{key:"makeRequest",value:function(){var e=u(regeneratorRuntime.mark((function e(t,r){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={path:t,requestInit:{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)}},e.abrupt("return",Object(o.a)(n.b.requestService(this.serviceConfig,i)));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}();p(d,"CONTAINER_URL_PATH","v1/collaborationgraph/user/container"),p(d,"USER_URL_PATH","v1/collaborationgraph/user/user")},"./node_modules/@atlassian/product-search-dialog/dist/esm/common/clients/common-types.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return o}));var n="confluenceSpace",o="jiraProject"},"./node_modules/@atlassian/product-search-dialog/dist/esm/common/clients/error-handler.js":function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){var t="undefined",r=e.message?e.message:e;if(r&&(t=String(r),"object"===n(r)))try{t=JSON.stringify(e)}catch(o){}return new Error(t)}r.d(t,"a",(function(){return o}))},"./node_modules/@atlassian/product-search-dialog/dist/esm/common/clients/timing.js":function(e,t,r){"use strict";function n(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void r(u)}s.done?t(c):Promise.resolve(c).then(n,o)}r.d(t,"a",(function(){return o}));var o=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var a=e.apply(t,r);function s(e){n(a,o,i,s,c,"next",e)}function c(e){n(a,o,i,s,c,"throw",e)}s(void 0)}))}}(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Date.now(),e.next=3,t;case 3:return n=e.sent,o=Date.now()-r,e.abrupt("return",{result:n,durationMs:o});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"./node_modules/@atlassian/product-search-dialog/dist/esm/common/product-context/product-context.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return c})),r.d(t,"e",(function(){return u})),r.d(t,"d",(function(){return l})),r.d(t,"c",(function(){return p}));var n,o=r("./node_modules/react/index.js"),i=r.n(o),a=r("./node_modules/@atlaskit/atlassian-navigation/node_modules/@emotion/core/dist/core.browser.esm.js");!function(e){e.jira="JIRA",e.confluence="CONFLUENCE"}(n||(n={}));var s=i.a.createContext({products:[],activeIndex:0}),c=function(e){var t=e.children,r=e.products,n=e.activeIndex,o=void 0===n?0:n;return Object(a.f)(s.Provider,{value:{products:r,activeIndex:Math.min(r.length-1,Math.max(0,o))}},t)},u=function(){return Object(o.useContext)(s).products},l=function(){return Object(o.useContext)(s).products[0]},p=function(){var e=Object(o.useContext)(s);return e.products[e.activeIndex]}},"./node_modules/@atlassian/product-search-dialog/dist/esm/confluence/clients/confluence-search-client.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var n=r("./node_modules/@atlassian/product-search-dialog/dist/esm/common/clients/base-search-client.js"),o=r("./node_modules/@atlassian/product-search-dialog/dist/esm/common/clients/error-handler.js"),i=r("./node_modules/@atlassian/product-search-dialog/dist/esm/confluence/clients/response-types.js"),a=r("./node_modules/@atlassian/product-search-dialog/dist/esm/utils/cancellable-promise.js"),s=r("./node_modules/@atlassian/product-search-dialog/dist/esm/utils/simple-cache.js");function c(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void r(u)}s.done?t(c):Promise.resolve(c).then(n,o)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){c(i,n,o,a,s,"next",e)}function s(e){c(i,n,o,a,s,"throw",e)}a(void 0)}))}}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=Promise.resolve({items:[],timings:0}),m=function(){function e(t,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"aggregatorClient",void 0),d(this,"collaborationGraphClient",void 0),d(this,"isCollabGraphEnabled",void 0),d(this,"isUserAnonymous",void 0),d(this,"bootstrapPeopleCache",void 0),d(this,"abTestDataCache",null),d(this,"permissionsDataCache",null),d(this,"searchWithFilters",(function(t,r,n,s){var c,u=[i.m.ConfluencePageBlogAttachment],l=[],p=null,f=null;r.forEach((function(e){switch(e.type){case"space":p||(p={"@type":"spaces",spaceKeys:[]},l.push(p)),p.spaceKeys.push(e.id);break;case"contributor":f||(f={"@type":"contributors",accountIds:[]},l.push(f)),f.accountIds.push(e.id)}}));var m=o.aggregatorClient.search({query:t,context:n,scopes:u,modelParams:s,resultLimit:e.ITEM_RESULT_LIMIT,filters:l,experience:"confluence.nav-v3"});return d(c={},i.m.ConfluencePageBlogAttachment,a.a.from(m.then((function(e){var t=e.response,r=e.requestDurationMs;return o.mapConfItem(t.retrieveScope(i.m.ConfluencePageBlogAttachment),r)})))),d(c,i.m.ConfluenceSpace,a.a.from(y)),d(c,i.m.People,a.a.from(y)),c})),d(this,"recentPeopleSupplier",(function(t){return o.isUserAnonymous?Promise.resolve({items:[],timings:0}):o.isCollabGraphEnabled?o.collaborationGraphClient.getUsers().then((function(e){return o.mapCollabGraphPeople(e)})):o.aggregatorClient.search({query:"",context:t,scopes:[i.m.UserConfluence],modelParams:[],resultLimit:e.PEOPLE_RESULT_LIMIT,experience:"confluence.nav-v3"}).then((function(e){var t=e.response,r=e.requestDurationMs;return o.mapUrsPeople(t.retrieveScope(i.m.UserConfluence),r)}))})),this.aggregatorClient=new n.a(t),this.isUserAnonymous=t.isUserAnonymous,this.bootstrapPeopleCache=new s.a(this.recentPeopleSupplier),this.collaborationGraphClient=r,this.isCollabGraphEnabled=t.isCollaborationGraphEnabled}return function(e,t,r){t&&f(e.prototype,t),r&&f(e,r)}(e,[{key:"search",value:function(t,r,n,o){var s,c=this,u=[{"@type":"queryParams",queryVersion:o}];if(r.length>0)return this.searchWithFilters(t,r,n,u);var l=[i.m.ConfluencePageBlogAttachment,i.m.ConfluenceSpace,i.m.People],p=this.aggregatorClient.search({query:t,context:n,scopes:l,modelParams:u,resultLimit:e.ITEM_RESULT_LIMIT,filters:[],experience:"confluence.nav-v3"});return d(s={},i.m.ConfluencePageBlogAttachment,a.a.from(p.then((function(e){var t=e.response,r=e.requestDurationMs;return c.mapConfItem(t.retrieveScope(i.m.ConfluencePageBlogAttachment),r)})))),d(s,i.m.ConfluenceSpace,a.a.from(p.then((function(e){var t=e.response,r=e.requestDurationMs;return c.mapConfSpace(t.retrieveScope(i.m.ConfluenceSpace),r)})))),d(s,i.m.People,a.a.from(p.then((function(e){var t=e.response,r=e.requestDurationMs;return c.mapCpusPeople(t.retrieveScope(i.m.People),r)})))),s}},{key:"searchSpaces",value:function(t,r){var n=this,o=[i.m.ConfluenceSpace],s=this.aggregatorClient.search({query:t,context:r,scopes:o,modelParams:[],resultLimit:e.SPACE_RESULT_LIMIT,filters:[],experience:"confluence.nav-v3"});return a.a.from(s.then((function(e){var t=e.response,r=e.requestDurationMs;return n.mapConfSpace(t.retrieveScope(i.m.ConfluenceSpace),r)})))}},{key:"searchUsers",value:function(t,r){var n=this,o=[i.m.People],s=this.aggregatorClient.search({query:t,context:r,scopes:o,modelParams:[],resultLimit:e.PEOPLE_RESULT_LIMIT,filters:[],experience:"confluence.nav-v3"});return a.a.from(s.then((function(e){var t=e.response,r=e.requestDurationMs;return n.mapCpusPeople(t.retrieveScope(i.m.People),r)})))}},{key:"getRecentPeople",value:function(e){var t=this.bootstrapPeopleCache.get(e),r=t.fromCache,n=t.value;return new a.a(n.then((function(e){return p(p({},e),{},{isCached:r})})))}},{key:"getProductPermissions",value:function(){var e=u(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.permissionsDataCache){e.next=4;break}return e.next=3,this.aggregatorClient.getProductPermissions(t,"confluence.nav-v3");case 3:this.permissionsDataCache=e.sent;case 4:return e.abrupt("return",this.permissionsDataCache);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAbTestData",value:function(){var e=u(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.abTestDataCache){e.next=2;break}return e.abrupt("return",this.abTestDataCache);case 2:return e.next=4,this.aggregatorClient.getAbTestData(i.m.ConfluencePageBlogAttachment,"confluence.nav-v3");case 4:return t=e.sent,this.abTestDataCache=t,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mapConfItem",value:function(e,t){if(!e)throw new Error("Expected a response but did not get any for scope: ".concat(i.m.ConfluencePageBlogAttachment));if(e.error)throw Object(o.a)(e.error);function r(e){return e.replace(/@@@hl@@@|@@@endhl@@@/g,"")}return{items:e.results.map((function(e){return{resultId:e.content.id,name:r(e.title),href:"".concat(e.baseUrl).concat(e.url),containerName:e.container.title,analyticsType:i.k,contentType:"confluence-".concat(e.content.type),resultType:i.c,containerId:e.content.space&&e.content.space.id?e.content.space.id:"UNAVAILABLE",iconClass:e.iconCssClass,lastModified:e.lastModified,isRecentResult:!1}})),totalSize:void 0!==e.size?e.size:e.results.length,timings:t}}},{key:"mapUrsPeople",value:function(e,t){if(!e)throw new Error("Expected a response but did not get any for scope: ".concat(i.m.UserConfluence));if(e.error)throw Object(o.a)(e.error);return{items:e.results.map((function(e){return{resultType:i.h,resultId:"people-".concat(e.id),userId:e.id,name:e.name,href:"/people/".concat(e.id),avatarUrl:e.avatarUrl,contentType:i.g,analyticsType:i.l,mentionName:e.nickname||"",presenceMessage:""}})),timings:t}}},{key:"mapCpusPeople",value:function(e,t){if(!e)throw new Error("Expected a response but did not get any for scope: ".concat(i.m.People));if(e.error)throw Object(o.a)(e.error);return{items:e.results.map((function(e){var t=e.nickname||e.name;return{resultType:i.h,resultId:"people-".concat(e.account_id),userId:e.account_id,name:e.name,href:"/people/".concat(e.account_id),avatarUrl:e.picture,contentType:i.g,analyticsType:i.l,mentionName:t,presenceMessage:e.job_title||""}})),timings:t}}},{key:"mapCollabGraphPeople",value:function(e){return{items:e.collaborationGraphEntities.map((function(e){return{resultId:e.userProfile.account_id,userId:e.userProfile.account_id,name:e.userProfile.name,href:e.userProfile.name,analyticsType:i.j,mentionName:e.userProfile.name,presenceMessage:e.userProfile.name,resultType:i.h,avatarUrl:e.userProfile.picture,contentType:i.g}})),timings:e.timings}}},{key:"mapConfSpace",value:function(e,t){if(!e)throw new Error("Expected a response but did not get any for scope: ".concat(i.m.ConfluenceSpace));if(e.error)throw Object(o.a)(e.error);return{items:e.results.map((function(e){return{resultId:"space-".concat(e.space.key),avatarUrl:"".concat(e.baseUrl).concat(e.space.icon.path),name:e.container.title,href:"".concat(e.baseUrl||"").concat(e.container.displayUrl),analyticsType:i.k,resultType:i.f,contentType:i.e,key:e.space.key}})),timings:t}}}]),e}();d(m,"ITEM_RESULT_LIMIT",30),d(m,"SPACE_RESULT_LIMIT",10),d(m,"PEOPLE_RESULT_LIMIT",10)},"./node_modules/@atlassian/product-search-dialog/dist/esm/confluence/clients/confluence-search-provider.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return D})),r.d(t,"b",(function(){return F}));var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/@atlassian/product-search-dialog/dist/esm/confluence/clients/confluence-search-client.js"),a=r("./node_modules/@atlaskit/adf-schema/node_modules/memoize-one/dist/memoize-one.esm.js"),s=r("./node_modules/deep-equal/index.js"),c=r.n(s),u=r("./node_modules/@atlaskit/activity-provider/node_modules/@atlaskit/util-service-support/dist/esm/index.js"),l=r("./node_modules/@atlassian/product-search-dialog/dist/esm/common/clients/timing.js"),p=r("./node_modules/@atlassian/product-search-dialog/dist/esm/utils/cancellable-promise.js"),f=r("./node_modules/@atlassian/product-search-dialog/dist/esm/utils/simple-cache.js"),d=r("./node_modules/@atlassian/product-search-dialog/dist/esm/confluence/clients/response-types.js"),y=r("./node_modules/@atlassian/product-search-dialog/dist/esm/common/clients/common-types.js");function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void r(u)}s.done?t(c):Promise.resolve(c).then(n,o)}function b(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){v(i,n,o,a,s,"next",e)}function s(e){v(i,n,o,a,s,"throw",e)}a(void 0)}))}}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var P=function(){function e(t,r){var n=this,o=t.url,i=t.isCollaborationGraphEnabled;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),j(this,"baseUrl",void 0),j(this,"serviceConfig",void 0),j(this,"recentItemCache",void 0),j(this,"recentSpaceCache",void 0),j(this,"isCollabGraphEnabled",void 0),j(this,"collaborationGraphClient",void 0),j(this,"recentItemsSupplier",b(regeneratorRuntime.mark((function e(){var t,r,o,i,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.serviceConfig.url,r=n.createRecentRequestPromise("rest/recentlyviewed/1.0/recent"),e.next=4,r;case 4:return o=e.sent,i=o.result,a=o.durationMs,s=i.filter((function(e){return!!e.title})).map((function(e){return w(e,t)})),e.abrupt("return",{items:s,totalSize:s.length,timings:a});case 9:case"end":return e.stop()}}),e)})))),j(this,"recentSpacesSupplier",(function(){return n.isCollabGraphEnabled?n.collaborationGraphClient.getContainers([y.b]).then((function(e){return function(e,t){return{items:e.collaborationGraphEntities.map((function(e){return{id:e.containerDetails.id,key:e.containerDetails.key,icon:e.containerDetails.iconUrl,name:e.containerDetails.name}})).map((function(e){return O(e,t)})),timings:e.timings}}(e,n.baseUrl)})):n.createRecentRequestPromise("rest/recentlyviewed/1.0/recent/spaces").then((function(e){var t=e.result,r=e.durationMs;return{items:t.map((function(e){return O(e,n.baseUrl)})),timings:r}}))})),this.serviceConfig={url:o},this.baseUrl=o,this.recentItemCache=new f.a(this.recentItemsSupplier),this.recentSpaceCache=new f.a(this.recentSpacesSupplier),this.collaborationGraphClient=r,this.isCollabGraphEnabled=i}return function(e,t,r){t&&g(e.prototype,t),r&&g(e,r)}(e,[{key:"getRecent",value:function(e){var t=e.get(),r=t.fromCache,n=t.value;return p.a.from(n.then((function(e){return h(h({},e),{},{isCached:r})})))}},{key:"getRecentItems",value:function(){return this.getRecent(this.recentItemCache)}},{key:"getRecentSpaces",value:function(){return this.getRecent(this.recentSpaceCache)}},{key:"createRecentRequestPromise",value:function(e){var t={path:e},r=u.b.requestService(this.serviceConfig,t);return Object(l.a)(r)}}]),e}();function w(e,t){return{resultId:String(e.id),name:e.title||"",href:"".concat(t).concat(e.url),containerName:e.space,analyticsType:d.i,resultType:d.c,contentType:"confluence-".concat(e.contentType),iconClass:e.iconClass,containerId:e.spaceKey,isRecentResult:!0,lastModified:void 0}}function O(e,t){return{resultId:e.id,name:e.name,key:e.key,href:"".concat(t,"/spaces/").concat(e.key),avatarUrl:e.icon,analyticsType:d.i,resultType:d.f,contentType:d.e}}var S=r("./node_modules/@atlassian/product-search-dialog/dist/esm/common/clients/collaboration-graph-client/collaboration-graph-client.js"),_=r("./node_modules/@atlaskit/atlassian-navigation/node_modules/@emotion/core/dist/core.browser.esm.js");function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var x={collaborationGraphUrl:"gateway/api/collaboration",useCollaborationGraphForRecents:!1},R=Object(a.default)((function(e,t){return new i.a(e,t)}),c.a),A=Object(a.default)((function(e,t){return new P(e,t)}),c.a),k=Object(a.default)((function(e){return new S.a({collaborationGraphUrl:e.collaborationGraphUrl,cloudId:e.cloudId})}),c.a),T=o.a.createContext({}),U=new Error("Could not find all required Clients, make sure ConfluenceClientsProvider is created further up the tree"),D=function(e){var t=e.children,r=e.config,n=C(C({},x),r),o=n.baseUrl,i=n.cloudId,a=n.collaborationGraphUrl,s=n.aggregatorUrl,c=n.isUserAnonymous,u=n.useCollaborationGraphForRecents,l=k({collaborationGraphUrl:a,cloudId:i});return Object(_.f)(T.Provider,{value:{searchClient:R({isUserAnonymous:c,url:s,cloudId:i,isCollaborationGraphEnabled:u},l),recentClient:A({url:o,isCollaborationGraphEnabled:u},l),collabGraphClient:l,cloudId:i}},t)},F=function(){var e=o.a.useContext(T);if(!e.searchClient||!e.recentClient)throw U;return e}},"./node_modules/@atlassian/product-search-dialog/dist/esm/confluence/clients/response-types.js":function(e,t,r){"use strict";var n;r.d(t,"m",(function(){return n})),r.d(t,"f",(function(){return o})),r.d(t,"h",(function(){return i})),r.d(t,"c",(function(){return a})),r.d(t,"i",(function(){return s})),r.d(t,"k",(function(){return c})),r.d(t,"j",(function(){return u})),r.d(t,"l",(function(){return l})),r.d(t,"d",(function(){return p})),r.d(t,"b",(function(){return f})),r.d(t,"a",(function(){return d})),r.d(t,"e",(function(){return y})),r.d(t,"g",(function(){return m})),function(e){e.ConfluencePageBlogAttachment="confluence.page,blogpost,attachment",e.ConfluencePageBlog="confluence.page,blogpost",e.ConfluenceSpace="confluence.space",e.People="cpus.user",e.UserConfluence="urs.user-confluence"}(n||(n={}));var o="generic-container-result",i="person-result",a="confluence-object-result",s="recent-confluence",c="result-confluence",u="recent-person",l="result-person",p="confluence-page",f="confluence-blogpost",d="confluence-attachment",y="confluence-space",m="person"},"./node_modules/@atlassian/product-search-dialog/dist/esm/jira/clients/jira-current-user-client.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return v}));var n=r("./node_modules/react/index.js"),o=r("./node_modules/@atlaskit/activity-provider/node_modules/@atlaskit/util-service-support/dist/esm/index.js"),i=r("./node_modules/@atlassian/product-search-dialog/dist/esm/common/clients/timing.js"),a=r("./node_modules/@atlassian/product-search-dialog/dist/esm/utils/simple-cache.js"),s=r("./node_modules/@atlassian/product-search-dialog/dist/esm/jira/clients/jira-search-provider.js");function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(c){o=!0,i=c}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void r(u)}s.done?t(c):Promise.resolve(c).then(n,o)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){f(i,n,o,a,s,"next",e)}function s(e){f(i,n,o,a,s,"throw",e)}a(void 0)}))}}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(){function e(t){var r=this,n=t.accountId,o=t.baseUrl;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,"serviceConfig",void 0),m(this,"currentUserCache",void 0),m(this,"accountId",void 0),m(this,"getCurrentUser",(function(){return r.currentUserCache.get().value})),m(this,"getUserSupplier",d(regeneratorRuntime.mark((function e(){var t,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.makeRequest("/rest/api/3/user");case 2:return t=e.sent,n=t.result,o=t.durationMs,e.abrupt("return",p(p({},n),{},{timings:o}));case 6:case"end":return e.stop()}}),e)})))),this.serviceConfig={url:o},this.accountId=n,this.currentUserCache=new a.a(this.getUserSupplier)}return function(e,t,r){t&&y(e.prototype,t),r&&y(e,r)}(e,[{key:"makeRequest",value:function(){var e=d(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={path:t,queryParams:{accountId:this.accountId,expand:"applicationRoles"}},e.abrupt("return",Object(i.a)(o.b.requestService(this.serviceConfig,r)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object(n.useState)(!1),o=c(r,2),i=o[0],a=o[1],u=Object(n.useState)(t),l=c(u,2),p=l[0],f=l[1],d=Object(s.b)(),y=d.currentUserClient;return Object(n.useEffect)((function(){if(e&&!i){var t=!0;return null==y||y.getCurrentUser().then((function(e){t&&!i&&(f({id:e.accountId,name:e.displayName,avatarUrl:e.avatarUrls["24x24"],email:e.emailAddress,hasSoftwareAccess:e.applicationRoles.items.some((function(e){return"jira-software"===e.key}))}),a(!0))})).catch((function(){})),function(){t=!1}}}),[y,i,e]),p}},"./node_modules/@atlassian/product-search-dialog/dist/esm/jira/clients/jira-search-client.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var n=r("./node_modules/@atlassian/product-search-dialog/dist/esm/common/clients/base-search-client.js"),o=r("./node_modules/@atlassian/product-search-dialog/dist/esm/common/clients/error-handler.js"),i=r("./node_modules/@atlassian/product-search-dialog/dist/esm/jira/clients/response-types.js"),a=r("./node_modules/@atlassian/product-search-dialog/dist/esm/utils/cancellable-promise.js"),s=r("./node_modules/@atlassian/product-search-dialog/dist/esm/utils/simple-cache.js"),c=r("./node_modules/@atlassian/product-search-dialog/dist/esm/utils/safety.js");function u(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void r(u)}s.done?t(c):Promise.resolve(c).then(n,o)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){u(i,n,o,a,s,"next",e)}function s(e){u(i,n,o,a,s,"throw",e)}a(void 0)}))}}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,"abTestDataCache",null),y(this,"permissionsDataCache",null),y(this,"aggregatorClient",void 0),y(this,"recentIssuesCache",void 0),y(this,"recentPeopleCache",void 0),y(this,"recentBoardsProjectsFiltersCache",void 0),y(this,"recentPlansCache",void 0),y(this,"recentProjectsCache",void 0),y(this,"isUserAnonymous",void 0),y(this,"interleaveRecentBoardsProjectsFiltersPlans",(function(t,r){for(var n=r.timings>t.timings?r.timings:t.timings,o=t.items;o.length>e.PROJECT_BOARD_FILTER_PLAN_LIMIT-2;)o.pop();for(;o.length<e.PROJECT_BOARD_FILTER_PLAN_LIMIT&&r.items.length>0;){var i=r.items.shift();i&&o.push(i)}return{timings:n,items:o,totalSize:o.length}})),y(this,"search",(function(t,n,o,a,s){var c=r.searchForScope(t,n,o,[i.c.JiraIssue],e.ITEM_RESULT_LIMIT,!1,a),u=s?[i.c.JiraBoardProjectFilterPlan]:[i.c.JiraBoardProjectFilter],l=s?e.PROJECT_BOARD_FILTER_PLAN_LIMIT:e.PROJECT_BOARD_FILTER_LIMIT,p=0===n.length?r.searchForScope(t,n,o,u,l,!1,a):{};return f(f({},c),p)})),this.aggregatorClient=new n.a(t),this.recentPeopleCache=new s.a((function(e){return r.searchForPeopleScope("",e,!0)})),this.recentIssuesCache=new s.a(function(){var t=l(regeneratorRuntime.mark((function t(n){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r.searchForScope("",[],n,[i.c.JiraIssue],e.ITEM_RESULT_LIMIT,!0)[i.c.JiraIssue]){t.next=3;break}throw new Error("Failed to retrieve recent results for scope ".concat(i.c.JiraIssue));case 3:return t.abrupt("return",o.promise());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.recentBoardsProjectsFiltersCache=new s.a(function(){var t=l(regeneratorRuntime.mark((function t(n){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r.searchForScope("",[],n,[i.c.JiraBoardProjectFilter],e.PROJECT_BOARD_FILTER_PLAN_LIMIT,!0)[i.c.JiraBoardProjectFilter]){t.next=3;break}throw new Error("Failed to retrieve recent results for scope ".concat(i.c.JiraBoardProjectFilter));case 3:return t.abrupt("return",o.promise());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.recentPlansCache=new s.a(function(){var t=l(regeneratorRuntime.mark((function t(n){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r.searchForScope("",[],n,[i.c.JiraPlan],e.PROJECT_BOARD_FILTER_PLAN_LIMIT,!0)[i.c.JiraPlan]){t.next=3;break}throw new Error("Failed to retrieve recent results for scope ".concat(i.c.JiraPlan));case 3:return t.abrupt("return",o.promise());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.recentProjectsCache=new s.a(function(){var t=l(regeneratorRuntime.mark((function t(n){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r.searchForScope("",[],n,[i.c.JiraProject],e.PROJECT_RESULT_LIMIT,!0)[i.c.JiraProject]){t.next=3;break}throw new Error("Failed to retrieve recent results for scope ".concat(i.c.JiraProject));case 3:return t.abrupt("return",o.promise());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.isUserAnonymous=t.isUserAnonymous}return function(e,t,r){t&&d(e.prototype,t),r&&d(e,r)}(e,[{key:"getRecent",value:function(e,t){var r=e.get(t),n=r.fromCache,o=r.value;return a.a.from(o.then((function(e){return f(f({},e),{},{isCached:n})})))}},{key:"getRecentBoardsProjectsFiltersPlansInterleaved",value:function(e){var t=this,r=this.recentBoardsProjectsFiltersCache.get(e),n=r.fromCache,o=r.value,i=this.recentPlansCache.get(e),s=i.fromCache,c=i.value;return a.a.from(Promise.all([o,c]).then((function(e){return f(f({},t.interleaveRecentBoardsProjectsFiltersPlans(e[0],e[1])),{},{isCached:s&&n})})))}},{key:"getRecentIssues",value:function(e){return this.getRecent(this.recentIssuesCache,e)}},{key:"getRecentPlans",value:function(e){return this.getRecent(this.recentPlansCache,e)}},{key:"getRecentProjects",value:function(e){return this.getRecent(this.recentProjectsCache,e)}},{key:"getRecentBoardsProjectsFilters",value:function(e){return this.getRecent(this.recentBoardsProjectsFiltersCache,e)}},{key:"getRecentBoardsProjectsFiltersPlans",value:function(e){return this.getRecentBoardsProjectsFiltersPlansInterleaved(e)}},{key:"getProductPermissions",value:function(){var e=l(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.permissionsDataCache){e.next=4;break}return e.next=3,this.aggregatorClient.getProductPermissions(t,"jira.nav-v3");case 3:this.permissionsDataCache=e.sent;case 4:return e.abrupt("return",this.permissionsDataCache);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAbTestData",value:function(){var e=l(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.abTestDataCache){e.next=2;break}return e.abrupt("return",this.abTestDataCache);case 2:return e.next=4,this.aggregatorClient.getAbTestData(i.c.JiraIssue,"jira.nav-v3");case 4:return t=e.sent,this.abTestDataCache=t,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getRecentPeople",value:function(e){return this.getRecent(this.recentPeopleCache,e)}},{key:"searchPeople",value:function(e,t){return a.a.from(this.searchForPeopleScope(e,t,!1))}},{key:"searchForPeopleScope",value:function(t,r,n,o){if(this.isUserAnonymous)return Promise.resolve({items:[],timings:0,totalSize:0});var a=this.searchForScope(t,[],r,[i.c.People],e.PEOPLE_RESULT_LIMIT,n,o)[i.c.People];if(!a)throw new Error("Failed to retrieve results for scope ".concat(i.c.People));return a.promise()}},{key:"searchProjects",value:function(t,r){var n=this.searchForScope(t,[],r,[i.c.JiraProject],e.ITEM_RESULT_LIMIT,!1)[i.c.JiraProject];if(!n)throw new Error("Failed to retrieve results for scope ".concat(i.c.JiraProject));return n}},{key:"searchForScope",value:function(e,t,r,n,s,c,u){var l=u?[{"@type":"queryParams",queryVersion:u}]:[],p=[],d=null,m=null;t.forEach((function(e){switch(e.type){case"project":d||(d={"@type":"projects",projectIds:[]},p.push(d)),d.projectIds.push(e.id);break;case"assignee":m||(m={"@type":"assignees",accountIds:[]},p.push(m)),m.accountIds.push(e.id)}}));var v=this.aggregatorClient.search({query:e,context:r,scopes:n,modelParams:l,resultLimit:s,filters:p,experience:"jira.nav-v3"});return n.reduce((function(e,t){return f(f({},e),{},y({},t,a.a.from(v.then((function(e){var r=e.response,n=e.requestDurationMs,a=r.retrieveScope(t);if(!a)throw new Error("Expected a response but did not get any for scope: ".concat(t));if(a.error)throw Object(o.a)(a.error);return t===i.c.JiraIssue?function(e,t,r){var n=e.results,o=e.size;return{items:n.map((function(e){if(e.attributes["@type"]!==i.a.issue)throw new Error("Encountered incorrect result data shape.");return{resultId:e.id,name:e.name,href:e.url,contentType:i.b.JiraIssue,attributes:f(f({},e.attributes),{},{isRecentResult:t}),isCached:t}})),timings:r,totalSize:o||n.length}}(a,c,n):t===i.c.JiraPlan?function(e,t,r){if(!e)throw new Error("Expected a response but did not get any for scope: ".concat(i.c.JiraPlan));return{items:e.map((function(e){return{resultId:e.id,name:e.name,href:e.url,contentType:i.b.JiraPlan,attributes:e.attributes,isCached:t}})),timings:r,totalSize:e.length}}(a.results,c,n):t===i.c.JiraBoardProjectFilter||t===i.c.JiraBoardProjectFilterPlan?h(a.results,c,n):t===i.c.JiraProject?function(e,t,r){if(!e)throw new Error("Expected a response but did not get any for scope: ".concat(i.c.JiraProject));return{items:e.map((function(e){return{resultId:e.id,name:e.name,href:e.url,contentType:i.b.JiraProject,attributes:e.attributes,isCached:t}})),timings:r,totalSize:e.length}}(a.results,c,n):t===i.c.People?function(e,t,r){if(!e)throw new Error("Expected a response but did not get any for scope: ".concat(i.c.People));return{items:e.map((function(e){return{resultId:e.id,name:e.name,href:"/jira/people/".concat(e.id),contentType:i.b.JiraPeople,attributes:{"@type":i.a.people,avatarUrl:e.avatarUrl,userId:e.id},isCached:t}})),timings:r,totalSize:e.length}}(a.results,c,n):void 0})))))}),{})}}]),e}();function h(e,t,r){return{items:e.map((function(e){if(![i.a.board,i.a.project,i.a.filter,i.a.plan].includes(e.attributes["@type"]))throw new Error("Encountered incorrect result data shape.");var r=function(e){switch(e){case i.a.issue:return i.b.JiraIssue;case i.a.project:return i.b.JiraProject;case i.a.board:return i.b.JiraBoard;case i.a.filter:return i.b.JiraFilter;case i.a.plan:return i.b.JiraPlan;case i.a.people:return i.b.JiraPeople;default:throw new c.a(e)}}(e.attributes["@type"]);return{resultId:e.id,name:e.name,href:e.url,contentType:r,attributes:e.attributes,isCached:t}})),timings:r,totalSize:e.length}}y(m,"ITEM_RESULT_LIMIT",30),y(m,"PROJECT_BOARD_FILTER_LIMIT",6),y(m,"PROJECT_BOARD_FILTER_PLAN_LIMIT",8),y(m,"PROJECT_RESULT_LIMIT",10),y(m,"PEOPLE_RESULT_LIMIT",10)},"./node_modules/@atlassian/product-search-dialog/dist/esm/jira/clients/jira-search-provider.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return h}));var n=r("./node_modules/react/index.js"),o=r("./node_modules/deep-equal/index.js"),i=r.n(o),a=r("./node_modules/@atlaskit/adf-schema/node_modules/memoize-one/dist/memoize-one.esm.js"),s=r("./node_modules/@atlassian/product-search-dialog/dist/esm/jira/clients/jira-current-user-client.js"),c=r("./node_modules/@atlassian/product-search-dialog/dist/esm/jira/clients/jira-search-client.js"),u=r("./node_modules/@atlassian/product-search-dialog/dist/esm/common/clients/collaboration-graph-client/collaboration-graph-client.js"),l=r("./node_modules/@atlaskit/atlassian-navigation/node_modules/@emotion/core/dist/core.browser.esm.js");var p="Jira search client has not been instantiated. This is most likely because you are missing a JiraSearchClientProvider.",f="gateway/api/collaboration",d=Object(a.default)((function(e){return new u.a({collaborationGraphUrl:e.collaborationGraphUrl,cloudId:e.cloudId})}),i.a),y=Object(n.createContext)({});function m(e){var t=e.aggregatorUrl,r=e.cloudId,o=e.isUserAnonymous,i=e.collaborationGraphUrl,a=e.children,u=e.baseUrl,p=e.accountId,m=Object(n.useMemo)((function(){return new c.a({url:t,cloudId:r,isUserAnonymous:o})}),[t,r,o]),h=d({collaborationGraphUrl:i||f,cloudId:r}),v=Object(n.useMemo)((function(){return p?new s.a({accountId:p,baseUrl:u}):void 0}),[p,u]);return Object(l.f)(y.Provider,{value:{searchClient:m,collabGraphClient:h,currentUserClient:v,cloudId:r}},a)}function h(){var e=Object(n.useContext)(y),t=e.searchClient,r=e.collabGraphClient,o=e.currentUserClient,i=e.cloudId;if(!t)throw new Error(p);return{searchClient:t,collabGraphClient:r,currentUserClient:o,cloudId:i}}},"./node_modules/@atlassian/product-search-dialog/dist/esm/jira/clients/response-types.js":function(e,t,r){"use strict";var n,o,i;function a(e){return Object.prototype.hasOwnProperty.call(e,"url")}r.d(t,"c",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return a})),r.d(t,"a",(function(){return i})),function(e){e.JiraIssue="jira.issue",e.JiraPlan="jira.plan",e.JiraBoardProjectFilter="jira.board,project,filter",e.JiraBoardProjectFilterPlan="jira.board,project,filter,plan",e.JiraProject="jira.project",e.People="urs.user-jira"}(n||(n={})),function(e){e.JiraIssue="jira-issue",e.JiraBoard="jira-board",e.JiraProject="jira-project",e.JiraFilter="jira-filter",e.JiraPlan="jira-plan",e.JiraPeople="jira-people"}(o||(o={})),function(e){e.issue="issue",e.board="board",e.project="project",e.filter="filter",e.plan="plan",e.people="people"}(i||(i={}))},"./node_modules/@atlassian/product-search-dialog/dist/esm/utils/cancellable-promise.js":function(t,r,n){"use strict";function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){var t="function"==typeof Map?new Map:void 0;return(u=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return l(e,arguments,d(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f(r,e)})(e)}function l(e,t,r){return(l=p()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&f(o,r.prototype),o}).apply(null,arguments)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(r,e);var t=function(e){var t=p();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return s(this,r)}}(r);function r(){var e;a(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return y(c(e=t.call.apply(t,[this].concat(o))),"isCancelled",!0),e}return r}(u(Error)))("Promise is cancelled"),h=function(){function e(t){var r=this;a(this,e),y(this,"cancellablePromiseInternal",void 0),y(this,"cancelInternal",(function(){throw new Error("Programming error, cancelling promise is not properly rejected")})),y(this,"promise",(function(){return r.cancellablePromiseInternal})),y(this,"cancel",(function(){return r.cancelInternal()})),this.cancellablePromiseInternal=Promise.race([t,new Promise((function(e,t){r.cancelInternal=function(){return t(m)}}))])}return function(e,t,r){t&&o(e.prototype,t),r&&o(e,r)}(e,null,[{key:"from",value:function(t){return new e(t)}}]),e}();r.a=h},"./node_modules/@atlassian/product-search-dialog/dist/esm/utils/forward-ref.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/@atlaskit/atlassian-navigation/node_modules/@emotion/core/dist/core.browser.esm.js");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s=function(e){return o.a.forwardRef((function(t,r){return Object(i.f)(e,a({},t,{forwardRef:r}))}))}},"./node_modules/@atlassian/product-search-dialog/dist/esm/utils/safety.js":function(t,r,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){var t="function"==typeof Map?new Map:void 0;return(a=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return s(e,arguments,l(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,e)})(e)}function s(e,t,r){return(s=c()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&u(o,r.prototype),o}).apply(null,arguments)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(r,"a",(function(){return p}));var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(r,e);var t=function(e){var t=c();return function(){var r,n=l(e);if(t){var o=l(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return i(this,r)}}(r);function r(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t.call(this,"Unreachable code was reachable, value: ".concat(e))}return r}(a(Error))},"./node_modules/@atlassian/product-search-dialog/dist/esm/utils/simple-cache.js":function(t,r,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}n.d(r,"a",(function(){return s}));var s=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.DEFAULT_TIMEOUT_IN_MS;o(this,t),a(this,"timeoutMs",void 0),a(this,"nextCacheRefreshTime",Date.now()),a(this,"currentValue",void 0),a(this,"supplier",void 0),this.timeoutMs=n,this.supplier=e,this.currentValue=null,r&&(this.currentValue=r,this.updateNextRefreshTime())}return function(e,t,r){t&&i(e.prototype,t),r&&i(e,r)}(t,[{key:"get",value:function(){if(!this.currentValue||Date.now()>=this.nextCacheRefreshTime){this.updateNextRefreshTime();try{var t=this.supplier.apply(this,arguments);if(this.currentValue=t,this.currentValue)return{fromCache:!1,value:this.currentValue}}catch(e){this.invalidate()}if(!this.currentValue)throw new Error("Failed to initialise a value for the cache")}return{fromCache:!0,value:this.currentValue}}},{key:"invalidate",value:function(){this.nextCacheRefreshTime=Date.now()}},{key:"updateNextRefreshTime",value:function(){this.nextCacheRefreshTime=Date.now()+this.timeoutMs}}]),t}();a(s,"DEFAULT_TIMEOUT_IN_MS",9e5)},"./node_modules/deep-equal/index.js":function(t,r,n){var o=n("./node_modules/object-keys/index.js"),i=n("./node_modules/is-arguments/index.js"),a=n("./node_modules/object-is/index.js"),s=n("./node_modules/is-regex/index.js"),c=n("./node_modules/regexp.prototype.flags/index.js"),u=n("./node_modules/is-date-object/index.js"),l=Date.prototype.getTime;function p(t,r,n){var y=n||{};return!(y.strict?!a(t,r):t!==r)||(!t||!r||"object"!=typeof t&&"object"!=typeof r?y.strict?a(t,r):t==r:function(t,r,n){var a,y;if(typeof t!=typeof r)return!1;if(f(t)||f(r))return!1;if(t.prototype!==r.prototype)return!1;if(i(t)!==i(r))return!1;var m=s(t),h=s(r);if(m!==h)return!1;if(m||h)return t.source===r.source&&c(t)===c(r);if(u(t)&&u(r))return l.call(t)===l.call(r);var v=d(t),b=d(r);if(v!==b)return!1;if(v||b){if(t.length!==r.length)return!1;for(a=0;a<t.length;a++)if(t[a]!==r[a])return!1;return!0}if(typeof t!=typeof r)return!1;try{var g=o(t),j=o(r)}catch(e){return!1}if(g.length!==j.length)return!1;for(g.sort(),j.sort(),a=g.length-1;a>=0;a--)if(g[a]!=j[a])return!1;for(a=g.length-1;a>=0;a--)if(y=g[a],!p(t[y],r[y],n))return!1;return!0}(t,r,y))}function f(e){return null==e}function d(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}t.exports=p},"./node_modules/define-properties/index.js":function(t,r,n){"use strict";var o=n("./node_modules/object-keys/index.js"),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),a=Object.prototype.toString,s=Array.prototype.concat,c=Object.defineProperty,u=c&&function(){var t={};try{for(var r in c(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(e){return!1}}(),l=function(e,t,r,n){(!(t in e)||function(e){return"function"==typeof e&&"[object Function]"===a.call(e)}(n)&&n())&&(u?c(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},p=function(e,t){var r=arguments.length>2?arguments[2]:{},n=o(t);i&&(n=s.call(n,Object.getOwnPropertySymbols(t)));for(var a=0;a<n.length;a+=1)l(e,n[a],t[n[a]],r[n[a]])};p.supportsDescriptors=!!u,t.exports=p},"./node_modules/es-abstract/GetIntrinsic.js":function(t,r,n){"use strict";var o=TypeError,i=Object.getOwnPropertyDescriptor;if(i)try{i({},"")}catch(e){i=null}var a=function(){throw new o},s=i?function(){try{return arguments.callee,a}catch(e){try{return i(arguments,"callee").get}catch(t){return a}}}():a,c=n("./node_modules/has-symbols/index.js")(),u=Object.getPrototypeOf||function(e){return e.__proto__},l=void 0,p="undefined"==typeof Uint8Array?void 0:u(Uint8Array),f={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":c?u([][Symbol.iterator]()):void 0,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":void 0,"%AsyncFunctionPrototype%":void 0,"%AsyncGenerator%":void 0,"%AsyncGeneratorFunction%":void 0,"%AsyncGeneratorPrototype%":void 0,"%AsyncIteratorPrototype%":l&&c&&Symbol.asyncIterator?l[Symbol.asyncIterator]():void 0,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":void 0,"%GeneratorFunction%":void 0,"%GeneratorPrototype%":void 0,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c?u(u([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%JSONParse%":"object"==typeof JSON?JSON.parse:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&c?u((new Map)[Symbol.iterator]()):void 0,"%MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&c?u((new Set)[Symbol.iterator]()):void 0,"%SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":c?u(""[Symbol.iterator]()):void 0,"%StringPrototype%":String.prototype,"%Symbol%":c?Symbol:void 0,"%SymbolPrototype%":c?Symbol.prototype:void 0,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":s,"%TypedArray%":p,"%TypedArrayPrototype%":p?p.prototype:void 0,"%TypeError%":o,"%TypeErrorPrototype%":o.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype},d=n("./node_modules/function-bind/index.js").call(Function.call,String.prototype.replace),y=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,m=/\\(\\)?/g,h=function(e){var t=[];return d(e,y,(function(e,r,n,o){t[t.length]=n?d(o,m,"$1"):r||e})),t},v=function(e,t){if(!(e in f))throw new SyntaxError("intrinsic "+e+" does not exist!");if(void 0===f[e]&&!t)throw new o("intrinsic "+e+" exists, but is not available. Please file an issue!");return f[e]};t.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new TypeError('"allowMissing" argument must be a boolean');for(var r=h(e),n=v("%"+(r.length>0?r[0]:"")+"%",t),a=1;a<r.length;a+=1)if(null!=n)if(i&&a+1>=r.length){var s=i(n,r[a]);if(!(t||r[a]in n))throw new o("base intrinsic for "+e+" exists, but the property is not available.");n=s?s.get||s.value:n[r[a]]}else n=n[r[a]];return n}},"./node_modules/es-abstract/helpers/callBind.js":function(e,t,r){"use strict";var n=r("./node_modules/function-bind/index.js"),o=r("./node_modules/es-abstract/GetIntrinsic.js")("%Function%"),i=o.apply,a=o.call;e.exports=function(){return n.apply(a,arguments)},e.exports.apply=function(){return n.apply(i,arguments)}},"./node_modules/function-bind/implementation.js":function(e,t,r){"use strict";var n="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,i=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==i.call(t))throw new TypeError(n+t);for(var r,a=o.call(arguments,1),s=function(){if(this instanceof r){var n=t.apply(this,a.concat(o.call(arguments)));return Object(n)===n?n:this}return t.apply(e,a.concat(o.call(arguments)))},c=Math.max(0,t.length-a.length),u=[],l=0;l<c;l++)u.push("$"+l);if(r=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var p=function(){};p.prototype=t.prototype,r.prototype=new p,p.prototype=null}return r}},"./node_modules/function-bind/index.js":function(e,t,r){"use strict";var n=r("./node_modules/function-bind/implementation.js");e.exports=Function.prototype.bind||n},"./node_modules/has-symbols/index.js":function(e,t,r){"use strict";(function(t){var n=t.Symbol,o=r("./node_modules/has-symbols/shams.js");e.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&o())))}}).call(this,r("./node_modules/webpack/buildin/global.js"))},"./node_modules/has-symbols/shams.js":function(e,t,r){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},"./node_modules/is-arguments/index.js":function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,o=Object.prototype.toString,i=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o.call(e)},a=function(e){return!!i(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==o.call(e)&&"[object Function]"===o.call(e.callee)},s=function(){return i(arguments)}();i.isLegacyArguments=a,e.exports=s?i:a},"./node_modules/is-date-object/index.js":function(t,r,n){"use strict";var o=Date.prototype.getDay,i=Object.prototype.toString,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){return"object"==typeof t&&null!==t&&(a?function(t){try{return o.call(t),!0}catch(e){return!1}}(t):"[object Date]"===i.call(t))}},"./node_modules/is-regex/index.js":function(t,r,n){"use strict";var o,i,a,s,c=n("./node_modules/has-symbols/index.js")()&&"symbol"==typeof Symbol.toStringTag;if(c){o=Function.call.bind(Object.prototype.hasOwnProperty),i=Function.call.bind(RegExp.prototype.exec),a={};var u=function(){throw a};s={toString:u,valueOf:u},"symbol"==typeof Symbol.toPrimitive&&(s[Symbol.toPrimitive]=u)}var l=Object.prototype.toString,p=Object.getOwnPropertyDescriptor;t.exports=c?function(t){if(!t||"object"!=typeof t)return!1;var r=p(t,"lastIndex");if(!(r&&o(r,"value")))return!1;try{i(t,s)}catch(e){return e===a}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===l.call(e)}},"./node_modules/object-is/index.js":function(e,t,r){"use strict";var n=function(e){return e!=e};e.exports=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!n(e)||!n(t))}},"./node_modules/object-keys/implementation.js":function(t,r,n){"use strict";var o;if(!Object.keys){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,s=n("./node_modules/object-keys/isArguments.js"),c=Object.prototype.propertyIsEnumerable,u=!c.call({toString:null},"toString"),l=c.call((function(){}),"prototype"),p=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},y=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!d["$"+t]&&i.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{f(window[t])}catch(e){return!0}}catch(e){return!0}return!1}();o=function(t){var r=null!==t&&"object"==typeof t,n="[object Function]"===a.call(t),o=s(t),c=r&&"[object String]"===a.call(t),d=[];if(!r&&!n&&!o)throw new TypeError("Object.keys called on a non-object");var m=l&&n;if(c&&t.length>0&&!i.call(t,0))for(var h=0;h<t.length;++h)d.push(String(h));if(o&&t.length>0)for(var v=0;v<t.length;++v)d.push(String(v));else for(var b in t)m&&"prototype"===b||!i.call(t,b)||d.push(String(b));if(u)for(var g=function(t){if("undefined"==typeof window||!y)return f(t);try{return f(t)}catch(e){return!1}}(t),j=0;j<p.length;++j)g&&"constructor"===p[j]||!i.call(t,p[j])||d.push(p[j]);return d}}t.exports=o},"./node_modules/object-keys/index.js":function(e,t,r){"use strict";var n=Array.prototype.slice,o=r("./node_modules/object-keys/isArguments.js"),i=Object.keys,a=i?function(e){return i(e)}:r("./node_modules/object-keys/implementation.js"),s=Object.keys;a.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return o(e)?s(n.call(e)):s(e)}):Object.keys=a;return Object.keys||a},e.exports=a},"./node_modules/object-keys/isArguments.js":function(e,t,r){"use strict";var n=Object.prototype.toString;e.exports=function(e){var t=n.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),r}},"./node_modules/regexp.prototype.flags/implementation.js":function(e,t,r){"use strict";var n=Object,o=TypeError;e.exports=function(){if(null!=this&&this!==n(this))throw new o("RegExp.prototype.flags getter called on non-object");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e}},"./node_modules/regexp.prototype.flags/index.js":function(e,t,r){"use strict";var n=r("./node_modules/define-properties/index.js"),o=r("./node_modules/es-abstract/helpers/callBind.js"),i=r("./node_modules/regexp.prototype.flags/implementation.js"),a=r("./node_modules/regexp.prototype.flags/polyfill.js"),s=r("./node_modules/regexp.prototype.flags/shim.js"),c=o(i);n(c,{getPolyfill:a,implementation:i,shim:s}),e.exports=c},"./node_modules/regexp.prototype.flags/polyfill.js":function(e,t,r){"use strict";var n=r("./node_modules/regexp.prototype.flags/implementation.js"),o=r("./node_modules/define-properties/index.js").supportsDescriptors,i=Object.getOwnPropertyDescriptor,a=TypeError;e.exports=function(){if(!o)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var e=i(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof/a/.dotAll)return e.get}return n}},"./node_modules/regexp.prototype.flags/shim.js":function(e,t,r){"use strict";var n=r("./node_modules/define-properties/index.js").supportsDescriptors,o=r("./node_modules/regexp.prototype.flags/polyfill.js"),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,c=Object.getPrototypeOf,u=/a/;e.exports=function(){if(!n||!c)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=o(),t=c(u),r=i(t,"flags");return r&&r.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},"./src/packages/navigation-apps/atlassian-navigation/src/ui/search/main.js":function(e,t,r){"use strict";r.r(t),r.d(t,"useEffectFocusOnOpenDI",(function(){return D})),r.d(t,"Search",(function(){return M}));var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/react-intl/lib/index.es.js"),a=r("./node_modules/@atlassiansox/engagekit/dist/esm/spotlight/index.js"),s=r("./node_modules/react-resource-router/build/esm/index.js"),c=r("./node_modules/@atlaskit/onboarding/dist/es2019/components/SpotlightTarget.js"),u=r("./src/packages/platform/ui/error-boundaries/src/ui/js-error-boundary/index.js"),l=r("./src/packages/platform/controllers/intl/src/index.js"),p=r("./src/packages/portfolio/services/plans-item-visibility/src/index.js"),f=r("./src/packages/platform/controllers/tenant-context/src/components/index.js"),d=r("./node_modules/@atlassian/product-search-dialog/dist/esm/common/product-search-input-skeleton/product-search-input-skeleton.js"),y=r("./node_modules/@atlassian/product-search-dialog/dist/esm/utils/forward-ref.js"),m=r("./node_modules/@atlaskit/atlassian-navigation/node_modules/@emotion/core/dist/core.browser.esm.js"),h=o.a.lazy((function(){return r.e("229dc7ab49").then(r.bind(null,"./node_modules/@atlassian/product-search-dialog/dist/esm/cross-product/cross-product-search-dialog.js"))})),v=Object(y.a)((function(e){return Object(m.f)(n.Suspense,{fallback:Object(m.f)(d.a,{theme:e.theme})},Object(m.f)(h,e))})),b=r("./node_modules/@atlassian/product-search-dialog/dist/esm/common/product-context/product-context.js");var g=v,j=r("./src/packages/navigation-apps/atlassian-navigation/src/common/constants.js"),P=r("./src/packages/navigation-apps/atlassian-navigation/src/common/utils/test-id.js"),w=r("./src/packages/navigation-apps/atlassian-navigation/src/controllers/navigation-item-analytics/main.js"),O=r("./src/packages/navigation-apps/atlassian-navigation/src/controllers/theme/main.js"),S=r("./src/packages/navigation-apps/atlassian-navigation/src/controllers/top-menus/main.js"),_=r("./node_modules/@atlassian/product-search-dialog/dist/esm/jira/clients/jira-search-provider.js"),I=r("./node_modules/@atlassian/product-search-dialog/dist/esm/confluence/clients/confluence-search-provider.js");function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const R=({JiraSearchClientProvider:e=_.a,ConfluenceClientsProvider:t=I.a,children:r,cloudId:n,isAnonymous:i,baseUrl:a,atlassianAccountId:s})=>{const c={cloudId:n,isUserAnonymous:i,aggregatorUrl:`${a}/gateway/api/xpsearch-aggregator`,baseUrl:`${window.location.protocol}//${window.location.hostname}${a}`,collaborationGraphUrl:"/gateway/api/collaboration",accountId:s};return(o.a.createElement(e,c,o.a.createElement(t,{config:E(E({},c),{},{baseUrl:`${c.baseUrl}/wiki`})},r)))};R.displayName="ClientProvider";var A=Object(i.defineMessages)({updated:{id:"atlassian-navigation.search.updated",defaultMessage:"Updated"}}),k=r("./node_modules/styled-components/dist/styled-components.browser.esm.js");const T=k.default.div(["input:not([type='checkbox']):not([type='radio']){border-bottom-right-radius:6px;}"]),U=k.default.div(["display:flex;justify-content:center;align-items:center;position:relative;"]),D=(e,t)=>{Object(n.useEffect)(()=>{t&&setTimeout(()=>{e&&e.current&&e.current.focus()},0)},[t,e])},F=Object(P.b)("secondary-actions","search"),M=Object(n.forwardRef)(({CrossProductSearchDialog:e=g,ClientProvider:t=R,EngagementSpotlight:r=a.a,SearchInputOverrider:d=T,SearchInputWrapper:y=U,SpotlightTarget:m=c.a,useEffectFocusOnOpen:h=D,useNavigationItemAnalytics:v=w.a,useRouterActions:P=s.o,useTenantContext:_=f.m,useNavigationPlansVisibility:I=p.b,useTheme:C=O.a,useTopMenus:E=S.a,JsErrorBoundary:x=u.a},k)=>{var M;const L=Object(n.useRef)(),J=_(),{cloudId:B,baseUrl:N,isAnonymous:q,appPermissions:G,atlassianAccountId:$}=J,{formatMessage:z}=Object(l.c)(),V=C(),[W,{on:H,off:K}]=E(j.c.SEARCH),X=v({navigationItemId:j.e.SEARCH}),[Q]=I(),Y=Object(n.useCallback)(()=>{H(),X()},[H,X]),Z=e=>`${z(A.updated)} ${e}`,{push:ee}=P();h(k||L,W);const te={hasSoftwareAccess:G.hasSoftwareAccess,hasAdvancedRoadmapsAccess:Q};return(o.a.createElement(x,{id:"jira-quick-search",packageName:"product-search-dialog",fallback:"unmount"},o.a.createElement(t,{cloudId:B,baseUrl:N,isAnonymous:q,atlassianAccountId:$},o.a.createElement(y,{"data-testid":F},o.a.createElement(d,null,o.a.createElement(m,{name:"search-spotlight"},o.a.createElement("div",null,o.a.createElement(e,{ref:k||L,isExpanded:W,onOpen:Y,onClose:K,onNavigate:(e,t)=>{if(!t.ctrlKey&&!t.metaKey){var r,n,o,i,a,s;const c=null!==(r=null!==(n=null==t||null===(o=t.target)||void 0===o?void 0:o.href)&&void 0!==n?n:null===(i=t.target)||void 0===i||null===(a=i.closest)||void 0===a||null===(s=a.call(i,"a"))||void 0===s?void 0:s.href)&&void 0!==r?r:e;ee(c)}t.preventDefault()},jiraFeatures:te,formatDate:e=>(Date.now()-new Date(e))/864e5<8?o.a.createElement(i.FormattedRelative,{value:e},Z):o.a.createElement(i.FormattedDate,{year:"numeric",month:"short",day:"2-digit",value:e},Z),theme:null==V||null===(M=V.mode)||void 0===M?void 0:M.search,products:[b.b.jira,b.b.confluence]}))),o.a.createElement(r,{engagementId:"search-spotlight"}))))))})}}]);try{window.__jsEvalStop("async-atlassian-navigation-search.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/async-atlassian-navigation-search.bbf68c7656380e34f58b.8.js.map