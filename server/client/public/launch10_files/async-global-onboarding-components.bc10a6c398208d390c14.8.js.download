try{window.performance.mark("async-global-onboarding-components.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["async-global-onboarding-components","async-jsw-onboarding-state-initializer"],{"./node_modules/charenc/charenc.js":function(e,t){var r={utf8:{stringToBytes:function(e){return r.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(r.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};e.exports=r},"./node_modules/clone-deep/node_modules/is-buffer/index.js":function(e,t){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},"./node_modules/crypt/crypt.js":function(e,t){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var r=[],n=0;n<e.length;n+=3)for(var a=e[n]<<16|e[n+1]<<8|e[n+2],o=0;o<4;o++)8*n+6*o<=8*e.length?r.push(t.charAt(a>>>6*(3-o)&63)):r.push("=");return r.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],n=0,a=0;n<e.length;a=++n%4)0!=a&&r.push((t.indexOf(e.charAt(n-1))&Math.pow(2,-2*a+8)-1)<<2*a|t.indexOf(e.charAt(n))>>>6-2*a);return r}};e.exports=r}()},"./node_modules/md5/md5.js":function(e,t,r){!function(){var t=r("./node_modules/crypt/crypt.js"),n=r("./node_modules/charenc/charenc.js").utf8,a=r("./node_modules/clone-deep/node_modules/is-buffer/index.js"),o=r("./node_modules/charenc/charenc.js").bin,c=function(e,r){e.constructor==String?e=r&&"binary"===r.encoding?o.stringToBytes(e):n.stringToBytes(e):a(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var s=t.bytesToWords(e),i=8*e.length,l=1732584193,u=-271733879,d=-1732584194,p=271733878,b=0;b<s.length;b++)s[b]=16711935&(s[b]<<8|s[b]>>>24)|4278255360&(s[b]<<24|s[b]>>>8);s[i>>>5]|=128<<i%32,s[14+(i+64>>>9<<4)]=i;var g=c._ff,f=c._gg,j=c._hh,O=c._ii;for(b=0;b<s.length;b+=16){var m=l,y=u,h=d,v=p;l=g(l,u,d,p,s[b+0],7,-680876936),p=g(p,l,u,d,s[b+1],12,-389564586),d=g(d,p,l,u,s[b+2],17,606105819),u=g(u,d,p,l,s[b+3],22,-1044525330),l=g(l,u,d,p,s[b+4],7,-176418897),p=g(p,l,u,d,s[b+5],12,1200080426),d=g(d,p,l,u,s[b+6],17,-1473231341),u=g(u,d,p,l,s[b+7],22,-45705983),l=g(l,u,d,p,s[b+8],7,1770035416),p=g(p,l,u,d,s[b+9],12,-1958414417),d=g(d,p,l,u,s[b+10],17,-42063),u=g(u,d,p,l,s[b+11],22,-1990404162),l=g(l,u,d,p,s[b+12],7,1804603682),p=g(p,l,u,d,s[b+13],12,-40341101),d=g(d,p,l,u,s[b+14],17,-1502002290),l=f(l,u=g(u,d,p,l,s[b+15],22,1236535329),d,p,s[b+1],5,-165796510),p=f(p,l,u,d,s[b+6],9,-1069501632),d=f(d,p,l,u,s[b+11],14,643717713),u=f(u,d,p,l,s[b+0],20,-373897302),l=f(l,u,d,p,s[b+5],5,-701558691),p=f(p,l,u,d,s[b+10],9,38016083),d=f(d,p,l,u,s[b+15],14,-660478335),u=f(u,d,p,l,s[b+4],20,-405537848),l=f(l,u,d,p,s[b+9],5,568446438),p=f(p,l,u,d,s[b+14],9,-1019803690),d=f(d,p,l,u,s[b+3],14,-187363961),u=f(u,d,p,l,s[b+8],20,1163531501),l=f(l,u,d,p,s[b+13],5,-1444681467),p=f(p,l,u,d,s[b+2],9,-51403784),d=f(d,p,l,u,s[b+7],14,1735328473),l=j(l,u=f(u,d,p,l,s[b+12],20,-1926607734),d,p,s[b+5],4,-378558),p=j(p,l,u,d,s[b+8],11,-2022574463),d=j(d,p,l,u,s[b+11],16,1839030562),u=j(u,d,p,l,s[b+14],23,-35309556),l=j(l,u,d,p,s[b+1],4,-1530992060),p=j(p,l,u,d,s[b+4],11,1272893353),d=j(d,p,l,u,s[b+7],16,-155497632),u=j(u,d,p,l,s[b+10],23,-1094730640),l=j(l,u,d,p,s[b+13],4,681279174),p=j(p,l,u,d,s[b+0],11,-358537222),d=j(d,p,l,u,s[b+3],16,-722521979),u=j(u,d,p,l,s[b+6],23,76029189),l=j(l,u,d,p,s[b+9],4,-640364487),p=j(p,l,u,d,s[b+12],11,-421815835),d=j(d,p,l,u,s[b+15],16,530742520),l=O(l,u=j(u,d,p,l,s[b+2],23,-995338651),d,p,s[b+0],6,-198630844),p=O(p,l,u,d,s[b+7],10,1126891415),d=O(d,p,l,u,s[b+14],15,-1416354905),u=O(u,d,p,l,s[b+5],21,-57434055),l=O(l,u,d,p,s[b+12],6,1700485571),p=O(p,l,u,d,s[b+3],10,-1894986606),d=O(d,p,l,u,s[b+10],15,-1051523),u=O(u,d,p,l,s[b+1],21,-2054922799),l=O(l,u,d,p,s[b+8],6,1873313359),p=O(p,l,u,d,s[b+15],10,-30611744),d=O(d,p,l,u,s[b+6],15,-1560198380),u=O(u,d,p,l,s[b+13],21,1309151649),l=O(l,u,d,p,s[b+4],6,-145523070),p=O(p,l,u,d,s[b+11],10,-1120210379),d=O(d,p,l,u,s[b+2],15,718787259),u=O(u,d,p,l,s[b+9],21,-343485551),l=l+m>>>0,u=u+y>>>0,d=d+h>>>0,p=p+v>>>0}return t.endian([l,u,d,p])};c._ff=function(e,t,r,n,a,o,c){var s=e+(t&r|~t&n)+(a>>>0)+c;return(s<<o|s>>>32-o)+t},c._gg=function(e,t,r,n,a,o,c){var s=e+(t&n|r&~n)+(a>>>0)+c;return(s<<o|s>>>32-o)+t},c._hh=function(e,t,r,n,a,o,c){var s=e+(t^r^n)+(a>>>0)+c;return(s<<o|s>>>32-o)+t},c._ii=function(e,t,r,n,a,o,c){var s=e+(r^(t|~n))+(a>>>0)+c;return(s<<o|s>>>32-o)+t},c._blocksize=16,c._digestsize=16,e.exports=function(e,r){if(null==e)throw new Error("Illegal argument "+e);var n=t.wordsToBytes(c(e,r));return r&&r.asBytes?n:r&&r.asString?o.bytesToString(n):t.bytesToHex(n)}}()},"./src/packages/growth/onboarding/state-initializer/src/common/constants.js":function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return c}));const n=Object.freeze({NOT_ELIGIBLE:"NOT_ELIGIBLE",NOT_STARTED:"NOT_STARTED",STARTED:"STARTED",DONE:"DONE"}),a={[n.NOT_ELIGIBLE]:0,[n.NOT_STARTED]:1,[n.STARTED]:2,[n.DONE]:3},o=Object.freeze({CHECKLIST:"CHECKLIST",PROJECT_BOARD_MODAL:"PROJECT_BOARD_MODAL",WATCH_ISSUE_SPOTLIGHT:"WATCH_ISSUE_SPOTLIGHT",WATCH_ISSUE_SPOTLIGHT_CLASSIC:"WATCH_ISSUE_SPOTLIGHT_CLASSIC",BACKLOG_NUDGE:"BACKLOG_NUDGE",ISSUE_NUDGE:"ISSUE_NUDGE",STAR_BOARD_NUDGE:"STAR_BOARD_NUDGE",BACKLOG_MODAL:"BACKLOG_MODAL"}),c=(Object.values(o),{CHECKLIST:"nuxOnboardingChecklist",PROJECT_BOARD_MODAL:"jswProjectBoardTour_v1Modal",WATCH_ISSUE_SPOTLIGHT:"watchFirstIssueV1Spotlight",WATCH_ISSUE_SPOTLIGHT_CLASSIC:"watchFirstIssueV1SpotlightClassic",BACKLOG_NUDGE:"backlogV1Nudge",ISSUE_NUDGE:"issueV1Nudge",STAR_BOARD_NUDGE:"starBoardV1Nudge",BACKLOG_MODAL:"backlogV1Modal"})},"./src/packages/growth/onboarding/state-initializer/src/feature-flags.js":function(e,t,r){"use strict";r.d(t,"e",(function(){return o})),r.d(t,"d",(function(){return c})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return l}));var n=r("./src/packages/common-legacy-do-not-add-anything-new/src/util/get-feature-flag-value.js"),a=r("./src/packages/common-legacy-do-not-add-anything-new/src/util/jira-feature-flag-client.js");const o=()=>Object(a.a)().getBooleanValue("jsw.onboarding.i18n.quickstart",{default:!1}),c=()=>Object(n.b)("onboarding-user-state-holdout",!1),s=e=>Object(n.c)(e,"not-enrolled",["control","not-enrolled","experiment"]),i=e=>"experiment"===s(e),l=e=>{(e=>{Object(a.a)().getVariantValue(e,{default:"not-enrolled",oneOf:["not-enrolled","control","experiment"],shouldTrackExposureEvent:!0})})(e)}},"./src/packages/growth/onboarding/state-initializer/src/main.js":function(e,t,r){"use strict";r.r(t),r.d(t,"StateInitializer",(function(){return m})),r.d(t,"OnboardingUserStateInitializer",(function(){return y}));var n=r("./node_modules/react/index.js"),a=r.n(n),o=r("./src/packages/platform/ui/error-boundary/src/main.js"),c=r("./src/packages/platform/observability/errors-handling/src/utils/reporting-error-boundary.js"),s=r("./node_modules/@atlaskit/analytics-next--current/dist/esm/useAnalyticsEvents.js"),i=r("./src/packages/growth/onboarding/state-initializer/src/common/constants.js"),l=r("./src/packages/growth/onboarding/state-initializer/src/services/index.js"),u=r("./src/packages/growth/onboarding/state-initializer/src/services/utils/index.js"),d=r("./src/packages/common-legacy-do-not-add-anything-new/src/util/browser.js"),p=r("./src/packages/platform/utils/types/src/general.js"),b=r("./src/packages/platform/services/nav-item-service/src/services/create-project-permisson/index.js"),g=r("./src/packages/platform/controllers/spa-state/src/components/page-ready-state/index.js"),f=r("./src/packages/platform/controllers/tenant-context/src/components/index.js");const{STARTED:j,DONE:O}=i.c,m=()=>{const[,{initStore:e}]=Object(l.d)(),t=(()=>{const[e,t]=Object(n.useState)(null),[{isReady:r}]=Object(g.d)(),a=Object(f.m)(),o=Object(d.d)(),[{canCreateProject:c,isFetching:s,hasFetchedOnce:i},{fetchCreateProjectPermission:l}]=Object(b.a)();return Object(n.useEffect)(()=>{!r||s||i||l(a.baseUrl)},[r,s,i,l,a]),Object(n.useEffect)(()=>{!e&&r&&a&&i&&t({baseUrl:a.baseUrl,accountId:Object(p.a)(a.atlassianAccountId||""),cloudId:a.cloudId,isAdmin:a.isAdmin,isAnonymous:a.isAnonymous,hasSoftwareAccess:a.appPermissions.hasSoftwareAccess,isNavV3Enabled:!0,canCreateProject:Boolean(c),isIE:Boolean(o)})},[e,r,a,i,c,o]),e})(),{createAnalyticsEvent:r}=Object(s.a)(),[{remoteMigrated:a,remoteInitialized:o,remoteStateVersion:c,remoteStatusChangedTo:m,remoteStatusChangedBy:y,remoteStateBeforeFormat:h,remoteStateAfterFormat:v}]=Object(l.h)(),[S]=Object(l.f)(),[E]=Object(l.g)(),[w]=Object(l.e)();return Object(n.useEffect)(()=>{S||E||!t||e(t)},[t,e,S,E]),Object(n.useEffect)(()=>{!0===o&&Object(u.a)({analyticsEvent:r({}),type:"operational",action:"set"})},[o,r]),Object(n.useEffect)(()=>{S&&Object(u.a)({analyticsEvent:r({}),type:"operational",action:"initialized"})},[S,r]),Object(n.useEffect)(()=>{if(w&&w.message){const e=r({}),t={error:`${w.message}`};Object(u.b)(w,e,t)}},[w,r]),Object(n.useEffect)(()=>{[j,O].includes(m)&&y&&Object(u.a)({analyticsEvent:r({}),type:"track",action:m===j?"started":"ended",actionSubjectId:i.a[y]})},[m,y,r]),Object(n.useEffect)(()=>{!0===a&&c&&Object(u.a)({analyticsEvent:r({}),type:"operational",action:`migrated_${c}_state`,attributes:{remoteStateBeforeFormat:JSON.stringify(h),remoteStateAfterFormat:JSON.stringify(v)}})},[a,c,h,v,r]),null},y=()=>a.a.createElement(o.a,{id:"jswOnboardingStateManager",packageName:"jiraOnboardingUserState"},a.a.createElement(c.a,{id:"jswOnboardingStateManager_Component",packageName:"jiraOnboardingUserState"},a.a.createElement(m,null)));y.displayName="OnboardingUserStateInitializer"},"./src/packages/growth/onboarding/state-initializer/src/services/index.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return be})),r.d(t,"c",(function(){return ge})),r.d(t,"d",(function(){return fe})),r.d(t,"a",(function(){return je})),r.d(t,"h",(function(){return Oe})),r.d(t,"f",(function(){return me})),r.d(t,"g",(function(){return ye})),r.d(t,"e",(function(){return he}));var n=r("./node_modules/react-sweet-state/lib/esm/store/create.js"),a=r("./node_modules/react-sweet-state/lib/esm/components/hook.js"),o=r("./node_modules/react-sweet-state/lib/esm/components/subscriber.js"),c=r("./src/packages/growth/onboarding/state-initializer/src/common/constants.js"),s=r("./src/packages/growth/onboarding/state-initializer/src/feature-flags.js"),i=r("./src/packages/growth/onboarding/state-initializer/src/services/utils/index.js"),l=r("./src/packages/growth/onboarding/state-initializer/src/services/utils/state-validators/index.js");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{NOT_ELIGIBLE:b,NOT_STARTED:g,STARTED:f,DONE:j}=c.c,O=(e=g,t=g)=>[e,t].includes(b)?b:c.d[e]>=c.d[t]?e:t,m=(e,t)=>{const r=d(d({},e),t);return Object.keys(r).forEach(n=>{Object(l.a)(e[n])&&Object(l.a)(t[n])&&(r[n]=O(e[n],t[n]))}),r},y=({enrolledExperiences:e,overall:t},r)=>{const n=((e,t)=>e.reduce((e,[t,r])=>{const n=e;return n[t]=O(r,n[t]),n},d({},t)))(r,e);return{enrolledExperiences:n,overall:((e,t)=>{const r=Object.keys(t);return e===j||r.every(e=>t[e]===j)?j:e===f||r.some(e=>[f,j].includes(t[e]))?f:g})(t,n)}},h=({enrolledExperiences:e,overall:t})=>({overall:t,enrolledExperiences:e});var v=r("./src/packages/common-legacy-do-not-add-anything-new/src/rest/api/latest/user-properties/index.js"),S=r("./src/packages/platform/utils/fetch/src/utils.js");var E=r("./src/packages/platform/utils/types/src/general.js");function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const k={enrolledExperiences:{},overall:c.c.NOT_STARTED,version:"v2"},T=x(x({},k),{},{syncMetadata:{remoteMigrated:void 0,remoteInitialized:void 0,remoteStateVersion:void 0,remoteStatusChangedTo:void 0,remoteStatusChangedBy:void 0,remoteOverallBeforeFormat:void 0,remoteStateBeforeFormat:void 0,remoteStateAfterFormat:void 0},context:{baseUrl:Object(E.b)(""),accountId:Object(E.a)(""),cloudId:Object(E.c)(""),isAdmin:!1,isAnonymous:!0,isNavV3Enabled:!1,hasSoftwareAccess:!1,canCreateProject:!1,isIE:!1},pendingExperienceUpdates:[],hydrated:!1,loading:!1,error:null});function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{NOT_ELIGIBLE:D,NOT_STARTED:I,STARTED:R,DONE:N}=c.c,{CHECKLIST:B}=c.b,L=e=>({[c.b.PROJECT_BOARD_MODAL]:e,[c.b.WATCH_ISSUE_SPOTLIGHT]:e}),U=e=>({[c.b.BACKLOG_MODAL]:e,[c.b.BACKLOG_NUDGE]:e,[c.b.STAR_BOARD_NUDGE]:e,[c.b.ISSUE_NUDGE]:e,[c.b.WATCH_ISSUE_SPOTLIGHT_CLASSIC]:e}),G=e=>A(A({},L(e)),U(e)),M=e=>({[B]:e}),F=(e,t,r)=>t&&e&&!r,z=(e,t,r)=>{const n=Object(s.b)("jsw-onboarding-phase-3-quickstart");if("experiment"===n||"control"===n)return F(e,t,r)?(Object(s.a)("jsw-onboarding-phase-3-quickstart"),M("experiment"===n?I:N)):M(D);const a=Object(s.b)("jsw-onboarding-phase-1-macroexperiment");return"experiment"===a||"control"===a?(Object(s.a)("jsw-onboarding-phase-1-macroexperiment"),G("experiment"===a?I:N)):{}};function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){V(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function V(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{DONE:Y,NOT_STARTED:K}=c.c,W=e=>t=>{const{enrolledExperiences:r}=e,{context:n,hydrated:a}=t.getState(),o=J({},e);return a||(o.enrolledExperiences=((e,t,r,n)=>{const a=A({},e);return e[B]===D&&F(t,r,n)?(Object(s.a)("jsw-onboarding-phase-3-quickstart"),a[B]=I):[I,R].includes(e[B])&&!F(t,r,n)&&(a[B]=D),a})(r,n.canCreateProject,n.isNavV3Enabled,n.isIE)),{remoteState:o,formatterMetadata:{remoteInitialized:!1,remoteMigrated:!1,remoteStateVersion:"v2",remoteOverallBeforeFormat:e.overall,remoteStateBeforeFormat:e,remoteStateAfterFormat:e}}},$=e=>t=>{const{context:r}=t.getState(),n=J(J({},k),{},{enrolledExperiences:z(r.canCreateProject,r.isNavV3Enabled,r.isIE)});return{remoteState:n,formatterMetadata:{remoteInitialized:!0,remoteMigrated:!0,remoteStateVersion:"empty",remoteOverallBeforeFormat:void 0,remoteStateBeforeFormat:e,remoteStateAfterFormat:n}}},q=()=>({dispatch:e})=>t=>{if(null===t)return e($(t));if("object"==typeof t){if(void 0===t.overall&&"done"===t["jsw-onboarding"])return e((e=>()=>{const t=J(J({},k),{},{overall:Y});return{remoteState:t,formatterMetadata:{remoteInitialized:!1,remoteMigrated:!0,remoteStateVersion:"v0",remoteOverallBeforeFormat:void 0,remoteStateBeforeFormat:e,remoteStateAfterFormat:t}}})(t));if(t.overall&&Object(l.a)(t.overall)){if(void 0===t.version&&"object"==typeof t["jsw-onboarding"])return e((e=>()=>{const{overall:t}=e,r=Object(s.c)("jsw-onboarding-phase-1-macroexperiment")?K:Y,n=Object(s.c)("jsw-onboarding-phase-1-cutoff"),a=J(J({},L(r)),n?{}:U(r));Object.keys(a).forEach(t=>{const n=e["jsw-onboarding"][t];Object(l.a)(n)&&(a[t]=O(n,r))});const o={overall:t,enrolledExperiences:a,version:"v2"};return{remoteState:o,formatterMetadata:{remoteInitialized:!1,remoteMigrated:!0,remoteStateVersion:"v1",remoteOverallBeforeFormat:e.overall,remoteStateBeforeFormat:e,remoteStateAfterFormat:o}}})(t));if("v2"===t.version&&"object"==typeof t.enrolledExperiences)return e(W(t))}}return e($(t))},Q=()=>async({getState:e,dispatch:t})=>{const{context:r}=e(),n=t(q()),a=(e=>t=>{if(404===t.statusCode)return e(null);throw t})(n);return(async(e,t)=>Object(v.a)(e,t,"growth-nux"))(r.baseUrl,r.accountId).then(n).catch(a)};function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){ee(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const te=e=>async({getState:t})=>{const{context:r}=t(),n=Z(Z({},e),{},{version:"v2"});return(async(e,t,r)=>Object(v.b)(e,t,"growth-nux",JSON.stringify(r)).then(e=>{if(!e.ok)throw new S.a(e.status,e.statusText)}))(r.baseUrl,r.accountId,n)};function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){ae(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oe(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const{DONE:ce}=c.c,se=()=>async({setState:e,getState:t,dispatch:r})=>{const n=t(),{error:a,hydrated:o,pendingExperienceUpdates:c}=n,s=oe(n,["error","hydrated","pendingExperienceUpdates"]);if(!a)try{e({loading:!0,pendingExperienceUpdates:[]});const{remoteState:t,formatterMetadata:n}=await r(Q()),a=h(s),i=h(t),l=((e,t)=>({overall:O(e.overall,t.overall),enrolledExperiences:m(e.enrolledExperiences,t.enrolledExperiences)}))(a,i),u=y(l,c),p=[...c],b=((e,t,r)=>{let n,a;return r.remoteOverallBeforeFormat!==e&&(n=e),n&&t.length&&(n===j&&t.reverse(),[[a]]=t),d(d({},r),{},{remoteStatusChangedTo:n,remoteStatusChangedBy:a})})(u.overall,p,n);e(ne(ne({},u),{},{syncMetadata:b})),!0===(i.overall!==ce||b.remoteMigrated)&&await r(te(u)),o||e({hydrated:!0})}catch(i){e(ne(ne({},s),{},{pendingExperienceUpdates:[],error:i}))}finally{e({loading:!1})}},ie=()=>async({dispatch:e,getState:t})=>{await e(se());const{pendingExperienceUpdates:r,error:n}=t();!n&&r.length&&e(ie())},{NOT_ELIGIBLE:le}=c.c,ue=Object(n.a)({name:"JSW_ONBOARDING_STATE_STORE",initialState:T,actions:{initStore:e=>t=>{Object(i.d)(e)&&(Object(s.d)()&&Object(i.c)(e.cloudId)||(t.setState({context:e}),t.dispatch(ie())))},setExperienceStatus:(e,t)=>r=>{((e,t)=>({getState:r,setState:n,dispatch:a})=>{const{enrolledExperiences:o,loading:s}=r();if(!e.every(e=>Object(l.a)(o[e])))return;if(!(Object(l.a)(t)&&t!==le))return;const i=e.filter(e=>{const r=c.d[t],n=o[e],a=c.d[n];return n!==le&&r>a}).map(e=>[e,t]);n({pendingExperienceUpdates:[...r().pendingExperienceUpdates,...i]}),s||a(ie())})(Array.isArray(e)?e:[e],t)(r)}}}),de=(e,{experience:t})=>!e.error&&e.hydrated&&!!e.enrolledExperiences[t]&&Object(l.a)(e.enrolledExperiences[t])&&e.enrolledExperiences[t]!==c.c.NOT_ELIGIBLE&&e.enrolledExperiences[t]!==c.c.DONE&&e.overall!==c.c.DONE,pe=(e,{experiences:t})=>t.every(t=>de(e,{experience:t})),be=Object(a.a)(ue,{selector:de}),ge=e=>{const[t]=be({experience:e});return t},fe=(Object(a.a)(ue,{selector:pe}),Object(a.a)(ue,{selector:e=>Object.keys(c.b).some(t=>de(e,{experience:t}))}),Object(a.a)(ue,{selector:null})),je=Object(o.a)(ue,{selector:de}),Oe=(Object(o.a)(ue,{selector:pe}),Object(a.a)(ue,{selector:e=>e}),Object(a.a)(ue,{selector:e=>e.syncMetadata})),me=Object(a.a)(ue,{selector:e=>e.hydrated}),ye=Object(a.a)(ue,{selector:e=>e.loading}),he=Object(a.a)(ue,{selector:e=>e.error})},"./src/packages/growth/onboarding/state-initializer/src/services/utils/index.js":function(e,t,r){"use strict";r.d(t,"d",(function(){return l})),r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return p}));var n=r("./node_modules/md5/md5.js"),a=r.n(n),o=r("./src/packages/common-legacy-do-not-add-anything-new/src/growth-experiments/user-in-english-locale.js"),c=r("./src/packages/platform/observability/errors-handling/src/utils/fire-error-analytics.js");r("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),r("./src/packages/common-legacy-do-not-add-anything-new/src/util/jira-feature-flag-client.js");var s=r("./src/packages/platform/observability/product-analytics-bridge/src/utils/fire-analytics.js"),i=r("./src/packages/growth/onboarding/state-initializer/src/feature-flags.js");const l=e=>!e.isAnonymous&&e.accountId&&e.hasSoftwareAccess&&(()=>!!Object(i.e)()||Object(o.a)())(),u=({analyticsEvent:e,type:t,action:r,actionSubjectId:n="jswOnboardingStateManager",attributes:a={}})=>{const o=e&&e.clone();o&&("operational"===t?s.b:s.f)(o,`onboarding ${r}`,n,a)},d=(e,t,r={})=>{const n=t&&t.clone();n&&Object(c.a)({meta:{id:"jswOnboardingStateManager",packageName:"jiraOnboardingUserState"},event:n,error:e,attributes:r})},p=e=>parseInt(a()(e).substring(0,7),16)%100<20},"./src/packages/growth/onboarding/state-initializer/src/services/utils/state-validators/index.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("./src/packages/growth/onboarding/state-initializer/src/common/constants.js");const a=e=>Boolean(n.c[e])},"./src/packages/platform/services/nav-item-service/src/services/create-project-permisson/index.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return g}));var n=r("./node_modules/react-sweet-state/lib/esm/store/create.js"),a=r("./node_modules/react-sweet-state/lib/esm/components/container.js"),o=r("./node_modules/react-sweet-state/lib/esm/components/hook.js"),c=r("./src/packages/platform/utils/fetch/src/utils/as-json.js");function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const u=e=>async({setState:t,getState:r})=>{const{isFetching:n}=r();if(!n)try{t(i(i({},await(async e=>{const t=`${e}/rest/internal/2/projectpermissions`;return await Object(c.a)(t)})(e)),{},{isFetching:!1,fetchError:null,hasFetchedOnce:!0,hasSuccessOnce:!0}))}catch(a){t({canCreateProject:!1,canCreateClassicProject:!1,canCreateNextGenProject:!1,isFetching:!1,fetchError:a,hasFetchedOnce:!0})}},d={fetchCreateProjectPermission:e=>async({setState:t,dispatch:r})=>{t({isFetching:!0,promise:r(u(e))})}},p=Object(n.a)({name:"create-project-permissions",initialState:{canCreateProject:!1,canCreateClassicProject:!1,canCreateNextGenProject:!1,isFetching:!1,fetchError:null,promise:null,hasFetchedOnce:!1,hasSuccessOnce:!1},actions:d}),b=(Object(a.a)(p),Object(o.a)(p)),g=Object(o.a)(p,{selector:null})},"./src/packages/platform/ui/layouts/shared-global-components/src/ui/onboarding/index.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Onboarding",(function(){return l}));var n=r("./node_modules/react/index.js"),a=r.n(n),o=r("./src/packages/platform/services/app-permissions-check/src/index.js"),c=r("./src/packages/growth/onboarding/state-initializer/src/main.js"),s=r("./src/packages/servicedesk/jsm-changeboarding/src/async.js"),i=r("./src/packages/platform/ui/layouts/shared-global-components/src/feature-flags.js");const l=()=>a.a.createElement(a.a.Fragment,null,a.a.createElement(c.OnboardingUserStateInitializer,null),Object(i.h)()&&a.a.createElement(o.a,{hasServiceDeskAccess:!0},a.a.createElement(s.a,null)));t.default=l},"./src/packages/routes/src/ui/spa/servicedesk/analytics-context/resources/index.js":function(t,r,n){"use strict";n.d(r,"a",(function(){return p})),n.d(r,"b",(function(){return b}));var a=n("./node_modules/react/index.js"),o=n("./node_modules/react-resource-router/build/esm/index.js"),c=n("./src/packages/platform/observability/errors-handling/src/utils/fire-error-analytics.js"),s=n("./src/packages/routes/src/common/ui/resources/constants.js"),i=n("./src/packages/routes/src/feature-flags.js"),l=n("./src/packages/routes/src/ui/spa/servicedesk/common/match-utils/get-project.js");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const p=Object(o.i)({type:s.E,getKey:({match:e})=>Object(l.a)(e),getDataLoader:()=>n.e("async-resource-servicedesk-analytics-context").then(n.bind(null,"./src/packages/routes/src/ui/spa/servicedesk/analytics-context/resources/get-data/index.js")),maxAge:864e5}),b=()=>{const{data:t,loading:r,error:n,refresh:s}=Object(o.l)(p);Object(a.useEffect)(()=>{t||r||n||s()},[t,r,n,s]);const l=Object(a.useMemo)(()=>{const r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t);if(Object(i.H)())try{r.isJsdMystiqueAvailable=Object(i.I)()}catch(e){Object(c.a)({error:e,sendToPrivacyUnsafeSplunk:!0,meta:{id:"addMystiqueAvailableTargetingAttribute",packageName:"jiraRoutes",teamName:"delorean-spa"}})}return r},[t]);return Object(a.useMemo)(()=>({data:l,loading:r,error:n}),[l,r,n])}},"./src/packages/servicedesk/analytics/src/ui/servicedesk-analytics-context/main.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return S}));var n={};r.r(n),r.d(n,"get",(function(){return j}));var a=r("./node_modules/react/index.js"),o=r.n(a),c=r("./src/packages/common-legacy-do-not-add-anything-new/src/util/component-with-condition.js"),s=r("./src/packages/platform/observability/errors-handling/src/utils/fire-error-analytics.js"),i=r("./src/packages/navigation-next/src/baskets/navigation/components/container-context/index.js"),l=r("./src/packages/platform/observability/product-analytics-bridge/src/utils/analytics-context-wrapper.js"),u=r("./src/packages/routes/src/ui/spa/servicedesk/analytics-context/resources/index.js"),d=r("./src/packages/platform/controllers/tenant-context/src/components/index.js"),p=r("./node_modules/react-sweet-state/lib/esm/store/create.js"),b=r("./node_modules/react-sweet-state/lib/esm/components/subscriber.js"),g=r("./node_modules/react-sweet-state/lib/esm/components/container.js"),f=r("./src/packages/platform/utils/fetch/src/utils/requests.js");const j=(e,t)=>({getState:r,setState:n,actions:a})=>{(async({baseUrl:e,projectId:t})=>{const r=`${e}/rest/servicedesk/latest/analyticscontext/${t}`;return Object(f.b)(r)})({baseUrl:t,projectId:e}).then(t=>{t&&n({error:void 0,[e]:{jsdRole:t.jsdRole,initialProjectTemplate:t.initialProjectTemplate,openAccess:t.openAccess,publicSignup:t.publicSignup,nextGenProject:t.nextGenProject,demoProject:t.demoProject,eapOptedIn:t.eapOptedIn,jsdDwCohort:t.jsdDwCohort,previousSupportedProjects:t.previousSupportedProjects,supportedProjects:t.supportedProjects}})}).catch(o=>{r().error||(a.get(e,t),n({error:o}))})},O={error:void 0},m=Object(p.a)({name:"servicedesk-analytics-context",initialState:O,actions:n});const y=Object(b.a)(m,{displayName:"ServiceDeskAnalyticsContextSubscriber"}),h=Object(g.a)(m,{displayName:"ServiceDeskAnalyticsContextSubscriber",onInit:()=>({actions:e},{projectId:t,baseUrl:r})=>{e.get(t,r)}});var v=r("./src/packages/common-legacy-do-not-add-anything-new/src/util/get-feature-flag-value.js");const S=Object(c.a)(()=>Object(v.b)("jsm.resource.backed.analytics.context",!1),({useContainerContext:e,useServiceDeskAnalyticsContext:t,children:r,forceRenderWhileLoading:n})=>{const[{data:c,loading:s}]=e(),{data:i,error:u,loading:d}=t();if(a.Children.count(r)>0){const e=s||d;if(!(!e||e&&n||!!u))return null;const t={};if(c&&c.project){const{id:e}=c.project;t.containerType="project",t.containerId=`${e}`,i&&!u&&(t.attributes=i)}return(o.a.createElement(l.a,t,r))}return r},e=>{const{TenantContextSubscriber:t,ContainerContextSubscriber:r,ServiceDeskAnalyticsContextSubscriber:n,ServiceDeskAnalyticsContextContainer:c,children:i,forceRenderWhileLoading:u}=e;return a.Children.count(i)>0?o.a.createElement(t,null,({tenantContext:e})=>o.a.createElement(r,null,({data:t,loading:r})=>{if(r)return u?i:null;if(!t||!t.project)return i;const{id:a}=t.project;return(o.a.createElement(l.a,{containerType:"project",containerId:`${a}`},o.a.createElement(c,{isGlobal:!0,baseUrl:e.baseUrl,projectId:a},o.a.createElement(n,null,e=>{if(!e||!e[a])return e.error||u?i:null;const t=e[a];if((()=>Object(v.b)("jsd-jsm-changeboarding-rebrand-targeting",!1))())try{t.isJsdMystiqueAvailable=(()=>Object(v.b)("jsd-mystique",!1))()}catch(r){Object(s.a)({error:r,sendToPrivacyUnsafeSplunk:!0,meta:{id:"addMystiqueAvailableTargetingAttribute",packageName:"jiraServicedeskAnalytics",teamName:"jira-service-desk-cloud"}})}return(o.a.createElement(l.a,{attributes:t},i))}))))})):i});S.defaultProps={forceRenderWhileLoading:!1,TenantContextSubscriber:d.b,ContainerContextSubscriber:i.a,ServiceDeskAnalyticsContextSubscriber:y,ServiceDeskAnalyticsContextContainer:h,useServiceDeskAnalyticsContext:u.b,useContainerContext:i.c}},"./src/packages/servicedesk/jsm-changeboarding/src/async.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var n=r("./node_modules/react/index.js"),a=r.n(n),o=(r("./node_modules/react-magnetic-di/lib/esm/index.js"),r("./src/packages/platform/ui/error-boundary/src/index.js")),c=r("./src/packages/platform/observability/errors-handling/src/utils/reporting-error-boundary.js"),s=r("./src/packages/platform/services/non-critical/src/index.js"),i=r("./src/packages/servicedesk/analytics/src/ui/servicedesk-analytics-context/main.js"),l=r("./node_modules/react-resource-router/build/esm/index.js"),u=r("./src/packages/platform/utils/constants/src/spa-routes.js"),d=r("./src/packages/platform/utils/types/src/application-key.js"),p=r("./src/packages/navigation-next/src/baskets/navigation/components/container-context/index.js"),b=r("./src/packages/platform/controllers/tenant-context/src/components/index.js");const g=()=>{const e=Object(b.k)(),[{route:t}]=Object(l.n)(),[{data:r}]=Object(p.c)({});return!(!e||!e[d.b])&&(!!(e=>[u.d.PROJECTS_DIRECTORY_LEGACY_PATH_SPA,`${u.d.PROJECTS_DIRECTORY_LEGACY_PATH_SPA}-redirect`,u.d.PROJECTS_DIRECTORY,`${u.d.PROJECTS_DIRECTORY}-redirect`,u.d.YOUR_WORK,u.d.HOME_ONBOARDING_REDIRECT,"legacy-gin-manage",u.d.FILTERS_DIRECTORY,`${u.d.FILTERS_DIRECTORY}-redirect`,u.d.FILTERS_DIRECTORY_SECURE,`${u.d.FILTERS_DIRECTORY_SECURE}-redirect`,u.d.LEGACY_GIN,u.d.LEGACY_GIN_ISSUE,u.d.LEGACY_GIN_QUICKSEARCH,"legacy-dashboard-single",u.d.LEGACY_DASHBOARD,u.d.DASHBOARD,u.d.DASHBOARDS_DIRECTORY,u.d.PEOPLE_INDEX].includes(e))(t.name)||!!r&&"project"===r.contextType&&!!r.project&&"service_desk"===r.project.type)};var f=r("./node_modules/react-async-component/commonjs/index.js");const j=Object(f.asyncComponent)({resolve:()=>Promise.all([r.e("vendor~748942c6"),r.e("vendor~31ecd969"),r.e("jsm-changeboarding")]).then(r.bind(null,"./src/packages/servicedesk/jsm-changeboarding/src/ui/index.js")).then(e=>e.JsmChangeboarding)}),O=()=>g()?a.a.createElement(s.c,null,a.a.createElement(o.b,{id:"jira-servicedesk.jsm-changeboarding"},a.a.createElement(c.a,{id:"JsmChangeboarding",packageName:"jiraServicedeskJsmChangeboarding"},a.a.createElement(i.a,null,a.a.createElement(j,null))))):null;O.displayName="JsmChangeboarding"}}]);try{window.__jsEvalStop("async-global-onboarding-components.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/async-global-onboarding-components.e27d3c4e018834b6d210.8.js.map