try{window.performance.mark("async-embedded-issue-preload.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["async-embedded-issue-preload"],{"./node_modules/@atlaskit/adf-utils/dist/es2019/traverse/filter.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return r}));var n=t("./node_modules/@atlaskit/adf-utils/dist/es2019/traverse/traverse.js");function r(e,s){const t=[];return Object(n.a)(e,{any:e=>{s(e)&&t.push(e)}}),t}},"./node_modules/@atlaskit/adf-utils/dist/es2019/traverse/traverse.js":function(e,s,t){"use strict";function n(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,n)}return t}function r(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?n(Object(t),!0).forEach((function(s){i(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}function i(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function a(e,s){if(!function(e){return!0}())throw new Error(`Visitors are not valid: "${Object.keys(s).join(", ")}"`);return function e(s,t,n,i,a){const o=n[s.type]||n.any;let c=r({},s);if(o){const e=o(r({},c),t,i,a);if(!1===e)return!1;c=e||s}c.content&&(c.content=c.content.reduce((s,r,i)=>{if(!r)return s;const o=e(r,{node:c,parent:t},n,i,a+1);return!1!==o&&s.push(o),s},[]));return c}(e,{node:void 0},s,0,0)}t.d(s,"a",(function(){return a}))},"./node_modules/@atlassian/browser-metrics/dist/es2019/factory/index.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return I}));var n=t("./node_modules/@atlassian/browser-metrics/dist/es2019/types.js"),r=t("./node_modules/@atlassian/browser-metrics/dist/es2019/route/index.js"),i=t("./node_modules/@atlassian/browser-metrics/dist/es2019/submitter/submitter.js"),a=t("./node_modules/@atlassian/browser-metrics/dist/es2019/metric/base-metric.js");class o extends a.a{start({startTime:e}={}){super.start({startTime:e}),this.route=r.a.getRoute()}stop(e={}){const s=super.stop(e);return s&&!this.config.virtual&&i.a.queue(this.getData()),s}}var c=t("./node_modules/@atlassian/browser-metrics/dist/es2019/logger/index.js"),u=t("./node_modules/@atlassian/browser-metrics/dist/es2019/metric/base-page-load-metric.js"),l=t("./node_modules/@atlassian/browser-metrics/dist/es2019/metric/page-load-meta-metric.js");function d(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,n)}return t}function p(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?d(Object(t),!0).forEach((function(s){m(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}function m(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}class f extends u.a{startPageLoad(e={isInitial:!1}){l.a.startPageLoad(p(p({},e),{},{cancelStarted:"startTime"in e})),this.watchUntil()}stop(e={}){const s=e.stopTime||window.performance.now(),t=l.a,n=t.getData();if(!t.stop(e))return!1;if(this.route=r.a.getRoute(),!this.stopPageLoad(n,p(p({},e),{},{stopTime:s})))return!1;const a=this.getData();return this.config.virtual||i.a.queue(a),c.a.logCond(!!this.config.debug,"page-load","stop",this.getData),!0}}function b(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,n)}return t}function g(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?b(Object(t),!0).forEach((function(s){y(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}function y(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}const j=e=>new o(g(g({},e),{},{type:n.a.INLINE_RESULT})),h=e=>new o(g(g({},e),{},{type:n.a.CUSTOM}));function O(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?O(Object(t),!0).forEach((function(s){w(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}function w(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}const k={},E=e=>`${e.type}--${e.key}`,S=(e,s,t)=>{(e=>{if(e.include)throw new Error('"include" is not supported in concurrent actions');if(e.until)throw new Error('"until" is not supported in concurrent actions')})(s),(e=>{const s=E(e);s in k||(k[s]={})})(s);const n=((e,s)=>{const t=`${s.type}--${s.key}`;if(t in k&&k[t][String(e)])return k[t][String(e)];t in k||(k[t]={})})(e,s);if(n)return n;const r=t(s);return k[E(s)][String(e)]=r,r},I={pageLoad:e=>new f(g(g({},e),{},{type:n.a.PAGE_LOAD})),interaction:j,custom:h,concurrent:{interaction:e=>s=>S(s,v(v({},e),{},{type:n.a.INLINE_RESULT}),j),custom:e=>s=>S(s,v(v({},e),{},{type:n.a.CUSTOM}),h)}}},"./node_modules/lodash/_arrayEvery.js":function(e,s){e.exports=function(e,s){for(var t=-1,n=null==e?0:e.length;++t<n;)if(!s(e[t],t,e))return!1;return!0}},"./node_modules/lodash/_baseEvery.js":function(e,s,t){var n=t("./node_modules/lodash/_baseEach.js");e.exports=function(e,s){var t=!0;return n(e,(function(e,n,r){return t=!!s(e,n,r)})),t}},"./node_modules/lodash/_baseHas.js":function(e,s){var t=Object.prototype.hasOwnProperty;e.exports=function(e,s){return null!=e&&t.call(e,s)}},"./node_modules/lodash/_baseZipObject.js":function(e,s){e.exports=function(e,s,t){for(var n=-1,r=e.length,i=s.length,a={};++n<r;){var o=n<i?s[n]:void 0;t(a,e[n],o)}return a}},"./node_modules/lodash/every.js":function(e,s,t){var n=t("./node_modules/lodash/_arrayEvery.js"),r=t("./node_modules/lodash/_baseEvery.js"),i=t("./node_modules/lodash/_baseIteratee.js"),a=t("./node_modules/lodash/isArray.js"),o=t("./node_modules/lodash/_isIterateeCall.js");e.exports=function(e,s,t){var c=a(e)?n:r;return t&&o(e,s,t)&&(s=void 0),c(e,i(s,3))}},"./node_modules/lodash/has.js":function(e,s,t){var n=t("./node_modules/lodash/_baseHas.js"),r=t("./node_modules/lodash/_hasPath.js");e.exports=function(e,s){return null!=e&&r(e,s,n)}},"./node_modules/lodash/partial.js":function(e,s,t){var n=t("./node_modules/lodash/_baseRest.js"),r=t("./node_modules/lodash/_createWrap.js"),i=t("./node_modules/lodash/_getHolder.js"),a=t("./node_modules/lodash/_replaceHolders.js"),o=n((function(e,s){var t=a(s,i(o));return r(e,32,void 0,s,t)}));o.placeholder={},e.exports=o},"./node_modules/lodash/zipObject.js":function(e,s,t){var n=t("./node_modules/lodash/_assignValue.js"),r=t("./node_modules/lodash/_baseZipObject.js");e.exports=function(e,s){return r(e||[],s||[],n)}},"./src/packages/common-legacy-do-not-add-anything-new/src/date/transform-to-iso-string.js":function(e,s,t){"use strict";var n=t("./node_modules/date-fns/parse/index.js"),r=t.n(n);s.a=e=>r()(e).toISOString()},"./src/packages/forge/forge-ui-analytics/src/common/utils/consumers/index.js":function(e,s,t){"use strict";t.d(s,"b",(function(){return m})),t.d(s,"d",(function(){return f})),t.d(s,"c",(function(){return b})),t.d(s,"a",(function(){return g}));var n=t("./src/packages/platform/observability/product-analytics-web-client/src/common/utils.js"),r=t("./src/packages/forge/forge-ui-analytics/src/feature-flags.js"),i=t("./src/packages/forge/forge-ui-analytics/src/common/utils/logger/index.js");function a(e,s){if(null==e)return{};var t,n,r=function(e,s){if(null==e)return{};var t,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],s.indexOf(t)>=0||(r[t]=e[t]);return r}(e,s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],s.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function o(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,n)}return t}function c(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?o(Object(t),!0).forEach((function(s){u(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}function u(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}const l=e=>null!=e?e.toString():"unknownSource",d=({id:e,source:s,action:t,attributes:n})=>({actionSubject:`jiraForgeUi.${e}`,attributes:c(c({},n),{},{isSynthetic:Object(r.b)()}),source:s,action:t}),p=async()=>(await Object(n.b)()).getInstance(),m=async(e,s)=>{let{source:t}=s;return(async e=>(await p()).sendOperationalEvent(d(e)))(c(c({},a(s,["source"])),{},{source:l(t),action:e}))},f=async(e,s)=>{let{source:t}=s;return(async e=>(await p()).sendUIEvent(d(e)))(c(c({},a(s,["source"])),{},{source:l(t),action:e}))},b=async(e,s)=>{let{source:t}=s;return(async e=>(await p()).sendTrackEvent(d(e)))(c(c({},a(s,["source"])),{},{source:l(t),action:e}))},g=async(e,{id:s,attributes:t,error:n,source:a})=>Promise.all([m(e,{id:s,attributes:t,source:a}),n&&Object(i.a)("analytics",`Something went wrong with Forge initialization, isSynthetic=${Object(r.b)().toString()}, id=${s}, source=${l(a)}, action=${e}`,n)||Promise.resolve()])},"./src/packages/forge/forge-ui-analytics/src/common/utils/get-error-type/index.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return i}));var n=t("./src/packages/platform/utils/fetch/src/utils/errors.js");const r={MUST_INCLUDE_ACCOUNT_ID:"Response ended with an error message: Requests from this source must include an accountId",OPERATION_ABORTED:"The operation was aborted. ",CANCELLED:"cancelled",UNEXPECTED_ERROR_OCCURRED:"Response ended with an error message: An unexpected error occurred",NETWORK_CONNECTION_LOST:"The network connection was lost.",TIMEOUT:"The request timed out."},i=e=>{if(null==e)return"NULL_OR_UNDEFINED";const s=String(e instanceof Error?e.message:e).trim(),t=new RegExp("^Error server response: (\\d+)$","i");if(t.test(s)){const e=s.match(t);return`ERROR_SERVER_RESPONSE_${e?e[1]:"NO_STATUS_CODE"}`}if(Object(n.c)(e))return"FAILED_TO_FETCH";const i=Object.entries(r).find(e=>String(e[1]).toLowerCase()===s.toLowerCase());return i?i[0]:"OTHER"}},"./src/packages/forge/forge-ui-analytics/src/common/utils/index.js":function(e,s,t){"use strict";t.d(s,"c",(function(){return r})),t.d(s,"b",(function(){return i})),t.d(s,"a",(function(){return a}));const n=["jira:issueAction","jira:issueGlance","jira:issuePanel","jira:issueActivity","jira:customField"],r=e=>e.replace(/^jira:/,""),i=({module:e,moduleType:s="extension",entryPoint:t})=>{const i="trigger"===s?"Trigger":"";return`${(e=>n.includes(e)?r(e):"unknown")(e)}${(e=>e&&(e=>e.charAt(0).toUpperCase()+e.slice(1))(e)||"")(t)}${i}`},a=({module:e,moduleType:s,entryPoint:t},n)=>`jiraForgeUi.${i({module:e,moduleType:s,entryPoint:t})} ${n}`},"./src/packages/forge/forge-ui-analytics/src/common/utils/logger/index.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return i}));var n=t("./src/packages/common-legacy-do-not-add-anything-new/src/util/logging/log.js");const r={analytics:"jiraForgeUi.error.utils.analytics","environment-mapping":"jiraForgeUi.error.utils.environment-mapping","custom-field.view":"jiraForgeUi.error.issue.custom-field.view","custom-field-edit.service":"jiraForgeUi.error.issue.custom-field-edit.service","content-panel.epic":"jiraForgeUi.error.issue.content-panel.epic","content-panel.view":"jiraForgeUi.error.issue.content-panel.view","content-panel.epic.panel-not-found":"jiraForgeUi.error.issue.content-panel.view.panel.not.found","module-key-helper":"jiraForgeUi.error.issue.module-key-helper","web-runtime":"jiraForgeUi.error.web-runtime",async:"jiraForgeUi.error.async"},i=(e,s,t)=>{n.a.safeError(r[e],s,t)}},"./src/packages/forge/forge-ui-analytics/src/common/utils/measure-execution-time/index.js":function(e,s,t){"use strict";t.d(s,"b",(function(){return b})),t.d(s,"a",(function(){return g}));var n=t("./node_modules/uuid/index.js"),r=t.n(n),i=t("./src/packages/platform/observability/browser-metrics/src/index.js"),a=t("./src/packages/forge/forge-ui-analytics/src/constants.js");function o(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,n)}return t}function c(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?o(Object(t),!0).forEach((function(s){u(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}function u(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}const l=(e,s)=>`${e.forgeLocalId||e.forgeExtensionId}-${s}`,d=e=>`${a.b.FORGE_MODULES.LOAD_TIME}.${e}`,p=(e,s)=>t=>{Object(i.c)().markStartOfInteraction({key:d(e),concurrentId:l(t,s),cancelExisting:!0})},m=(e,s)=>t=>{Object(i.c)().markTimeToFinishTask({key:d(e),collectors:[e=>c(c({},e),t)],concurrentId:l(t,s),cancelExisting:!0})},f=(e,s)=>t=>{Object(i.c)().cancel({key:d(e),concurrentId:l(t,s)},!0)},b=e=>{const s=r()();return{start:p(e,s),stop:m(e,s),cancel:f(e,s)}},g=async(e,s,t)=>{const n=r()();try{const{markTimeToFinishTask:r}=Object(i.c)().markStartOfInteraction(c(c({key:e},t),{},{cancelExisting:!0,concurrentId:n})),a=await s();return r({}),a}catch(a){throw Object(i.c)().cancel({key:e,concurrentId:n},!0),a}}},"./src/packages/forge/forge-ui-analytics/src/constants.js":function(e,s,t){"use strict";t.d(s,"b",(function(){return n})),t.d(s,"d",(function(){return r})),t.d(s,"a",(function(){return i})),t.d(s,"c",(function(){return a}));const n={FORGE_MODULES:{FETCH_TIME:"jiraForgeUi.forge-modules.fetch-time",LOAD_TIME:"jiraForgeUi.forge-modules.load-time"}},r={CLICKED:"clicked",SELECTED:"selected",CANCELED:"canceled",ACTION_CLICKED:"action clicked",COLLAPSE_EXPAND_CLICKED:"collapse-expand clicked",REMOVE_CLICKED:"remove clicked"},i={FAILED:"failed",INITIALIZED:"initialized",EDIT_FAILED:"edit failed",ACTION_FAILED:"action failed",SAVE_FAILED:"save failed",REMOVE_FAILED:"remove failed",UPDATE_FAILED:"update failed"},a={EDITED:"edited",SAVED:"saved",REMOVED:"removed",ACTION_SUCCEED:"action succeed",UPDATE_SUCCEED:"update succeed"}},"./src/packages/forge/forge-ui-analytics/src/feature-flags.js":function(e,s,t){"use strict";t.d(s,"b",(function(){return r})),t.d(s,"a",(function(){return i}));var n=t("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js");const r=()=>Object(n.b)("issue.details.forge-ui-synthetic-check",!1),i=()=>Object(n.b)("smite.load-time-metric",!1)},"./src/packages/forge/forge-ui-analytics/src/services/fetch-modules/index.js":function(e,s,t){"use strict";t.d(s,"c",(function(){return o})),t.d(s,"b",(function(){return c})),t.d(s,"a",(function(){return u})),t.d(s,"f",(function(){return l})),t.d(s,"e",(function(){return d})),t.d(s,"d",(function(){return p}));var n=t("./src/packages/forge/forge-ui-analytics/src/common/utils/consumers/index.js");const r="started",i="finished",a="failed",o=(e,s)=>Object(n.a)(r,{id:"fetchModulesInitialization",source:e,attributes:s}),c=(e,s)=>Object(n.a)(i,{id:"fetchModulesInitialization",source:e,attributes:s}),u=(e,s,t)=>Object(n.a)(a,{id:"fetchModulesInitialization",source:e,attributes:s,error:t}),l=(e,s)=>Object(n.a)(r,{id:"issueViewInitialization",source:e,attributes:s}),d=(e,s)=>Object(n.a)(i,{id:"issueViewInitialization",source:e,attributes:s}),p=(e,s,t)=>Object(n.a)(a,{id:"issueViewInitialization",source:e,attributes:s,error:t})},"./src/packages/forge/forge-ui/src/feature-flags.js":function(e,s,t){"use strict";t.d(s,"e",(function(){return r})),t.d(s,"c",(function(){return i})),t.d(s,"d",(function(){return a})),t.d(s,"b",(function(){return o})),t.d(s,"f",(function(){return c})),t.d(s,"a",(function(){return u}));var n=t("./src/packages/common-legacy-do-not-add-anything-new/src/util/get-feature-flag-value.js");const r=()=>Object(n.b)("issue.details.forge-ui-integration",!1),i=()=>Object(n.b)("issue.details.forge-ui-anon-access",!1),a=()=>Object(n.b)("issue.details.forge-ui-hosted-resources",!1),o=()=>Object(n.b)("issue.details.forge-pass-custom-field-data-in-extension-context",!1),c={OFF:"OFF",ERROR_GET:"ERROR_GET",DELAY_GET:"DELAY_GET",ERROR_INVOKE:"ERROR_INVOKE",DELAY_INVOKE:"DELAY_INVOKE"},u=()=>Object(n.c)("jira.forge.wargame.frontend",c.OFF,Object.keys(c).map(e=>c[e]))},"./src/packages/forge/forge-ui/src/utils/can-fetch-forge/index.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return i}));var n=t("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),r=t("./src/packages/forge/forge-ui/src/feature-flags.js");const i=()=>{const{isAnonymous:e}=Object(n.f)();return!!Object(r.e)()&&(!e||Object(r.c)())}},"./src/packages/forge/forge-ui/src/utils/errors/index.js":function(e,s,t){"use strict";t.d(s,"b",(function(){return n})),t.d(s,"a",(function(){return r}));class n{constructor(e,s=[]){this.name=void 0,this.message=void 0,this.errors=void 0,this.name="LimitError",this.message=e,this.errors=s}}class r extends Error{constructor(e,s=[]){super(),this.name=void 0,this.message=void 0,this.errors=void 0,this.name="InfrastructureError",this.message=e,this.errors=s}}},"./src/packages/forge/forge-ui/src/utils/extension/index.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return n}));const n=({properties:{resource:e}})=>null!=e},"./src/packages/forge/forge-ui/src/utils/fetch-modules/index.js":function(e,s,t){"use strict";var n=t("./node_modules/lodash/camelCase.js"),r=t.n(n),i=t("./node_modules/lodash/zipObject.js"),a=t.n(i),o=t("./src/packages/platform/utils/fetch/src/utils/requests.js"),c=t("./src/packages/forge/forge-ui-analytics/src/common/utils/index.js"),u=t("./src/packages/forge/forge-ui-analytics/src/common/utils/get-error-type/index.js"),l=t("./src/packages/forge/forge-ui-analytics/src/common/utils/measure-execution-time/index.js"),d=t("./src/packages/forge/forge-ui-analytics/src/constants.js"),p=t("./src/packages/forge/forge-ui-analytics/src/services/fetch-modules/index.js"),m=t("./src/packages/forge/forge-ui/src/feature-flags.js"),f=t("./src/packages/forge/forge-ui/src/utils/can-fetch-forge/index.js"),b=t("./src/packages/forge/forge-ui/src/utils/errors/index.js"),g=t("./src/packages/forge/forge-ui/src/utils/extension/index.js");function y(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,n)}return t}function j(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?y(Object(t),!0).forEach((function(s){h(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}function h(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}const O=["TOO_MANY_REQUESTS","RESOURCE_ACCESS_DENIED"],v=e=>r()(e),w=e=>e.map(v),k=(e,s)=>a()((e=>e.map(e=>`${Object(c.c)(e)}Count`))(e),(e=>e.map(e=>e.length))(s)),E=async(e,s,t)=>{if(0===t.length)throw new Error("No modules to fetch provided");const n=(e=>`\n    query extensionList($contextIds: [ID!]!${e.map(e=>`, $${e}: String!`).join("")}) {\n        extensionContexts(contextIds: $contextIds) {\n            ${e.map(e=>`\n                ${e}: extensionsByType(type: $${e}) {\n                id\n                appVersion\n                installationId\n                environmentId\n                environmentType\n                properties\n                type\n                __typename\n            }`).join("")}\n        }\n    }\n`)(w(t)),r=j(j({},(e=>a()(w(e),e))(t)),{},{contextIds:[`ari:cloud:jira::site/${s}`]}),{data:i,errors:c}=await Object(l.a)(d.b.FORGE_MODULES.FETCH_TIME,()=>Object(o.d)(`${e}/gateway/api/graphql${(()=>{switch(Object(m.a)()){case m.f.DELAY_GET:return"?serviceOverride=cs_extensions="+encodeURIComponent("https://smite-always500delay.ap-southeast-2.dev.atl-paas.net");case m.f.ERROR_GET:return"?serviceOverride=cs_extensions="+encodeURIComponent("https://smite-always500-v1.ap-southeast-2.dev.atl-paas.net");default:return""}})()}`,{body:JSON.stringify({query:n,variables:r}),method:"POST"}));if(c){var u,p;if(O.includes(null===(u=c[0].extensions)||void 0===u||null===(p=u.errorDetails)||void 0===p?void 0:p.code))throw new b.a(`Response ended with an error message: ${c[0].message}`,c);throw new Error(`Response ended with an error message: ${c[0].message}`)}if(!i)throw new Error("No data returned");return((e,{extensionContexts:s})=>{const t=e.map(e=>{const t=v(e);return s.find(e=>null!=e[t])[t]});return Object(m.d)()?t:t.map(e=>e.filter(e=>!Object(g.a)(e)))})(t,i)};s.a=async(e,s,t)=>{try{if(!Object(f.a)())return Promise.resolve(Array(t.length).fill([]));Object(p.c)("unknownSource");const n=await E(e,s,t);return Object(p.b)("unknownSource",k(t,n)),n}catch(n){throw Object(p.a)("unknownSource",{isInfrastructure:n instanceof b.a,errorType:Object(u.a)(n)},n),n}}},"./src/packages/issue/issue-fetch-services-common/src/common/utils/token-browser-utils.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return n}));const n=()=>65536},"./src/packages/issue/issue-fetch-services-common/src/feature-flags.js":function(e,s,t){"use strict";t.d(s,"e",(function(){return a})),t.d(s,"d",(function(){return o})),t.d(s,"c",(function(){return c})),t.d(s,"h",(function(){return u})),t.d(s,"g",(function(){return l})),t.d(s,"b",(function(){return d})),t.d(s,"f",(function(){return p})),t.d(s,"i",(function(){return m})),t.d(s,"a",(function(){return f}));let n=null;const r=()=>(n||(n=(()=>{const e=document.querySelector('meta[name="ajs-fe-feature-flags"]'),s=null==e?void 0:e.getAttribute("content");return null!=s?JSON.parse(s):null})()||(()=>{var e;return null!==(e=window.ssr__feFeatureFlags)&&void 0!==e?e:null})()||{}),n),i=(e,s=!1)=>{const t=r();return t[e]?!!t[e].value:s},a=()=>i("issue.details.forge-ui-integration"),o=()=>i("issue.details.media.tokens.from.gira"),c=()=>i("issue.details.door-knock.prototype-v1"),u=()=>i("jsm.cross.site.issue.link.for.bento.phase1"),l=()=>i("jsm.cross.site.issue.link.for.bento.phase2.link-preview"),d=()=>i("jfp.perf.loading-phases.spa-entry-fullpage-issue"),p=()=>i("jfp.perf.issue-early-data-scoping"),m=()=>i("shpl-113-sort-issue-under-epic",!1),f=()=>i("issue.details.bento-6520-activity-sorting",!1)},"./src/packages/issue/issue-fetch-services-common/src/services/issue-gira-data/gira-fragments/issue-sections/index.js":function(e,s,t){"use strict";t.d(s,"b",(function(){return n}));const n=()=>`\n  ${(()=>"\nfragment groupItems on GroupSectionItem {\n    ... on FieldSectionItem {\n      id\n    }\n    ... on PanelSectionItem {\n      id\n    }\n    ... on EcosystemSectionItem {\n      id\n    }\n    ... on ForgeSectionItem {\n      id\n    }\n  }")()}\n  ${(()=>"\n  fragment sectionItems on SectionItem {\n    __typename\n    ... on FieldSectionItem {\n      id\n    }\n    ... on TabLayout {\n      id\n      name\n      items {\n        ... on FieldSectionItem {\n          id\n        }\n      }\n    }\n    ... on PanelSectionItem {\n      id\n    }\n    ... on EcosystemSectionItem {\n      id\n    }\n    ... on ForgeSectionItem {\n      id\n    }\n    ... on GroupLayout {\n      id\n      name\n      items {\n        ...groupItems\n      }\n    }\n  }")()}\n  ${(()=>"\nfragment section on Section {\n    items {\n      ...sectionItems\n    }\n  }\n  ")()}\n  `;s.a=()=>"\n  issueSections {\n    __typename\n    ... on PrimarySecondaryContextSections {\n      contentSection {\n        ...section\n      }\n      primaryContextSection {\n        ...section\n      }\n      secondaryContextSection {\n        ...section\n      }\n    }\n    ... on JsdSections {\n      requestPortalSection {\n        ...section\n      }\n      contentSection {\n        ...section\n      }\n      primaryContextSection {\n        ...section\n      }\n      secondaryContextSection {\n        ...section\n      }\n    }\n  }\n  "},"./src/packages/issue/issue-fetch-services-common/src/services/issue-gira-data/index.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return u})),t.d(s,"d",(function(){return l})),t.d(s,"b",(function(){return d})),t.d(s,"c",(function(){return p}));var n=t("./src/packages/issue/issue-fetch-services-common/src/feature-flags.js"),r=t("./src/packages/issue/issue-fetch-services-common/src/common/utils/token-browser-utils.js");const i={COMMENTS:"focusedCommentId",WORKLOG:"focusedWorklogId"},a=e=>{if(!i[e])return null;return(()=>{let e=window.location.search.slice(1);const s={};if(e){e=e.split("#")[0];const t=e.split("&");for(let e=0;e<t.length;e+=1){const n=t[e].split("="),r=n[0],i=void 0===n[1]||decodeURIComponent(n[1]);s[r]=i}}return s})()[i[e]]};const o=()=>`\n    ecosystem {\n      operations {\n        name\n        url: href\n        icon {\n          url\n        }\n        tooltip\n        styleClass\n      }\n      contentPanels {\n        name\n        iframe {\n          addonKey\n          moduleKey\n          options\n        }\n        icon {\n          url\n        }\n        tooltip\n        type\n        showByDefault\n        manuallyAddedToIssue\n      }\n      activityPanels {\n        name\n        iframe {\n          addonKey\n          moduleKey\n          options\n        }\n      }\n      backgroundScripts {\n        iframe {\n          addonKey\n          moduleKey\n          options\n        }\n        shouldReloadOnRefresh\n      }\n      ecoSystemOnDate\n      contentPanelsCustomised\n      ${(()=>Object(n.e)()?"forge {\n        panels {\n          id\n          instances {\n            id\n            collapsed\n            added\n          }\n        }\n      }":"")()}\n    }\n`;var c=t("./src/packages/issue/issue-fetch-services-common/src/services/issue-gira-data/gira-fragments/issue-sections/index.js");const u="issueViewInteractiveQuery",l=e=>`${e}/rest/gira/1/`,d=e=>`\nquery ${u}($issueKey: String!, $projectKey: String)  {\n        ${(()=>Object(n.d)()?`mediaContext(issueKey: $issueKey) {\n    userToken {\n      token\n      id\n      issueId\n    }\n    uploadToken {\n      __typename\n      ... on MediaUploadToken {\n        endpointUrl\n        token\n        targetCollection\n        tokenDurationInMins\n        clientId\n      }\n      ... on FailedMediaUploadToken {\n        error\n      }\n    }\n    readToken(maxTokenLength: ${Object(r.a)()}) {\n      clientId\n      endpointUrl\n      tokensWithFiles {\n        files {\n          issueId\n          attachmentId\n          attachmentMediaApiId\n        }\n        token\n      }\n      tokenLifespanInSeconds\n    }\n  }`:"")()}\n        viewIssue(issueKey: $issueKey) {\n            ${((e,s,t)=>{const n=a("COMMENTS");return`\n        comments (first: ${s}, maxResults: ${e}, orderBy: "${t}", ${null!=n?`commentId: ${n}`:""}) {\n            nodes {\n                id\n                author {\n                    accountId\n                    displayName\n                    avatarUrl\n                }\n                updateAuthor {\n                    accountId\n                    displayName\n                    avatarUrl\n                }\n                visibility {\n                    type\n                    value\n                }\n                created\n                updated\n                renderedBody\n                jsdPublic\n                bodyAdf\n            }\n            totalCount\n            startIndex\n        }\n    `})(5,0,"-created")}\n            ${((e,s,t)=>{const n=a("WORKLOG");return null==n?"":`\n        worklogs (startAt: ${s}, maxResults: ${e}, orderBy: "${t}", ${`worklogId: ${n}`}) {\n            nodes {\n                id\n                author {\n                    accountId\n                    displayName\n                    avatarUrl\n                }\n                updateAuthor {\n                    accountId\n                    displayName\n                    avatarUrl\n                }\n                created\n                started\n                updated\n                comment\n                timeSpent\n                timeSpentSeconds\n            }\n            totalCount\n            startIndex\n        }\n    `})(5,0,"-started")}  \n            ${o()}\n            fields {\n                __typename\n                    ${(()=>"\n      ... on GlancesField {\n        fieldKey\n        value {\n          name\n          status\n          iframe {\n            addonKey\n            moduleKey\n            options\n          }\n          icon {\n            url\n          }\n          content\n          type\n        }\n      }\n")()}\n            }\n            ${(()=>"attachments(orderDirection: DESC, orderField: CREATED, maxResults: 6) {\n            nodes {\n              id\n              filename\n              mimetype\n              mediaApiFileId\n              createdDate\n              filesize\n              parentName\n              author {\n                  accountId\n              }\n              parentId\n            }\n            totalCount\n          }\n    ")()}\n            ${(()=>"\n    layoutItems {\n        location\n        category\n        items {\n        itemId\n        type\n        }\n    }\n")()}            \n            ${Object(c.a)()}     \n            ${Object(n.h)()&&Object(n.g)()?(()=>"\n    remoteLinks {\n        isLinkingEnabled\n        remoteLinkedIssues {\n            preview {\n                id\n                issueId\n                globalId\n                href\n                applicationType\n                applicationName\n                relationship\n                title\n            }\n        }\n    }            \n")():""}\n        }\n        ${(()=>"\n    licensedProducts {\n        name\n        status\n    }\n")()}\n        ${(()=>`\n    jiraSettings {\n      ${(()=>"\n      timeTracking {\n        isTimeTrackingEnabled\n        hoursPerDay\n        daysPerWeek\n        defaultUnit\n      }\n")()}\n      ${(()=>"\n      subtasks {\n        enabled\n      }\n")()}\n      issueLinkTypes {\n        id\n        name\n        inward\n        outward\n      }\n      newIssueViewTransitionSettings {\n        shouldDelayChangeboarding\n        newIssueViewTransitionLockingStatus\n     }\n    }\n`)()}\n        ${(()=>`\n    permissions(issueKey:$issueKey, keys:["${(()=>["ADMINISTER","ADMINISTER_PROJECTS","ASSIGN_ISSUES","EDIT_ISSUES","SCHEDULE_ISSUES","ADD_COMMENTS","DELETE_ALL_COMMENTS","DELETE_OWN_COMMENTS","EDIT_ALL_COMMENTS","EDIT_OWN_COMMENTS","CREATE_ISSUES","DELETE_ISSUES","MOVE_ISSUES","CREATE_ATTACHMENTS","DELETE_ALL_ATTACHMENTS","DELETE_OWN_ATTACHMENTS","WORK_ON_ISSUES","ASSIGNABLE_USER","LINK_ISSUES","VIEW_VOTERS_AND_WATCHERS","MANAGE_WATCHERS","EDIT_ALL_WORKLOGS","EDIT_OWN_WORKLOGS","DELETE_ALL_WORKLOGS","DELETE_OWN_WORKLOGS","USER_PICKER","VIEW_DEV_TOOLS","SERVICEDESK_AGENT"])().join('","')}"]) {\n        key\n        havePermission\n    }\n`)()}\n        ${(e=>`\n    myPreferences(keys: [\n        "jira.user.issue.changeboarding.lastinteracted",\n        "jira.user.issue.clickthrough-banner.lastinteracted",\n        "jira.user.issue.attachment.view",\n        "jira.user.issue.details.pinned-fields.${e}"\n    ])\n`)(e)}\n        ${(()=>"\n    project(projectKey: $projectKey) {\n        id\n        newIssueViewLockedIn\n        issueTypes {\n            id\n            name\n            iconUrl\n            subtask\n        }\n    }\n")()}\n        ${Object(n.a)()?(()=>"activitySortOrder")():""}\n    }\n    ${Object(c.b)()}\n    \n`,p=(e,s)=>({method:"POST",body:JSON.stringify({query:d(s),variables:{issueKey:e,projectKey:s}})})},"./src/packages/issue/issue-fetch-services-common/src/services/issue-graphql-data/index.js":function(e,s,t){"use strict";t.d(s,"b",(function(){return a})),t.d(s,"a",(function(){return o}));var n=t("./src/packages/issue/issue-fetch-services-common/src/feature-flags.js");const r=(e,...s)=>{let t="";return s.forEach((s,n)=>{t+=e[n],t+=s.toString()}),t+=e[e.length-1],t};var i=(e,s)=>r`query {
        issue(issueIdOrKey: "${e}", latestVersion: true, screen: "view") {
            id
            fields {
                key
                title
                editable
                required
                autoCompleteUrl
                allowedValues
                content
                renderedContent
                schema {
                    custom
                    system
                    ${(()=>"configuration {\n        key\n        value\n    }\n    ")()}
                    items
                    type
                    renderer
                }
                configuration
            }
            expandAssigneeInSubtasks
            expandAssigneeInIssuelinks
            expandTimeTrackingInSubtasks
            ${Object(n.i)()?"expandSystemDateTimesForChildIssues":""}
            systemFields {
                descriptionAdf {
                    value
                }
                ${(()=>"environmentAdf {\n        value\n    }")()}
            }
            customFields {
                textareaAdf {
                    key
                    value
                }
            }            
            ${(()=>"tabs {\n        id\n        name\n        items {\n            id\n            type\n        }\n    }")()}
            ${(()=>"\n    isHybridAgilityProject\n    ")()}
            ${(()=>"\n    agile {\n        epic {\n          key\n        },\n    }")()}
        }
        project(projectIdOrKey: "${s}") {
            id
            name
            key
            projectTypeKey
            simplified
            avatarUrls {
                key
                value
            }
            issueTypeHierarchy {
                baseLevelId
                levels {
                    id
                    aboveLevelId
                    belowLevelId
                }
            }
        }
    }`;const a=e=>`${e}/rest/graphql/1/`,o=(e,s)=>({method:"POST",body:JSON.stringify({query:i(e,s)})})},"./src/packages/issue/issue-fetch-services-common/src/services/issue-media-read-permissions/index.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return n}));const n=(e,s,t)=>`${e}/rest/api/2/attachment/read/issue/${s}/credentials?maxTokenLength=${t}`},"./src/packages/issue/issue-fetch-services-common/src/services/issue-media-upload-permissions/index.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return n}));const n=(e,s)=>`${e}/rest/api/2/attachment/upload/issue/${s}/credentials`},"./src/packages/issue/issue-fetch-services-common/src/services/issue-media-user-auth/index.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return n}));const n=e=>`${e}/rest/internal/2/media/user/credentials`},"./src/packages/issue/issue-fetch-services/src/common/utils/client.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return i}));var n=t("./src/packages/platform/utils/fetch/src/utils/as-json.js");let r=null;const i=e=>(r||(r=(e=>({query:({query:s,variables:t})=>Object(n.a)(`${e}/rest/gira/1/`,{method:"POST",body:JSON.stringify({query:s,variables:t})})}))(e)),r)},"./src/packages/issue/issue-fetch-services/src/common/utils/get-project-data.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return r}));var n=t("./src/packages/platform/utils/types/src/general.js");const r=e=>Object(n.q)(e.split("-")[0])},"./src/packages/issue/issue-fetch-services/src/services/issue-forge-data/index.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return r}));var n=t("./src/packages/forge/forge-ui/src/utils/fetch-modules/index.js");const r=async(e,s)=>{const t=Object(n.a)(e,s,["jira:issueAction","jira:issueGlance","jira:issuePanel","jira:issueActivity","jira:customField"]),r=await t,[i,a,o,c,u]=r;return{issueAction:i,issueGlance:a,issuePanel:o,issueActivity:c,customField:u}}},"./src/packages/issue/issue-fetch-services/src/services/issue-gira-data/index.js":function(e,s,t){"use strict";var n=t("./src/packages/issue/issue-fetch-services-common/src/services/issue-gira-data/index.js"),r=t("./src/packages/issue/issue-fetch-services/src/common/utils/client.js"),i=t("./src/packages/issue/issue-fetch-services/src/common/utils/get-project-data.js");s.a=async(e,s)=>{const t=Object(i.a)(s),a={issueKey:s,projectKey:t};return await Object(r.a)(e).query({query:Object(n.b)(t),variables:a})}},"./src/packages/issue/issue-fetch-services/src/services/issue-graphql-data/index.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return i}));var n=t("./src/packages/platform/utils/fetch/src/utils/as-json.js"),r=t("./src/packages/issue/issue-fetch-services-common/src/services/issue-graphql-data/index.js");const i=(e,s,t)=>Object(n.a)(Object(r.b)(e),Object(r.a)(s,t))},"./src/packages/issue/issue-fetch-services/src/services/issue-media-read-permissions/index.js":function(e,s,t){"use strict";t.d(s,"b",(function(){return c})),t.d(s,"a",(function(){return u}));t("./node_modules/rxjs/Observable.js");var n=t("./src/packages/platform/utils/fetch/src/utils/as-json-stream.js"),r=t("./src/packages/platform/utils/fetch/src/utils/as-json.js"),i=t("./src/packages/issue/issue-fetch-services-common/src/services/issue-media-read-permissions/index.js"),a=t("./src/packages/issue/issue-view/src/browser-metrics/browser-metrics-constants.js"),o=t("./src/packages/issue/issue-view/src/utils/issue-view-fetch-error.js");const c=(e,s,t,r)=>Object(n.a)(Object(i.a)(e,s,t),{perf:a.i,headersProcessor:r&&r(a.i.key)}).catch(e=>{throw new o.a(e,Object(i.a)("{baseUrl}","{issueKey}","{maxTokenLength}"))}),u=(e,s,t,n)=>Object(r.a)(Object(i.a)(e,s,t),{perf:a.i,headersProcessor:n&&n(a.i.key)})},"./src/packages/issue/issue-fetch-services/src/services/issue-media-upload-permissions/index.js":function(e,s,t){"use strict";t.d(s,"b",(function(){return o})),t.d(s,"a",(function(){return c}));var n=t("./src/packages/platform/utils/fetch/src/utils/as-json-stream.js"),r=t("./src/packages/platform/utils/fetch/src/utils/as-json.js"),i=t("./src/packages/issue/issue-fetch-services-common/src/services/issue-media-upload-permissions/index.js"),a=t("./src/packages/issue/issue-view/src/utils/issue-view-fetch-error.js");const o=(e,s)=>Object(n.a)(Object(i.a)(e,s)).catch(e=>{throw new a.a(e,Object(i.a)("{baseUrl}","{issueKey}"))}),c=(e,s)=>Object(r.a)(Object(i.a)(e,s))},"./src/packages/issue/issue-fetch-services/src/services/issue-media-user-auth/index.js":function(e,s,t){"use strict";t.d(s,"b",(function(){return o})),t.d(s,"a",(function(){return c}));var n=t("./src/packages/platform/utils/fetch/src/utils/as-json-stream.js"),r=t("./src/packages/platform/utils/fetch/src/utils/as-json.js"),i=t("./src/packages/issue/issue-fetch-services-common/src/services/issue-media-user-auth/index.js"),a=t("./src/packages/issue/issue-view/src/utils/issue-view-fetch-error.js");const o=e=>Object(n.a)(Object(i.a)(e)).catch(e=>{throw new a.a(e,Object(i.a)("{baseUrl}"))}),c=e=>Object(r.a)(Object(i.a)(e))},"./src/packages/issue/issue-view/src/browser-metrics/browser-metrics-constants.js":function(e,s,t){"use strict";t.d(s,"c",(function(){return n})),t.d(s,"a",(function(){return r})),t.d(s,"d",(function(){return i})),t.d(s,"f",(function(){return a})),t.d(s,"g",(function(){return o})),t.d(s,"h",(function(){return c})),t.d(s,"i",(function(){return u})),t.d(s,"b",(function(){return l})),t.d(s,"e",(function(){return d}));const n={key:"FETCH_FIELD_DATA",prefix:"ISSUE_DETAILS"},r={key:"FETCH_INITIAL_COMMENTS",prefix:"ISSUE_DETAILS"},i={key:"FETCH_ISSUE_LINK_TYPES",prefix:"ISSUE_DETAILS"},a={key:"FETCH_SUBTASK_TYPES",prefix:"ISSUE_DETAILS"},o={key:"FETCH_LOAD_CONTEXT",prefix:"ISSUE_DETAILS"},c={key:"FETCH_USER_AUTH",prefix:"ISSUE_DETAILS"},u={key:"FETCH_VIEW_CONTEXT",prefix:"ISSUE_DETAILS"},l={key:"FETCH_ECOSYSTEM_EXTENSIONS",prefix:"ISSUE_DETAILS"},d={key:"FETCH_ISSUE_PROPERTIES",prefix:"ISSUE_DETAILS"}},"./src/packages/issue/issue-view/src/common/model/comment-type.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return n}));const n={type:"public",value:""}},"./src/packages/issue/issue-view/src/common/service/issue/comment-transformer.js":function(e,s,t){"use strict";t.d(s,"c",(function(){return l})),t.d(s,"f",(function(){return d})),t.d(s,"e",(function(){return p})),t.d(s,"d",(function(){return m})),t.d(s,"a",(function(){return f})),t.d(s,"b",(function(){return b}));var n=t("./src/packages/platform/observability/analytics-legacy-gasv2/src/error.js"),r=t("./src/packages/common-legacy-do-not-add-anything-new/src/date/transform-to-iso-string.js"),i=t("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),a=t("./src/packages/rich-content/src/common/adf-parsing-utils.js"),o=t("./src/packages/issue/issue-view/src/common/model/comment-type.js"),c=t("./src/packages/issue/issue-view/src/common/service/issue/gira/util.js"),u=t("./src/packages/issue/issue-view/src/common/service/issue/user-transformer.js");const l=e=>({id:e.id,author:e.author?Object(u.c)(e.author):null,updateAuthor:e.updateAuthor?Object(u.c)(e.updateAuthor):null,bodyAdf:e.body,bodyHtml:void 0,visibility:e.visibility,createdDate:Object(r.a)(e.created),updatedDate:e.updated?Object(r.a)(e.updated):null,edited:!!e.updated&&e.updated!==e.created,isInternal:!e.jsdPublic}),d=({id:e,author:s,updateAuthor:t,visibility:n,created:i,updated:o,bodyAdf:c,renderedBody:l,jsdPublic:d})=>({id:e,author:s?Object(u.b)(s):null,updateAuthor:t?Object(u.b)(t):null,visibility:n,createdDate:Object(r.a)(i),updatedDate:o?Object(r.a)(o):null,edited:!!o&&o!==i,bodyAdf:Object(a.a)(c),bodyHtml:l,isInternal:!d}),p=e=>({comments:e.data.issueComments.nodes.map(e=>d(e)),totalComments:e.data.issueComments.totalCount}),m=({type:e,value:s})=>{switch(e?e.toLowerCase():null){case"group":return{value:s,type:"group"};case"role":return{value:s,type:"role"};default:{const t=`transformCommentVisibility: unknown comment visibility type received '${e}'`;return i.i.safeError("issue.transform.comment",t,new n.a({eventNameSuffix:"issue.error",type:"js",app:"issue",event:new Error(t)})),{value:s,type:"role"}}}},f=e=>{const s=e.author?e.author.id:null,t=e.updateAuthor?e.updateAuthor.id:null;return{id:e.id,authorId:s,updateAuthorId:t,bodyAdf:e.bodyAdf,bodyHtml:e.bodyHtml,createdDate:e.createdDate,updatedDate:e.updatedDate,edited:e.edited,visibility:e.visibility?m(e.visibility):o.a,isInternal:e.isInternal}},b=(e,s,t,n)=>{const{comments:r}=e,i=r.filter(e=>e.author).map(e=>e.author),a=Math.max("FETCH_NEWER_COMMENTS_REQUEST"===n?t-r.length:t,0);return{users:Object(c.b)(i,"id"),comments:Object(c.b)(r.map(f),"id"),loadedComments:s+r.length,commentsStartIndex:a,totalComments:e.totalComments}}},"./src/packages/issue/issue-view/src/common/service/issue/gira/util.js":function(e,s,t){"use strict";function n(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,n)}return t}function r(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?n(Object(t),!0).forEach((function(s){i(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}function i(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}t.d(s,"a",(function(){return a})),t.d(s,"b",(function(){return o}));const a=(e,s)=>e.find(e=>e.__typename===s),o=(e,s)=>e.reduce((e,t)=>r(r({},e),{},{[t[s]]:t}),{})},"./src/packages/issue/issue-view/src/common/service/issue/user-transformer.js":function(e,s,t){"use strict";t.d(s,"c",(function(){return m})),t.d(s,"a",(function(){return f})),t.d(s,"b",(function(){return g})),t.d(s,"d",(function(){return y}));var n=t("./node_modules/lodash/every.js"),r=t.n(n),i=t("./node_modules/lodash/has.js"),a=t.n(i),o=t("./node_modules/lodash/partial.js"),c=t.n(o),u=t("./src/packages/platform/utils/types/src/general.js");function l(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,n)}return t}function d(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}const p=["accountId","displayName","avatarUrls","timeZone"],m=({accountId:e,displayName:s,avatarUrls:t,timeZone:n})=>({displayName:s,id:Object(u.a)(e),avatarUrl:t["48x48"],timeZone:n}),f=e=>{const{applicationRoles:s}=e;return s&&s.items&&s.items.map(e=>e.key)||[]},b=e=>{const s=e.find(e=>"48x48"===e.key);return s&&s.value||null},g=e=>{const{accountId:s,displayName:t,avatarUrl:n,avatarUrls:r,timeZone:i}=e;return function(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?l(Object(t),!0).forEach((function(s){d(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}({id:s,displayName:t,avatarUrl:n||b(r)},i?{timeZone:i}:{})},y=e=>{if(!e)throw new Error("User is null or undefined");if(!(e&&r()(p,c()(a.a,e))))throw new Error(`User object is not expected shape, keys present: ${Object.keys(e).toString()}`);return e}},"./src/packages/issue/issue-view/src/common/util/entry/get-project-key.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return r}));var n=t("./src/packages/platform/utils/types/src/general.js");const r=e=>Object(n.q)(e.split("-")[0])},"./src/packages/issue/issue-view/src/common/util/errors/index.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return a}));var n=t("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),r=t("./src/packages/platform/observability/errors-handling/src/utils/fire-error-analytics.js"),i=t("./src/packages/platform/utils/fetch/src/utils/errors.js");const a=(e,s,t,a)=>{t instanceof TypeError&&Object(i.c)(t)?((e,s,t)=>{Object(r.a)({error:t,attributes:{message:s},meta:{id:e,packageName:"jiraIssueView"}})})(e,s,t):a&&n.i.safeError(e,s,a)}},"./src/packages/issue/issue-view/src/feature-flags.js":function(e,s,t){"use strict";t.r(s),t.d(s,"isJSDBentoEnabled",(function(){return i})),t.d(s,"isTemplatedFoundationContentEnabled",(function(){return a})),t.d(s,"isTemplatedFoundationContextEnabled",(function(){return o})),t.d(s,"isTemplatedBaseContextEnabled",(function(){return c})),t.d(s,"isContentTemplateRendererEnabled",(function(){return u})),t.d(s,"isGlanceAndTabSweetStateEnabled",(function(){return l})),t.d(s,"isInlineCloneEnabled",(function(){return d})),t.d(s,"isNgEmbeddedIssueRouteResourcesEnabled",(function(){return p})),t.d(s,"isDoorKnockPrototypeEnabled",(function(){return m})),t.d(s,"isInlineAssigneeInChildrenEnabled",(function(){return f})),t.d(s,"isReadFromSweetStateBeforeSavingEnabled",(function(){return b})),t.d(s,"isNewIssueViewAdminOptionsPhase2ReplacementEnabled",(function(){return g})),t.d(s,"isImproveSwitchViewMenuEnabled",(function(){return y})),t.d(s,"isSkip4xxReportingEnabled",(function(){return j})),t.d(s,"isPreviewRemoteIssueLinksEnabled",(function(){return h})),t.d(s,"isRemoteIssueLinksEnabled",(function(){return O})),t.d(s,"isRemoteIssueReciprocalLinkEnabled",(function(){return v})),t.d(s,"isUIUpdateForRemoteIssueLinksEnabled",(function(){return w})),t.d(s,"isForgeUiIntegrationEnabled",(function(){return k})),t.d(s,"isForgeUiCachedNullResponseFixEnabled",(function(){return E})),t.d(s,"isForgeUiConditionsEnabled",(function(){return S})),t.d(s,"isForgeUiUserListCustomFieldIntegrationEnabled",(function(){return I})),t.d(s,"isfetchMediaTokensFromGiraEnabled",(function(){return P})),t.d(s,"isRemoveMediaPromiseEnabled",(function(){return x})),t.d(s,"isGraphqlFix_BulkBuildEnabled",(function(){return C})),t.d(s,"isGraphqlFix_PreloadIssueEnabled",(function(){return D})),t.d(s,"isGraphqlFix_epicsBulk",(function(){return _})),t.d(s,"isGraphqlFix_sprintBulk",(function(){return T})),t.d(s,"isExtractedSummaryFieldEnabled",(function(){return R})),t.d(s,"isEmbeddedPageBentoBM3Enabled",(function(){return U})),t.d(s,"isStopIssueViewRemountsOnIssueChangeEnabled",(function(){return F})),t.d(s,"isAnalyticRefactorEnabled",(function(){return L})),t.d(s,"isUseTrueShallowEqualEnabled",(function(){return $})),t.d(s,"isUseUseAccountIdEnabled",(function(){return M})),t.d(s,"isSortingIssuesUnderEpicEnabled",(function(){return K})),t.d(s,"isRemoveDataProviderRefresh",(function(){return N})),t.d(s,"isUseAppPermissionsFromTenantContextEnabled",(function(){return V})),t.d(s,"isItSafeLoggingEnabledToUseAppPermissionsFromTenantContext",(function(){return G})),t.d(s,"isShortcutMenuEnabled",(function(){return q})),t.d(s,"isBentoPrefetchErrorFixEnabled",(function(){return B})),t.d(s,"isProjectsDirectoryPrettyUrlEnabled",(function(){return H})),t.d(s,"isForgeCustomFieldDataPassInExtensionContext",(function(){return z})),t.d(s,"isEpicPickerFewerMaxResultsEnabled",(function(){return W})),t.d(s,"isSmartEpicRankingEnabled",(function(){return J})),t.d(s,"isSmartSprintRankingEnabled",(function(){return Y})),t.d(s,"isNewCardExperience",(function(){return Q})),t.d(s,"isFolderUploadsEnabled",(function(){return X})),t.d(s,"isCodeViewerEnabled",(function(){return Z})),t.d(s,"isZipPreviewEnabled",(function(){return ee})),t.d(s,"getClientPollingIntervalMs",(function(){return se})),t.d(s,"getClientPollingMaxAttempts",(function(){return te})),t.d(s,"getClientPollingBackoffFactor",(function(){return ne})),t.d(s,"getClientPollingMaxIntervalMs",(function(){return re})),t.d(s,"getClientPollingMaxGlobalFailures",(function(){return ie})),t.d(s,"isResolutionAndFlaggedFromIssueSsrEnabled",(function(){return ae})),t.d(s,"isActivitySortingEnabled",(function(){return oe})),t.d(s,"isOptInBackToBentoEnabled",(function(){return ce})),t.d(s,"isVoterInSingleColumnEnabled",(function(){return ue})),t.d(s,"isFullPageBentoBM2Enabled",(function(){return de})),t.d(s,"isFullPageBentoBM3Enabled",(function(){return pe})),t.d(s,"isTeamsCustomFieldTypeEnabled",(function(){return me})),t.d(s,"isIssueGlanceNewLoadStrategyEnabled",(function(){return fe})),t.d(s,"isCmdbIntegrationFieldEnabled",(function(){return be})),t.d(s,"isCmdbLegacyIntegrationEnabled",(function(){return ge})),t.d(s,"isPersistentUpgradeBannerEnabled",(function(){return ye})),t.d(s,"getProductRequirementsDocDiscoveryFlag",(function(){return je})),t.d(s,"getProductRequirementsDocDiscoveryMetricValue",(function(){return he})),t.d(s,"isPageAlreadyCreatedFlagEnabled",(function(){return Oe})),t.d(s,"isUseExtractedNumberFieldEnabled",(function(){return ve})),t.d(s,"isIssueContextHooksConsumedPart1Enabled",(function(){return we})),t.d(s,"isAddIssueIdToSweetStateEnabled",(function(){return ke})),t.d(s,"isApprovalFieldExtractionEnabled",(function(){return Ee})),t.d(s,"isPageLayoutEnabled",(function(){return Se})),t.d(s,"isFixDescriptionRerenderBugEnabled",(function(){return Ie})),t.d(s,"isAddConfluenceButtonOnChildAndLinkedIssuesEnabled",(function(){return Pe})),t.d(s,"isPolarisInsightsTabEnabled",(function(){return xe})),t.d(s,"isFieldSuggestionsRequestAnalyticsEnabled",(function(){return Ce})),t.d(s,"isRelatedIssuesPanelEnabled",(function(){return De})),t.d(s,"isJsmCreateMajorIncidentFromIssueViewAutofillEnabled",(function(){return _e})),t.d(s,"isRefactoringDeleteCallbackPropsEnabled",(function(){return Te})),t.d(s,"isCacheInPickersEnabled",(function(){return Re})),t.d(s,"isRemovalOfDeprecatedStylesEnabled",(function(){return Ae})),t.d(s,"isCommentHtmlPreviewDisabled",(function(){return Ue})),t.d(s,"isGlobalLoopTransitionActionsEnabled",(function(){return Fe})),t.d(s,"isIntlProviderExtracted",(function(){return Le})),t.d(s,"isFieldConfigMergeEnabled",(function(){return $e})),t.d(s,"isMoveServiceRegistryToTopNavEnabled",(function(){return Me}));var n=t("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),r=t("./src/packages/common-legacy-do-not-add-anything-new/src/util/jira-feature-flag-client.js");const i=()=>Object(n.c)("issue.details.fullpage.jsd",!1),a=()=>Object(n.c)("issue.details.templates.foundation-content",!1),o=()=>Object(n.c)("issue.details.templates.foundation-context",!1),c=()=>Object(n.c)("issue.details.templates.base-context",!1),u=()=>Object(n.b)("issue.details.render-content-template",!1),l=()=>Object(n.b)("issue.details.glance-context-panel-sweet-state",!1),d=()=>Object(n.b)("issue.details.clone-modal",!1),p=()=>Object(n.b)("issue.details.ng-embedded.enable-resources",!1),m=()=>Object(n.b)("issue.details.door-knock.prototype-v1",!1),f=()=>Object(n.b)("issue-details.inline-edit-assignee-in-children",!1),b=()=>Object(n.b)("issue.details.read-from-sweet-state-before-saving",!1),g=()=>Object(n.b)("issue.details.admin-options-phase-2-FF-replacement",!1),y=()=>Object(n.c)("issue.details.improve-switch-view-menu",!1),j=()=>Object(n.b)("isissue.details.skip-reporting-4xx",!1),h=()=>Object(n.b)("jsm.cross.site.issue.link.for.bento.phase2.link-preview",!1),O=()=>Object(n.b)("jsm.cross.site.issue.link.for.bento.phase1",!1),v=()=>Object(n.b)("jsm.cross.site.issue.link.for.bento.phase2.reciprocal-link",!1),w=()=>Object(n.b)("jsm.cross.site.issue.link.for.bento.phase2.ui-update",!1),k=()=>Object(n.b)("issue.details.forge-ui-integration",!1),E=()=>Object(n.b)("issue.details.forge.cached-null-response.fix",!1),S=()=>Object(n.b)("issue.details.forge-ui.conditions",!1),I=()=>Object(n.b)("issue.details.forge-user-list-custom-field-ui-integration",!1),P=()=>Object(n.b)("issue.details.media.tokens.from.gira",!1),x=()=>Object(n.b)("issue.details.remove.media.promise",!1),C=()=>Object(n.b)("issue-2031.agile.fields.provider.use.bulk.build",!1),D=()=>Object(n.b)("issue-2031.use.preloaded.issue.in.field.editability.provider",!1),_=()=>Object(n.b)("issue-2033.load.epic.issues.in.bulk",!1),T=()=>Object(n.b)("issue-2032.lookup.sprint.and.flagged.in.bulk",!1),R=()=>Object(n.b)("issue.details.extracted-field.summary",!1),A=()=>Object(n.e)("delorean.bm3","bm2",["bm2","bm3","both"]),U=()=>(()=>Object(n.b)("delorean.bm3.bento.embedded-page",!1))()&&("bm3"===A()||"both"===A()),F=()=>Object(n.b)("jsw.nextgen.stop-issue-view-remounts-on-issue-change",!1),L=()=>Object(n.b)("issue.details.analytic-refactor",!1),$=()=>Object(n.b)("fe.platform.shallow-equal",!1),M=()=>Object(n.b)("issue.details.use-use-account-id",!1),K=()=>Object(n.b)("shpl-113-sort-issue-under-epic",!1),N=()=>Object(n.b)("issue.details.remove-refresh-on-mount",!1),V=()=>Object(n.b)("issue.details.jsd.app-permissions.from.tenant-context",!1),G=()=>Object(n.b)("issue.details.bitbucket.license.state.in.tenant.context",!1),q=()=>Object(n.b)("issue.details.shortcuts-dialog",!1),B=()=>Object(n.b)("issue.details.restore.retries.on.fetch.error",!1),H=()=>Object(n.b)("endeavour.projects-directory.pretty-url",!1),z=()=>Object(n.b)("issue.details.forge-pass-custom-field-data-in-extension-context",!1),W=()=>Object(n.b)("jinx.epic-picker.max-results",!1),J=()=>Object(n.b)("issue.details.smart-epic-ranking",!1),Y=()=>Object(n.b)("issue.details.smart-sprint-ranking",!1),Q=()=>Object(n.b)("issue.details.media-cards-new-experience",!1),X=()=>Object(n.b)("issue.details.media-picker-folder-upload",!1),Z=()=>Object(n.b)("issue.details.media-viewer-code-viewer",!1),ee=()=>Object(n.b)("issue.details.media-viewer-zip-previews",!1),se=()=>Object(n.c)("issue.details.media-client-polling-intervalms",void 0),te=()=>Object(n.c)("issue.details.media-client-polling-max-attempts",void 0),ne=()=>Object(n.c)("issue.details.media-client-polling-backoff-factor",void 0),re=()=>Object(n.c)("issue.details.media-client-polling-max-intervalms",void 0),ie=()=>Object(n.c)("issue.details.media-client-polling-max-global-failures",void 0),ae=()=>Object(n.b)("issue.details.bento-8045.resolution-and-flagged-to-ssr",!1),oe=()=>Object(n.b)("issue.details.bento-6520-activity-sorting",!1),ce=()=>Object(n.b)("issue.details.opt-back-in",!1),ue=()=>Object(n.b)("issue.details.show-voter-single-column",!1),le=()=>Object(n.b)("delorean.bm3.bento.full-page",!1),de=()=>!le()||"bm2"===A()||"both"===A(),pe=()=>le()&&("bm3"===A()||"both"===A()),me=()=>Object(n.b)("jira.teams.enable-new-custom-field-types",!1),fe=()=>Object(n.b)("issue.details.ecosystem.glance-new-load-strategy",!1),be=()=>Object(n.b)("jsd-cmdb-integration-field",!1),ge=()=>Object(n.b)("jsd-cmdb-legacy-ui-integration",!1),ye=()=>Object(r.a)().getBooleanValue("jsw.frontend.growth.persistent.upgrade",{default:!1,shouldTrackExposureEvent:!0}),je=()=>Object(r.a)().getVariantValue("growth-experiment-product-requirements-doc-discovery",{default:"not-enrolled",oneOf:["control","not-enrolled","variation"],shouldTrackExposureEvent:!1}),he=()=>({"not-enrolled":0,control:1,variation:2}[je()]),Oe=()=>Object(n.b)("jira.growth-experiment-prdd-already-created-flag.",!1),ve=()=>Object(n.b)("issue.details.bento-7546-use-extracted-number-field",!1),we=()=>Object(n.b)("issue.details.issue-context-hooks-consumed-part-1",!1),ke=()=>Object(n.b)("issue.details.add-issueid-to-sweet-state",!1),Ee=()=>Object(n.b)("issue.details.extract-approval-field",!1),Se=()=>Object(n.b)("endeavour.enable.page.layout",!1),Ie=()=>Object(n.b)("issue.details.fix-description-rerender-bug",!1),Pe=()=>Object(n.b)("bento-8886-add-confluence-button-child-linked-issues",!1),xe=()=>Object(n.b)("polaris.insights-tab-in-bento",!1),Ce=()=>Object(n.b)("issue.details.enable-field-suggestions-analytics",!1),De=()=>Object(n.b)("issue.details.enable-related-issues-panel-in-bento",!1),_e=()=>Object(n.b)("jsm-create-major-incident-from-issue-view-autofill",!1),Te=()=>Object(n.b)("issue.details.delete-callback-props-refactor",!1),Re=()=>Object(n.b)("jira-frontend-cache-issue-view",!1),Ae=()=>Object(n.b)("issue.details.bento-8140.bye-old-styles",!1),Ue=()=>Object(n.b)("issue.details.disable-html-preview-for-comments",!1),Fe=()=>Object(n.b)("issue.details.bento-7718.global-loop-transitions",!1),Le=()=>Object(n.b)("jfp.perf.extract-intl-provider",!1),$e=()=>Object(n.b)("issue-view-merge-field-configs-from-gira-and-graphql-calls",!1),Me=()=>Object(n.b)("krispy-krew-move-service-registry-to-top-nav",!1)},"./src/packages/issue/issue-view/src/perf.config.js":function(e,s,t){"use strict";t.d(s,"b",(function(){return r})),t.d(s,"a",(function(){return i}));var n=t("./node_modules/@atlassian/browser-metrics/dist/es2019/factory/index.js");const r=n.a.custom({key:"issue-view-load",virtual:!0,timings:[{key:"preview",startMark:"metrics_init",endMark:"ISSUE_PREVIEW_RENDERED"},{key:"startDataFetch",startMark:"ISSUE_START_FETCHING_DATA",endMark:"ISSUE_FETCHED_MARK"}]}),i=n.a.custom({key:"embedded-issue-view-load",until:r,include:[r]})},"./src/packages/issue/issue-view/src/utils/issue-view-fetch-error.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return r}));var n=t("./src/packages/platform/utils/fetch/src/utils/errors.js");class r extends Error{constructor(e,s){if(e instanceof r)return e;super(e.message),this.endpoint=void 0,this.traceId=void 0,this.error=void 0,this.statusCode=void 0,this.error=e,this.message=e.message,e instanceof n.b&&(null!=e.traceId&&(this.traceId=e.traceId),this.statusCode=e.statusCode),this.endpoint=s}}},"./src/packages/issue/issue-view/src/utils/prefetched-resources/index.js":function(e,s,t){"use strict";t.d(s,"b",(function(){return E})),t.d(s,"a",(function(){return S})),t.d(s,"c",(function(){return I}));var n=t("./node_modules/react/index.js"),r=t("./node_modules/react-resource-router/build/esm/index.js"),i=t("./src/packages/routes/src/ui/spa/issue/resources/issue-media-user-auth/index.js"),a=t("./src/packages/routes/src/ui/spa/issue/resources/issue-media-upload-permissions/index.js"),o=t("./src/packages/routes/src/ui/spa/issue/resources/issue-media-read-permissions/index.js"),c=t("./src/packages/routes/src/ui/spa/issue/resources/issue-gira-data/index.js"),u=t("./src/packages/routes/src/ui/spa/issue/resources/issue-graphql-data/index.js"),l=t("./src/packages/routes/src/ui/spa/issue/resources/issue-forge-data/index.js"),d=t("./src/packages/issue/issue-view/src/feature-flags.js"),p=t("./src/packages/common-legacy-do-not-add-anything-new/src/performance/index.js"),m=t("./src/packages/issue/issue-fetch-services-common/src/feature-flags.js"),f=t("./src/packages/platform/services/spa-apdex-analytics/src/marks.js"),b=t("./src/packages/routes/src/ui/spa/issue/resources/utils.js");function g(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,n)}return t}function y(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?g(Object(t),!0).forEach((function(s){j(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}function j(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function h(e,s){if(null==e)return{};var t,n,r=function(e,s){if(null==e)return{};var t,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],s.indexOf(t)>=0||(r[t]=e[t]);return r}(e,s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],s.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}const O=e=>Object(m.d)()?(({next:e=(()=>{}),resourceManager:s,issueGiraDataPromise:t,issueGraphqlDataPromise:n})=>{let r=[];return window.issueResourceResponses?(s.setAllData(window.issueResourceResponses),delete window.issueResourceResponses,null):(Object(b.a)()&&(r=[window.issueResources.issueGiraDataPromise,window.issueResources.issueGraphqlDataPromise]),t&&n&&(r=[t,n]),0===r.length?null:()=>Promise.all(r).then(t=>{Object(p.setMark)(f.b);const[n,r]=t;return s.setAllData({mediaUserAuth:null,mediaUploadPermission:null,mediaReadPermission:null,issueGiraData:n,issueGraphqlData:r}),delete window.issueResources,e()}).catch(s=>(delete window.issueResources,e(s))))})(e):(({next:e=(()=>{}),resourceManager:s,mediaUserAuthPromise:t,mediaUploadPermissionPromise:n,mediaReadPermissionPromise:r,issueGiraDataPromise:i,issueGraphqlDataPromise:a})=>{let o=[];return window.issueResourceResponses?(s.setAllData(window.issueResourceResponses),delete window.issueResourceResponses,null):(Object(b.a)()&&(o=[window.issueResources.mediaUserAuthPromise,window.issueResources.mediaUploadPermissionPromise,window.issueResources.mediaReadPermissionPromise,window.issueResources.issueGiraDataPromise,window.issueResources.issueGraphqlDataPromise]),t&&n&&r&&i&&a&&(o=[t,n,r,i,a]),0===o.length?null:()=>Promise.all(o).then(t=>{Object(p.setMark)(f.b);const[n,r,i,a,o]=t;return s.setAllData({mediaUserAuth:n,mediaUploadPermission:r,mediaReadPermission:i,issueGiraData:a,issueGraphqlData:o}),delete window.issueResources,e()}).catch(s=>(delete window.issueResources,e(s))))})(e);var v=t("./src/packages/issue/issue-view/src/utils/prefetched-resources/prefetched-resource-manager/index.js");let w;const k=()=>{var e;return w=null!==(e=w)&&void 0!==e?e:new v.a,w},E=()=>{const e=k(),{data:s,promise:t}=Object(r.l)(i.a),{data:p,promise:m}=Object(r.l)(a.a),{data:f,promise:b}=Object(r.l)(o.a),{data:g,promise:y}=Object(r.l)(c.a),{data:j,promise:h}=Object(r.l)(u.a),{promise:O}=Object(r.l)(l.a);return Object(n.useMemo)(()=>{(Object(d.isRemoveMediaPromiseEnabled)()||b&&m&&t)&&y&&h&&(e.setAllPromises({mediaUserAuthPromise:t,mediaUploadPermissionPromise:m,mediaReadPermissionPromise:b,issueGiraDataPromise:y,issueGraphqlDataPromise:h}),e.setAllData({mediaUserAuth:s,mediaUploadPermission:p,mediaReadPermission:f,issueGiraData:g,issueGraphqlData:j})),O&&e.setForgePromise(O)},[O,g,y,j,h,f,b,p,m,s,t,e]),[e]},S=({resolveIssueApp:e,isServer:s,issue:t,isInitialRender:n})=>{const l=k();let p=null,f=null,g=null;Object(d.isfetchMediaTokensFromGiraEnabled)()||(({promise:p}=Object(r.l)(i.a)),({promise:f}=Object(r.l)(a.a)),({promise:g}=Object(r.l)(o.a)));const{promise:j}=Object(r.l)(c.a),{promise:v}=Object(r.l)(u.a);return[(e=>{let{resolveIssueApp:s,isServer:t,issue:n,isInitialRender:r}=e,i=h(e,["resolveIssueApp","isServer","issue","isInitialRender"]);return r&&Object(b.a)()&&i.resourceManager.setAllPromises(window.issueResources),Object(m.c)()?!t&&r&&O(y({next:s},i))||s:!t&&!!n&&r&&O(y({next:s},i))||s})({resolveIssueApp:e,isServer:s,issue:t,isInitialRender:n,resourceManager:l,mediaUserAuthPromise:p,mediaUploadPermissionPromise:f,mediaReadPermissionPromise:g,issueGiraDataPromise:j,issueGraphqlDataPromise:v})]},I=()=>{const e=Object(d.isfetchMediaTokensFromGiraEnabled)()?[Object(r.l)(c.a),Object(r.l)(u.a)]:[Object(r.l)(i.a),Object(r.l)(a.a),Object(r.l)(o.a),Object(r.l)(c.a),Object(r.l)(u.a)];return{loading:e.some(({loading:e})=>e),error:e.map(({error:e})=>e).find(Boolean)||null,promise:Promise.all(e.map(({promise:e})=>e)).then(()=>{})}}},"./src/packages/issue/issue-view/src/utils/prefetched-resources/prefetched-resource-manager/index.js":function(e,s,t){"use strict";var n=t("./src/packages/issue/issue-view/src/feature-flags.js");s.a=class{constructor(){this.issueMediaUserAuth=null,this.issueMediaReadPermission=null,this.issueMediaUploadPermission=null,this.issueGiraData=null,this.issueGraphqlData=null,this.issueForgeData=null,this.allData={},this.getGiraData=()=>this.allData.issueGiraData&&this.allData.issueGiraData.data,this.getGqlData=()=>this.allData.issueGraphqlData&&this.allData.issueGraphqlData.data,this.getMediaUser=()=>this.allData.mediaUserAuth,this.getMediaReadPermission=()=>this.allData.mediaReadPermission,this.getMediaUploadPermission=()=>this.allData.mediaUploadPermission,this.isAllDataReady=()=>Object(n.isfetchMediaTokensFromGiraEnabled)()?!(!this.getGiraData()||!this.getGqlData()):!!(this.getGiraData()&&this.getGqlData()&&this.getMediaUser()&&this.getMediaUploadPermission()&&this.getMediaReadPermission()),this.containsInitialPromises=()=>!!(this.issueMediaUploadPermission&&this.issueMediaUserAuth&&this.issueMediaReadPermission&&this.issueGiraData&&this.issueGraphqlData)}setAllData(e){this.allData=e}setAllPromises(e){this.issueMediaUserAuth=e.mediaUserAuthPromise,this.issueMediaUploadPermission=e.mediaUploadPermissionPromise,this.issueMediaReadPermission=e.mediaReadPermissionPromise,this.issueGiraData=e.issueGiraDataPromise,this.issueGraphqlData=e.issueGraphqlDataPromise}setForgePromise(e){this.issueForgeData=e}getAllPromises(){return[this.issueMediaUserAuth,this.issueMediaUploadPermission,this.issueMediaReadPermission,this.issueGiraData,this.issueGraphqlData]}clearAll(){this.allData={},this.issueMediaReadPermission=null,this.issueMediaUploadPermission=null,this.issueMediaUserAuth=null,this.issueGiraData=null,this.issueForgeData=null,this.issueGraphqlData=null}}},"./src/packages/issue/issue-view/src/views/issue-details/issue-layout/utils.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return n}));const n=()=>1400},"./src/packages/platform/observability/analytics-legacy-gasv2/src/error.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return l}));var n=t("./src/packages/platform/utils/constants/src/analytics-sources.js"),r=t("./src/packages/platform/observability/analytics-legacy-gasv2/src/safe-string.js");const i=Object.freeze({fetch:"fetch",update:"update",js:"js"}),a=Object.freeze({media:"media",issue:"issue"}),o=Object.freeze({dataProvider:"data-provider",issue:"issue",issueField:"issue-field"}),c=Object.freeze(n.a),u=e=>Object(r.c)(...Object.values(e));class l extends Error{constructor(e){e.event&&e.event instanceof Error?(super(e.event.message),this.type=void 0,this.category=void 0,this.app=void 0,this.analyticsSource=void 0,this.eventNameSuffix=void 0,this.stack=e.event.stack):(super(),this.type=void 0,this.category=void 0,this.app=void 0,this.analyticsSource=void 0,this.eventNameSuffix=void 0,e.event&&Object.assign(this,e.event)),this.name="AnalyticError",this.type=u(i)(e.type),this.eventNameSuffix=e.eventNameSuffix,this.category=e.category&&u(a)(e.category),this.analyticsSource=e.analyticsSource&&u(c)(e.analyticsSource),this.app=e.app&&u(o)(e.app)}}},"./src/packages/platform/services/issue/src/common/issue-serializer.js":function(s,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m}));var r=n("./node_modules/lodash/cloneDeep.js"),i=n.n(r),a=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js");const o=e=>JSON.stringify([...e]),c=s=>{try{return new Map(JSON.parse(s))}catch(e){return a.i.safeError("common.map-serialization","failed to deserialize string to map"),new Map}};function u(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?u(Object(t),!0).forEach((function(s){d(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}function d(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}const p=e=>l(l({},i()(e)),{},{fields:o(e.fields)}),m=e=>l(l({},i()(e)),{},{fields:c(e.fields)})},"./src/packages/platform/services/issue/src/model/errors.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return n}));class n extends Error{}},"./src/packages/platform/services/issue/src/service/index.js":function(s,t,n){"use strict";n.d(t,"a",(function(){return et}));var r=n("./node_modules/rxjs/Observable.js"),i=(n("./node_modules/rxjs/add/observable/of.js"),n("./src/packages/platform/observability/analytics-legacy-gasv2/src/error.js")),a=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),o=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/get-tenant-context/index.js"),c=n("./src/packages/common-legacy-do-not-add-anything-new/src/tangerine/state/initiate.js");const u=e=>({type:"issue.cache.redux.UPDATE_METRICS",payload:e}),l=e=>({type:"issue.cache.redux.PUT",payload:e});class d{constructor(e,s){this.config=void 0,this.store=void 0,this.config=e,this.store=s}isExpired(e){const s=(new Date).getTime();return e.getTime()<s-1e3*this.config.expiryThresholdSeconds}put(e,s){return this.store.dispatch(l({key:e,value:s})),!0}has(e){return void 0!==this.get(e)}get(e){let s=!1,t=!1;const n=this.store.getState().items[e];if(n){if(t=this.isExpired(new Date(n.addedOn)),!t)return s=!0,this.store.dispatch(l({key:e,value:n.value})),this.store.dispatch(u({wasLastGetCacheHit:s,wasLastGetStaleHit:t})),n.value;this.remove(e)}this.store.dispatch(u({wasLastGetCacheHit:s,wasLastGetStaleHit:t}))}clear(){this.store.dispatch((()=>({type:"issue.cache.redux.CLEAR"}))())}remove(e){this.store.dispatch((e=>({type:"issue.cache.redux.REMOVE",payload:{key:e}}))(e))}size(){return Object.keys(this.store.getState().items).length}maxSize(){return this.config.maxSize}availableCapacity(){return this.config.maxSize-this.size()}staleCount(){const{items:e}=this.store.getState();return Object.keys(e).map(s=>e[s]).filter(e=>this.isExpired(new Date(e.addedOn))).length}wasCacheHit(){return this.store.getState().metrics.wasLastGetCacheHit}wasStaleHit(){return this.store.getState().metrics.wasLastGetStaleHit}}function p(e,s){if(null==e)return{};var t,n,r=function(e,s){if(null==e)return{};var t,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],s.indexOf(t)>=0||(r[t]=e[t]);return r}(e,s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],s.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function m(e){var s=function(e,s){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,s||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"==typeof s?s:String(s)}function f(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,n)}return t}function b(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?f(Object(t),!0).forEach((function(s){g(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}function g(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}const y={metrics:{wasLastGetCacheHit:!1,wasLastGetStaleHit:!1},config:{maxSize:100,expiryThresholdSeconds:3600},items:{},itemList:[]};var j=(e=y,s)=>{switch(s.type){case"issue.cache.redux.SET_CONFIG":return b(b({},e),{},{config:s.payload});case"issue.cache.redux.UPDATE_METRICS":return b(b({},e),{},{metrics:b(b({},e.metrics),s.payload)});case"issue.cache.redux.PUT":{const t=s.payload,{config:n,itemList:r,items:i}=e,a=b({},i),o=r.filter(e=>e!==t.key);if(o.length===n.maxSize){delete a[o.pop()]}return b(b({},e),{},{items:b(b({},a),{},{[t.key]:{addedOn:(new Date).toString(),value:t.value}}),itemList:[t.key,...o]})}case"issue.cache.redux.REMOVE":{const{key:t}=s.payload,n=e.items,{[t]:r}=n,i=p(n,[t].map(m));return b(b({},e),{},{items:i,itemList:e.itemList.filter(e=>e!==t)})}case"issue.cache.redux.CLEAR":return b(b({},e),{},{items:{},itemList:[]});default:return e}};function h(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,n)}return t}function O(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?h(Object(t),!0).forEach((function(s){v(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}function v(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function w(e,s){if(null==e)return{};var t,n,r=function(e,s){if(null==e)return{};var t,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],s.indexOf(t)>=0||(r[t]=e[t]);return r}(e,s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],s.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}class k{constructor(e){this.delegate=void 0,this.delegate=e}put(e,s){const{fields:t}=s,n=O(O({},w(s,["fields"])),{},{fields:[...t]});return this.delegate.put(e,n)}get(e){const s=this.delegate.get(e);if(s){const{fields:e}=s;return O(O({},w(s,["fields"])),{},{fields:new Map(e)})}}has(e){return this.delegate.has(e)}clear(){this.delegate.clear()}remove(e){this.delegate.remove(e)}size(){return this.delegate.size()}maxSize(){return this.delegate.maxSize()}availableCapacity(){return this.delegate.availableCapacity()}staleCount(){return this.delegate.staleCount()}wasCacheHit(){return this.delegate.wasCacheHit()}wasStaleHit(){return this.delegate.wasStaleHit()}}const E=e=>{const s=(e=>{const s=Object(c.a)({appName:"issue-data-provider",rootReducer:j});return s.dispatch((e=>({type:"issue.cache.redux.SET_CONFIG",payload:e}))(e)),new d(e,s)})(e);return new k(s)};var S=n("./src/packages/platform/services/issue/src/common/issue-serializer.js");const I=e=>e,P=e=>e;n("./node_modules/rxjs/add/observable/empty.js"),n("./node_modules/rxjs/add/observable/never.js"),n("./node_modules/rxjs/add/observable/race.js"),n("./node_modules/rxjs/add/operator/do.js"),n("./node_modules/rxjs/add/operator/shareReplay.js"),n("./node_modules/rxjs/add/operator/mergeMap.js"),n("./node_modules/rxjs/add/operator/filter.js"),n("./node_modules/rxjs/add/operator/reduce.js"),n("./node_modules/rxjs/add/operator/catch.js");function x(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,n)}return t}function C(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?x(Object(t),!0).forEach((function(s){D(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}function D(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}var _=e=>{const s=new Map,t=new Map;return C(C({},e),{},{fetchIssuesByJql$:(s,n,i)=>{const a=t.get(n);if(a)return a;const o=()=>t.delete(n),c=e.fetchIssuesByJql$(s,n,i).do(o,o,o).shareReplay(1);return((e,s)=>{t.size>3&&t.clear(),t.set(e,s.catch(()=>r.Observable.empty()))})(n,c),c},fetchIssue$:(n,i)=>{const a=s.get(i);if(a)return a;const o=()=>s.delete(i),c=e.fetchIssue$(n,P(i)).do(o,o,o).shareReplay(1),u=Array.from(t.values());return((e,t)=>{s.size>3&&s.clear(),s.set(e,t)})(i,c),((e,s,t)=>{const n=t.map(s=>s.flatMap(s=>s.filter(s=>s.key===e).reduce((e,s)=>r.Observable.of({issue:s})||e,r.Observable.never())));return r.Observable.race(s,...n)})(i,c,u)}})},T=(n("./node_modules/rxjs/add/operator/map.js"),n("./src/packages/issue/issue-view/src/common/util/errors/index.js"));function R(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,n)}return t}function A(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}class U{constructor({key:e}){this.key=void 0,this.id=void 0,this.fields=void 0,this.meta=void 0,this.layout=void 0,this.issueSections=void 0,this.remoteLinks=void 0,this.myPreferences=void 0,this.commentsData=void 0,this.attachmentsData=void 0,this.workflow=void 0,this.key=e,this.fields=new Map}withLayout(e){return this.layout=e,this}withIssueSections(e){return this.issueSections=e,this}withMeta(e){return this.meta=e,this}withId(e){return this.id=e,this}withFields(e){return e.forEach(this.withField,this),this}withField(e){return e&&this.fields.set(String(e.key),e),this}withRemoteLinks(e){return this.remoteLinks=e,this}withPreferences(e){return this.myPreferences=e,this}withComments(e){return this.commentsData=e,this}withWorkflow(e){return this.workflow=e,this}build(){const e=null!==this.meta&&void 0!==this.meta?this.meta:{dataSource:"unknown",newIssueViewLockedIn:!1,fetchTime:new Date},s=null!==this.layout&&void 0!==this.layout?this.layout:{contextPrimary:[],contextSecondary:[],content:[],contentRequest:void 0},t=null!==this.remoteLinks&&void 0!==this.remoteLinks?this.remoteLinks:{confluencePages:{linkedPages:{pageCount:0},mentionedPages:{pageCount:0}},webLinks:{linkCount:0},remoteLinkedIssues:[]},n=null!==this.issueSections&&void 0!==this.issueSections?this.issueSections:{__typename:"PrimarySecondaryContextSections",contentSection:{items:[]},primaryContextSection:{items:[]},secondaryContextSection:{items:[]}},r=null!==this.myPreferences&&void 0!==this.myPreferences?this.myPreferences:{};let i={},a={totalCount:0,startIndex:0,comments:{}};null!==this.commentsData&&void 0!==this.commentsData&&(a={totalCount:this.commentsData.totalCount,startIndex:this.commentsData.startIndex,comments:this.commentsData.comments},i=this.commentsData.users);const o=null!==this.workflow&&void 0!==this.workflow?this.workflow:void 0;return function(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?R(Object(t),!0).forEach((function(s){A(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):R(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}({key:this.key,fields:this.fields,meta:e,layout:s,remoteLinks:t,issueSections:n,myPreferences:r,comments:a,users:i,workflow:o},null!==this.id&&void 0!==this.id?{id:this.id}:void 0)}}const F=({key:e})=>new U({key:e});var L=n("./src/packages/platform/services/issue/src/model/errors.js"),$=(n("./node_modules/rxjs/add/observable/throw.js"),n("./src/packages/platform/utils/fetch/src/utils/as-json-stream.js")),M=n("./src/packages/issue/issue-fetch-services-common/src/services/issue-gira-data/gira-fragments/issue-sections/index.js"),K=n("./src/packages/issue/issue-view/src/feature-flags.js"),N=n("./src/packages/platform/utils/permalinks/src/index.js"),V=n("./src/packages/platform/utils/permalinks/src/constants.js");const G={key:"FETCH_ISSUE_EXPRESS",prefix:"ISSUE_DETAILS"},q=()=>`\n    pageCount\n    ${(()=>`\n    pages {\n        ... on ConfluencePage {\n            id\n            globalId\n            href\n            title\n            type\n            lastUpdatedContext {\n                ${(()=>"\n    user {\n        key\n        accountId\n        emailAddress\n        avatarUrl\n        displayName\n        active\n    }\n")()}\n            }\n        }\n        ... on FailedRemoteLink {\n            id\n            error\n            link {\n                id\n                globalId\n                href\n            }\n            repairLink { href }\n        }\n    }\n`)()}\n`,B=()=>(()=>Object(a.b)("jsm.cross.site.issue.link.for.bento.phase1",!1))()?`\n    remoteLinkedIssues {\n        preview {\n            ${(()=>"\n    id\n    issueId\n    globalId\n    href\n    applicationType\n    applicationName\n    relationship\n    title\n")()}\n        }\n        details {\n            ${(()=>`\n    ... on AssociatedIssueWrapper {\n        associatedIssue {\n            ${(()=>"\n    issueId\n    issueKey {\n        stringValue\n    }\n    summary {\n        textValue\n    }\n    status {\n        statusCategoryId\n        name\n        statusId\n    }\n    priority {\n        iconUrl\n        name\n    }\n    issueType {\n        iconUrl\n        name\n    }\n    assignee {\n        userValue\n        {\n            displayName\n            avatarUrl\n        }\n    }\n")()}\n        }\n    }\n    ... on FailedRemoteIssue {\n        error\n        repairLink { href }\n    }\n`)()}\n        }\n    }\n`:"",H=()=>"_remote_data",z=()=>`\n    query issueViewRemoteDataQuery($issueKey: String!) {\n        bentoViewIssue${H()}: viewIssue(issueKey: $issueKey) {\n            ${(()=>`\n    issueId\n    remoteLinks {\n       isLinkingEnabled\n       confluencePages {\n            linkedPages {\n                ${q()}\n            }\n            mentionedPages {\n                ${q()}\n            }\n        }\n        webLinks {\n            linkCount\n            links {\n                id\n                href\n                linkText\n                iconUrl\n            }\n        }\n        ${B()}\n    }\n`)()}\n        }\n    }\n`;var W=n("./src/packages/platform/services/issue/src/source/issue-express/graphql-util.js");function J(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,n)}return t}function Y(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?J(Object(t),!0).forEach((function(s){Q(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):J(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}function Q(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}const X=e=>`${e}/rest/gira/1/`,Z="issue.data-provider.source.issue-express.graphql",ee=()=>`comments (first: 0, maxResults: 5, orderBy: "-created", isPreview: true ${(()=>{const{hasPermalink:e,permalinkId:s}=Object(N.a)(V.a);return e?`, commentId: ${s}`:""})()}) {\n            nodes{\n              id\n              author {\n                  accountId\n                  displayName\n                  avatarUrl\n              }\n              updateAuthor {\n                  accountId\n                  displayName\n                  avatarUrl\n              }\n              visibility {\n                  type\n                  value\n              }\n              created\n              updated\n              jsdPublic\n              bodyAdf\n            }\n            totalCount\n            startIndex\n          }\n        `,se=()=>`\n        issueId\n        fields {\n            __typename\n\n            ... on ProjectField {\n                fieldKey\n                type\n                simplified\n                name\n            }\n\n            ... on TextField {\n                fieldKey\n                title\n                isEditable\n                textValue\n                adf\n                renderer\n            }\n\n            ... on IssueTypeField {\n              fieldKey\n              id\n              iconUrl\n              name\n            }\n\n            ... on StatusField {\n              fieldKey\n              name\n              ${Object(K.isGlobalLoopTransitionActionsEnabled)()?"statusId":""}\n              statusCategoryId\n            }\n\n            ... on IssueKeyField {\n              fieldKey\n              stringValue\n            }\n\n            ... on PriorityField {\n              fieldKey\n              title\n              isEditable\n              iconUrl\n              name\n              id\n            }\n\n            ... on UserField {\n              fieldKey\n              title\n              isEditable\n              userValue {\n                displayName\n                avatarUrl\n                accountId\n              }\n            }\n\n            ... on VersionsField {\n              fieldKey\n              title\n              isEditable\n              versions {\n                id\n                name\n              }\n            }\n\n            ... on LabelsField {\n              fieldKey\n              title\n              isEditable\n              labels\n            }\n\n            ... on ProjectComponentsField {\n              fieldKey\n              title\n              isEditable\n              componentValues {\n                id\n                name\n              }\n            }\n\n            ... on TimeTrackingField {\n              fieldKey\n              title\n              isEditable\n              originalEstimate {\n                estimateSeconds\n              }\n              remainingEstimate {\n                estimateSeconds\n              }\n              timeSpent {\n                estimateSeconds\n              }\n            }\n\n            ... on StoryPointsField {\n              fieldKey\n              title\n              isEditable\n              floatValue\n            }\n\n            ... on EpicLinkField {\n              fieldKey\n              title\n              isEditable\n              epic {\n                id\n                key\n                name\n                summary\n                colorKey\n                done\n              }\n            }\n\n            ... on EpicNameField {\n              fieldKey\n              stringValue\n              title\n              isEditable\n            }\n\n            ... on SprintCustomField {\n              fieldKey\n              title\n              isEditable\n              values {\n                id\n                name\n                goal\n                state\n                boardId\n                startDate\n                endDate\n                completeDate\n              }\n            }\n\n            ... on SelectCustomField {\n              fieldKey\n              title\n              isEditable\n              selectedValue {\n                  optionId\n                  value\n              }\n            }\n\n            ... on CascadingSelectCustomField {\n              fieldKey\n              title\n              isEditable\n              selectedValue {\n                  optionId\n                  value\n                  child {\n                    optionId\n                    value\n                  }\n              }\n            }\n\n            ... on UserPickerCustomField {\n              fieldKey\n              title\n              isEditable\n              selectedUser {\n                displayName\n                avatarUrl\n              }\n            }\n\n            ... on TextAreaCustomField {\n              fieldKey\n              title\n              isEditable\n              wiki\n              adf\n              renderer\n              textValue\n            }\n\n            ... on FloatCustomField {\n              fieldKey\n              title\n              isEditable\n              floatValue\n            }\n\n            ... on DatePickerCustomField {\n              fieldKey\n              title\n              isEditable\n              stringValue\n            }\n\n            ... on DateTimeCustomField {\n              fieldKey\n              title\n              isEditable\n              dateTime\n            }\n\n            ... on TextFieldCustomField {\n              fieldKey\n              title\n              isEditable\n              wiki\n            }\n\n            ... on MultiSelectCustomField {\n              fieldKey\n              title\n              isEditable\n              selectedValues {\n                  optionId\n                  value\n              }\n            }\n\n            ... on LabelsCustomField {\n              fieldKey\n              title\n              isEditable\n              labels\n            }\n\n            ... on MultiUserPickerCustomField {\n              fieldKey\n              title\n              isEditable\n              selectedUsers {\n                accountId\n                displayName\n                avatarUrl\n              }\n            }\n\n            ... on UrlCustomField {\n              fieldKey\n              title\n              isEditable\n              url\n            }\n\n            ... on VersionCustomField {\n              fieldKey\n              title\n              isEditable\n              version {\n                  id\n                  name\n              }\n            }\n\n            ... on GroupPickerCustomField {\n              fieldKey\n              title\n              isEditable\n              group\n            }\n\n            ... on MultiVersionCustomField {\n              fieldKey\n              title\n              isEditable\n              versions {\n                  id\n                  name\n              }\n            }\n\n            ... on MultiGroupPickerCustomField {\n              fieldKey\n              title\n              isEditable\n              groups\n            }\n\n            ... on DateField {\n              fieldKey\n              stringValue\n              isEditable\n              title\n            }\n\n            ... on CheckBoxesCustomField {\n                fieldKey\n                isEditable\n                title\n                selectedValues {\n                    optionId\n                    value\n                }\n            }\n\n            ... on RadioButtonsCustomField {\n                fieldKey\n                isEditable\n                title\n                selectedValue {\n                    optionId\n                    value\n                }\n            }\n\n            ... on ColorField {\n                fieldKey\n                isEditable\n                title\n                stringValue\n            }\n\n            ... on EpicColorField {\n                fieldKey\n                isEditable\n                title\n                stringValue\n            }\n\n            ${Object(K.isResolutionAndFlaggedFromIssueSsrEnabled)()?"\n                ... on ResolutionField {\n                    id\n                    fieldKey\n                    name\n                }\n\n                ... on FlaggedCustomField {\n                    fieldKey\n                    title\n                    isFlagged\n                    isEditable\n                    selectedValues {\n                        optionId\n                        value\n                    }\n                }\n                ":""}\n        }\n        ${(()=>"layoutItems {\n        location\n        category\n        items {\n          itemId\n          type\n        }\n    }")()}\n        ${Object(M.a)()}\n        ${(()=>"remoteLinks {\n       isLinkingEnabled\n       confluencePages {\n         linkedPages {\n            pageCount\n         }\n         mentionedPages {\n            pageCount\n         }\n       }\n     }")()}\n        ${ee()}\n\n        ${Object(K.isGlobalLoopTransitionActionsEnabled)()?"\n                workflow {\n                    transitions {\n                        id\n                        name\n                        hasScreen\n                        isGlobal\n                        isInitial\n                        isConditional\n                        isLooped\n                        to {\n                            id\n                            name\n                            description\n                        }\n                        from {\n                            id\n                            name\n                            description\n                        }\n                    }\n                }\n            ":""}\n    `,te=()=>"_all",ne=(e,s)=>({method:"POST",body:JSON.stringify({query:e,variables:s}),perf:G}),re=(e,s)=>{const t=(e=>{if(e&&e.length>0&&e.includes("-"))return e&&e.split("-")[0]})(s);return Object($.a)(X(e),ne((e=>`query issueViewQuery($issueKey: String!) {\n    ${(e=>`\n    myPreferences(keys: [\n        "jira.user.issue.changeboarding.lastinteracted",\n        "jira.user.issue.clickthrough-banner.lastinteracted",\n        ${(e=>null!=e?`"jira.user.issue.details.pinned-fields.${e}",`:"")(e)}\n    ])`)(e)}\n    ${void 0!==e?(e=>`\n    project(projectKey: "${e}") {\n        newIssueViewLockedIn\n    }\n`)(e):""}\n    bentoViewIssue${te()}: viewIssue(issueKey: $issueKey) {\n        ${se()}\n    }\n}\n${Object(M.b)()}\n`)(t),{issueKey:s})).map(W.a).map(e=>Object(W.b)(Z,e)).map(e=>{const s=e[`bentoViewIssue${te()}`];if(null===s)throw new L.a("Response is either not present or has no data.");return Y(Y({},s),{},{meta:{newIssueViewLockedIn:!!e.project&&e.project.newIssueViewLockedIn},myPreferences:e&&e.myPreferences||{}})})},ie=(e,s,t)=>Object($.a)(X(e),ne((()=>`query issueViewBulkQuery($jql: String!, $limit: Int!) {\n    bentoViewIssues${te()}: viewIssues(jql: $jql, first: $limit) {\n        nodes {\n            ${se()}\n        }\n    }\n}\n${Object(M.b)()}\n`)(),{jql:s,limit:t})).map(e=>Object(W.b)(Z,e)).flatMap(e=>e[`bentoViewIssues${te()}`]&&e[`bentoViewIssues${te()}`].nodes?r.Observable.of(e[`bentoViewIssues${te()}`].nodes):r.Observable.throw(`unexpected shape of bulk issue lookup from issue express for query bentoViewIssues with\n                      jql:[${s}] and\n                      limit:[${t}]\n                    }`));var ae=n("./node_modules/lodash/isNull.js"),oe=n.n(ae),ce=n("./node_modules/lodash/omitBy.js"),ue=n.n(ce),le=n("./src/packages/platform/utils/types/src/general.js"),de=n("./src/packages/issue/issue-view/src/common/service/issue/comment-transformer.js");const pe=(e,s,t,n,r,i=null)=>({type:e,key:s,title:t,editable:n,value:r,renderer:i});function me(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,n)}return t}function fe(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?me(Object(t),!0).forEach((function(s){be(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):me(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}function be(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}const ge=e=>e.componentValues?e.componentValues.filter(e=>!!e.id&&!!e.name).map(e=>({id:e.id.toString(),name:e.name})):[],ye=e=>JSON.parse(e.adf),je=e=>"atlassian-wiki-renderer"===e.renderer?JSON.parse(e.adf):e.textValue,he=e=>({id:e.id,name:e.name,iconUrl:e.iconUrl}),Oe=e=>e.labels||[],ve=e=>({iconUrl:e.iconUrl,name:e.name,id:e.id}),we=e=>({projectType:"unknown"===e.type?"software":e.type,isSimplified:e.simplified,projectName:e.name}),ke=e=>fe(fe({name:e.name},e.statusId&&{id:e.statusId}),{},{statusCategory:{id:e.statusCategoryId}}),Ee=(e,s)=>e[s]&&e[s].estimateSeconds,Se=e=>{const s={originalEstimateSeconds:Ee(e,"originalEstimate"),remainingEstimateSeconds:Ee(e,"remainingEstimate"),timeSpentSeconds:Ee(e,"timeSpent")};return ue()(s,oe.a)},Ie=e=>e.textValue||"",Pe=e=>{const{userValue:s}=e;return s?(()=>Object(a.b)("jsw.agility.backlog-inline-assignee-editor",!1))()?{accountId:s.accountId,displayName:s.displayName,avatarUrls:{"48x48":s.avatarUrl}}:{displayName:s.displayName,avatarUrls:{"48x48":s.avatarUrl}}:null},xe=e=>e.versions?e.versions.map(e=>({id:e.id,name:e.name})):[],Ce=e=>e.stringValue,De=e=>e.id?{id:e.id}:null,_e=e=>e.id?{id:e.id,name:e.name}:null,Te=e=>((e,s,t,n)=>pe("TimeTracking","timetracking",e,s,n(t)))(e.title,e.isEditable,e,Se),Re=e=>((e,s,t,n)=>pe("AffectsVersions","versions",e,s,n(t)))(e.title,e.isEditable,e,xe),Ae=e=>((e,s,t,n)=>pe("Assignee","assignee",e,s,n(t)))(e.title,e.isEditable,e,Pe),Ue=e=>((e,s,t,n)=>pe("Components","components",e,s,n(t)))(e.title,e.isEditable,e,ge),Fe=e=>((e,s,t,n)=>pe("Description","description",e,s,n(t)))(e.title,e.isEditable,e,ye),Le=e=>((e,s,t,n,r)=>pe("Environment","environment",e,s,n(t),r))(e.title,e.isEditable,e,je,e.renderer),$e=e=>((e,s,t,n)=>pe("FixVersions","fixVersions",e,s,n(t)))(e.title,e.isEditable,e,xe),Me=e=>((e,s,t,n)=>pe("IssueType","issuetype",e,s,n(t)))(e.title,e.isEditable,e,he),Ke=e=>((e,s,t,n)=>pe("Labels","labels",e,s,n(t)))(e.title,e.isEditable,e,Oe),Ne=e=>((e,s,t,n)=>pe("Priority","priority",e,s,n(t)))(e.title,e.isEditable,e,ve),Ve=e=>((e,s,t)=>pe("Project","project",e,!1,t(s)))("",e,we),Ge=e=>((e,s,t,n)=>pe("Reporter","reporter",e,s,n(t)))(e.title,e.isEditable,e,Pe),qe=e=>((e,s,t,n)=>pe("Status","status",e,s,n(t)))(e.title,e.isEditable,e,ke),Be=e=>((e,s,t,n)=>pe("Summary","summary",e,s,n(t)))(e.title,e.isEditable,e,Ie),He=e=>((e,s,t,n)=>pe("DueDate","duedate",e,s,n(t)))(e.title,e.isEditable,e,Ce),ze=e=>((e,s,t,n)=>pe("Attachments","attachments",s,!1,n(t)))(e.fieldKey,"",e,e=>e.value),We=e=>((e,s,t,n)=>pe("SecurityLevel","security",s,!1,n(t)))(e.fieldKey,"",e,De),Je=e=>((e,s,t,n)=>pe("Resolution","resolution",s,!1,n(t)))(e.fieldKey,"",e,_e),Ye=e=>({id:e.issueId.toString(),key:Object(le.l)(e.issueKey.stringValue),fields:new Map([["issuetype",Me(e.issueType)],["summary",Be(e.summary)],["priority",Ne(e.priority)],["assignee",Ae(e.assignee)],["status",qe(e.status)]])}),Qe=e=>e.issues.map(Ye),Xe=e=>e.issueLinks.map(e=>({id:e.id,type:e.type,inwardIssue:e.inward?Ye(e.inward):null,outwardIssue:e.outward?Ye(e.outward):null})),Ze=e=>((e,s,t,n)=>pe("IssueLinks","issuelinks",s,!1,n(t)))(e.fieldKey,"",e,Xe),es=e=>((e,s,t,n)=>pe("IssuesInEpic","epic-issues",s,!1,n(t)))(e.fieldKey,e.title,e,Qe),ss=e=>((e,s,t,n)=>pe("Subtasks","subtasks",s,!1,n(t)))(e.fieldKey,e.title,e,Qe),ts=e=>((e,s,t,n)=>pe("ChildIssues","children-issues",s,!1,n(t)))(e.fieldKey,e.title,e,Qe),ns=e=>((e,s,t,n,r)=>pe("Epic",e,s,t,r(n)))(e.fieldKey,e.title,e.isEditable,e,e=>e.epic),rs=e=>((e,s,t,n,r,i)=>pe("EpicName",e,s,t,r(n),i))(e.fieldKey,e.title,e.isEditable,e,e=>e.stringValue,"jira-text-renderer"),is=e=>((e,s,t,n,r)=>pe("Sprint",e,s,t,r(n)))(e.fieldKey,e.title,e.isEditable,e,e=>e.values),as=e=>((e,s,t,n,r)=>pe("StoryPoints",e,s,t,r(n)))(e.fieldKey,e.title,e.isEditable,e,e=>e.floatValue),os=e=>{const{isFlagged:s,selectedValues:t}=e;return s&&t?t.map(e=>({id:String(e.optionId),value:e.value})):null},cs=e=>((e,s,t,n,r)=>pe("FlaggedCustomField",e,s,t,r(n)))(e.fieldKey,e.title,e.isEditable,e,os),us=e=>((e,s,t,n,r)=>pe("CustomDate",e,s,t,r(n)))(e.fieldKey,e.title,e.isEditable,e,e=>e.stringValue),ls=e=>((e,s,t,n,r)=>pe("CustomDateTime",e,s,t,r(n)))(e.fieldKey,e.title,e.isEditable,e,e=>e.dateTime),ds=e=>((e,s,t,n,r)=>pe("CustomGroup",e,s,t,r(n)))(e.fieldKey,e.title,e.isEditable,e,e=>e.group?{name:e.group}:null),ps=e=>((e,s,t,n,r)=>pe("CustomLabels",e,s,t,r(n)))(e.fieldKey,e.title,e.isEditable,e,e=>e.labels),ms=e=>((e,s,t,n,r)=>pe("CustomMultiCheckBoxes",e,s,t,r(n)))(e.fieldKey,e.title,e.isEditable,e,e=>e.selectedValues?e.selectedValues.map(e=>({value:e.value,id:String(e.optionId)})):null),fs=e=>((e,s,t,n,r)=>pe("CustomMultiGroup",e,s,t,r(n)))(e.fieldKey,e.title,e.isEditable,e,e=>e.groups?e.groups.map(e=>({name:e})):null),bs=e=>((e,s,t,n,r)=>pe("CustomMultiSelect",e,s,t,r(n)))(e.fieldKey,e.title,e.isEditable,e,e=>e.selectedValues?e.selectedValues.map(e=>({value:e.value,id:String(e.optionId)})):null),gs=e=>((e,s,t,n,r)=>pe("CustomMultiUser",e,s,t,r(n)))(e.fieldKey,e.title,e.isEditable,e,e=>e.selectedUsers?e.selectedUsers.map(e=>({accountId:e.accountId,displayName:e.displayName,avatarUrls:{"48x48":e.avatarUrl}})):null),ys=e=>((e,s,t,n,r)=>pe("CustomMultiVersion",e,s,t,r(n)))(e.fieldKey,e.title,e.isEditable,e,e=>e.versions?e.versions.map(e=>({id:e.id,name:e.name})):null),js=e=>((e,s,t,n,r)=>pe("CustomNumber",e,s,t,r(n)))(e.fieldKey,e.title,e.isEditable,e,e=>e.floatValue),hs=e=>((e,s,t,n,r)=>pe("CustomUrl",e,s,t,r(n)))(e.fieldKey,e.title,e.isEditable,e,e=>e.url),Os=e=>((e,s,t,n,r)=>pe("CustomText",e,s,t,r(n)))(e.fieldKey,e.title,e.isEditable,e,e=>e.wiki),vs=e=>"atlassian-wiki-renderer"===e.renderer?e.adf&&JSON.parse(e.adf):e.textValue||null,ws=e=>((e,s,t,n,r,i)=>pe("CustomTextArea",e,s,t,r(n),i))(e.fieldKey,e.title,e.isEditable,e,vs,e.renderer),ks=e=>((e,s,t,n,r)=>pe("CustomRadioButtons",e,s,t,r(n)))(e.fieldKey,e.title,e.isEditable,e,e=>e.selectedValue&&{value:e.selectedValue.value,id:String(e.selectedValue.optionId)}),Es=e=>((e,s,t,n,r)=>pe("CustomSelect",e,s,t,r(n)))(e.fieldKey,e.title,e.isEditable,e,e=>e.selectedValue&&{value:e.selectedValue.value,id:String(e.selectedValue.optionId)}),Ss=e=>((e,s,t,n,r)=>pe("CustomCascadingSelect",e,s,t,r(n)))(e.fieldKey,e.title,e.isEditable,e,e=>e.selectedValue&&fe({value:e.selectedValue.value,id:String(e.selectedValue.optionId)},e.selectedValue&&e.selectedValue.child?{child:{value:e.selectedValue.child.value,id:String(e.selectedValue.child.optionId)}}:{})),Is=e=>((e,s,t,n,r)=>pe("CustomUser",e,s,t,r(n)))(e.fieldKey,e.title,e.isEditable,e,e=>{const{selectedUser:s}=e;return s?{displayName:s.displayName,avatarUrls:{"48x48":s.avatarUrl}}:null}),Ps=e=>((e,s,t,n,r)=>pe("CustomVersion",e,s,t,r(n)))(e.fieldKey,e.title,e.isEditable,e,e=>e.version&&{id:e.version.id,name:e.version.name}),xs=e=>((e,s,t,n,r)=>pe("CustomColor",e,s,t,r(n)))(e.fieldKey,e.title,e.isEditable,e,e=>e.stringValue),Cs=e=>((e,s,t,n,r)=>pe("CustomEpicColor",e,s,t,r(n)))(e.fieldKey,e.title,e.isEditable,e,e=>e.stringValue),Ds={CONTENT_VISIBLE:"content",CONTENT_REQUEST:"contentRequest",CONTENT_HIDDEN:null,CONTEXT_PRIMARY:"contextPrimary",CONTEXT_SECONDARY:"contextSecondary",CONTEXT_HIDDEN:null},_s={content:[],contentRequest:void 0,contextPrimary:[],contextSecondary:[]},Ts=e=>e&&(e=>e.reduce((e,{category:s,items:t})=>{const n=Ds[s];return n?fe(fe({},e),{},{[n]:t}):e},_s))(e)||_s,Rs={LabelsField:e=>({labels:Ke}[e]),TimeTrackingField:e=>({timetracking:Te}[e]),IssueTypeField:e=>({issuetype:Me}[e]),PriorityField:e=>({priority:Ne}[e]),ProjectComponentsField:e=>({components:Ue}[e]),ProjectField:e=>({project:Ve}[e]),StatusField:e=>({status:qe}[e]),TextField:e=>({description:Fe,summary:Be,environment:Le}[e]),UserField:e=>({assignee:Ae,reporter:Ge}[e]),VersionsField:e=>({versions:Re,fixVersions:$e}[e]),DateField:e=>({duedate:He}[e]),AttachmentsField:()=>ze,SecurityLevelField:()=>We,ResolutionField:()=>Je,IssueLinksField:()=>Ze,IssuesInEpicField:()=>es,SubtasksField:()=>ss,ChildIssuesField:()=>ts,EpicLinkField:()=>ns,EpicNameField:()=>rs,SprintCustomField:()=>is,StoryPointsField:()=>as,FlaggedCustomField:()=>cs,CheckBoxesCustomField:()=>ms,DatePickerCustomField:()=>us,DateTimeCustomField:()=>ls,FloatCustomField:()=>js,GroupPickerCustomField:()=>ds,LabelsCustomField:()=>ps,MultiGroupPickerCustomField:()=>fs,MultiSelectCustomField:()=>bs,MultiUserPickerCustomField:()=>gs,MultiVersionCustomField:()=>ys,RadioButtonsCustomField:()=>ks,SelectCustomField:()=>Es,CascadingSelectCustomField:()=>Ss,TextAreaCustomField:()=>ws,TextFieldCustomField:()=>Os,UrlCustomField:()=>hs,UserPickerCustomField:()=>Is,VersionCustomField:()=>Ps,ColorField:()=>xs,EpicColorField:()=>Cs},As=s=>{const t=s?s.__typename:"";if("IssueKeyField"!==t)try{const e=((e,s)=>{const t=Rs[e];if(t)return t(s)})(s.__typename,s.fieldKey);if(e)return e(s)}catch(e){const n={eventNameSuffix:"issue.error",type:"js",app:"data-provider",event:e};a.i.safeError("issue.data-provider.source.issue-express",`Failed to transform field type: ${t}`,new i.a(n))}},Us=e=>{const s=(e.fields||[]).find(e=>"IssueKeyField"===e.__typename);if(!s)throw new Error("Issue key field missing in graphql response");return P(s.stringValue)},Fs=e=>{if(!e)throw new L.a("Response from issue express was empty");const s=Us(e),t=new Date,{issueId:n,fields:r,layoutItems:i,remoteLinks:a,issueSections:o}=e,c=r.map(As),u=F({key:s}).withMeta({dataSource:"issueExpress",newIssueViewLockedIn:!!e.meta&&e.meta.newIssueViewLockedIn,fetchTime:t}).withId(n).withFields(c).withLayout(Ts(i)).withRemoteLinks(a).withIssueSections(o);return e.comments&&u.withComments((e=>{if(!e)return{users:{},comments:{},startIndex:0,totalCount:0};const{startIndex:s,totalCount:t,nodes:n}=e,{users:r,comments:i,commentsStartIndex:a,totalComments:o}=Object(de.b)({comments:n.map(e=>Object(de.f)(e)),totalComments:t},0,s);return{users:r,comments:i,startIndex:a,totalCount:o}})(e.comments)),e.myPreferences&&u.withPreferences(e.myPreferences),e.workflow&&u.withWorkflow(e.workflow),u.build()},Ls=(e,s,t)=>ie(e,s,t).map(e=>e.map(e=>Fs(e)).filter(e=>!!e)).catch(e=>(Object(T.a)("issue.data-provider.source.issue-express","fetchIssueData: Failed to pre-load bulk issue data from issueExpress",e,new i.a({eventNameSuffix:"issue.error",type:"fetch",app:"data-provider",event:e})),r.Observable.empty()));var $s={fetchIssue$:(e,s)=>re(e,s).map(e=>Fs(e)).filter(e=>!!e).map(e=>({issue:e})).catch(e=>(e instanceof L.a||Object(T.a)("issue.data-provider.source.issue-express","fetchIssueData: Failed to pre-load issue data from issueExpress",e,new i.a({eventNameSuffix:"issue.error",type:"fetch",category:"issue",app:"data-provider",event:e})),r.Observable.of({error:e}))),fetchIssuesByJql$:Ls,fetchIssuesByKey$:(e,s)=>Ls(e,`issuekey in (${s.join(",")})`,s.length),fetchIssuesById$:(e,s)=>Ls(e,`id in (${s.join(",")})`,s.length),fetchIssueRemoteData$:(e,s)=>((e,s)=>Object($.a)(X(e),ne(z(),{issueKey:s})).map(e=>Object(W.b)(Z,e)).map(e=>e[`bentoViewIssue${H()}`]))(e,s).map(e=>((e,s)=>{if(!e)return null;const t=s||Us(e),n=new Date,{issueId:r,remoteLinks:i}=e;return F({key:t}).withMeta({newIssueViewLockedIn:!!e.meta&&e.meta.newIssueViewLockedIn,dataSource:"issueExpress",fetchTime:n}).withId(r).withRemoteLinks(i).build()})(e,s)).filter(Boolean).catch(e=>(Object(T.a)("issue.data-provider.source.issue-express","fetchIssueRemoteData: Failed to fetch issue remote data from gira",e,new i.a({eventNameSuffix:"issue.error",type:"fetch",app:"data-provider",event:e})),r.Observable.empty()))},Ms=n("./node_modules/lodash/isEmpty.js"),Ks=n.n(Ms),Ns=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/get-meta.js");var Vs=()=>{try{const e=Object(Ns.a)("ajs-issue-initial-data"),s=e&&(e=>{if(!e)return null;const s=new Date,t=new Map;return e.issuetype&&t.set("issuetype",{type:"IssueType",key:"issuetype",title:"",editable:!1,value:{id:e.issuetype.id,name:e.issuetype.name,iconUrl:e.issuetype.iconUrl}}),e.description&&t.set("description",{type:"Description",key:"description",title:"",editable:!1,value:e.description}),e.status&&t.set("status",{type:"Status",key:"status",title:"",editable:!1,value:{name:e.status.name,statusCategory:{id:e.status.statusCategory.id}}}),e.summary&&t.set("summary",{type:"Summary",key:"summary",title:"",editable:!1,value:e.summary}),{key:e.issuekey,id:e.id,meta:{dataSource:"meta",newIssueViewLockedIn:!1,fetchTime:s},fields:t,layout:{contextPrimary:[],contextSecondary:[],content:[],contentRequest:void 0},issueSections:{__typename:"PrimarySecondaryContextSections",contentSection:{items:[]},primaryContextSection:{items:[]},secondaryContextSection:{items:[]}},remoteLinks:{confluencePages:{linkedPages:{pageCount:0},mentionedPages:{pageCount:0}},webLinks:{linkCount:0},remoteLinkedIssues:[]},myPreferences:{},comments:{totalCount:0,startIndex:0},users:{}}})(JSON.parse(e));if(s&&s.fields&&!Ks()(s.fields))return[s]}catch(e){const s={eventNameSuffix:"issue.error",type:"js",app:"data-provider",event:e};a.i.safeError("issue.data-provider.source.meta","fetch issue initial data from meta-data failed",new i.a(s))}return[]};var Gs=()=>{try{const e=(()=>window.ISSUE_VIEW_STATE&&window.ISSUE_VIEW_STATE.issue)(),s=e?Object(S.a)(e):null,t=s&&!Ks()(s.fields);if(s&&!0===t)return[s]}catch(e){const s={eventNameSuffix:"issue.error",type:"fetch",app:"data-provider",event:e};a.i.safeError("issue.data-provider.source.ssr","fetch issue initial data from ssr failed",new i.a(s))}return[]};var qs={fetchFromPreload:()=>{const e=Gs();return e.length>0?e:Vs()}};function Bs(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,n)}return t}function Hs(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}const zs=()=>{const e=function(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?Bs(Object(t),!0).forEach((function(s){Hs(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Bs(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}({fetchFromPreload:qs.fetchFromPreload,fetchIssue$:$s.fetchIssue$,fetchIssueRemoteData$:$s.fetchIssueRemoteData$},(e=>({fetchIssuesByJql$:e.fetchIssuesByJql$,fetchIssuesById$:e.fetchIssuesById$,fetchIssuesByKey$:e.fetchIssuesByKey$}))($s));return _(e)};function Ws(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,n)}return t}function Js(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?Ws(Object(t),!0).forEach((function(s){Ys(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ws(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}function Ys(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}const Qs=()=>{try{return I(Object(o.c)().baseUrl)}catch(e){return I("")}},Xs=(s={})=>{const t=((e={})=>{const s={expiryThresholdSeconds:3600,maxSize:100,baseUrl:Object.prototype.hasOwnProperty.call(e,"baseUrl")?e.baseUrl:Qs(),ssrCachedIssue:null};return Object.assign({},s,e)})(s),n=I(t.baseUrl),o=zs(),c=E({maxSize:t.maxSize,expiryThresholdSeconds:t.expiryThresholdSeconds});s.ssrCachedIssue&&c.put(s.ssrCachedIssue.key,Object(S.a)(s.ssrCachedIssue)),((e,s)=>{s.forEach(s=>e.put(s.key,s))})(c,o.fetchFromPreload());const u=e=>c.get(e),l=e=>o.fetchIssue$(n,P(e)).do(({issue:s})=>{s&&c.put(e,s)});return{clearCache:()=>{c.clear()},loadIssues:e=>{const s=(e=>e)(e.filter(e=>!c.has(e)));s.length>0&&o.fetchIssuesByKey$(n,s.slice(0,c.maxSize())).subscribe(e=>e.forEach(e=>c.put(e.key,e)))},loadIssuesById:e=>{const s=e.slice(0,c.maxSize());s.length>0&&o.fetchIssuesById$(n,s).subscribe(e=>e.forEach(e=>c.put(e.key,e)))},getIssue:u,getIssue$:(e,s=!1)=>{if(!s){const s=u(e);if(s)return r.Observable.of({issue:s})}return l(e)},getIssueRemoteData$:e=>o.fetchIssueRemoteData$(n,P(e)),refreshIssue$:e=>l(e),updateIssue:(s,t)=>{try{const e=c.get(s);if(e){const n=Js(Js({},e),{},{meta:{newIssueViewLockedIn:e.meta.newIssueViewLockedIn,dataSource:e.meta.dataSource,fetchTime:new Date}});t.forEach(e=>n.fields.set(e.key,e)),c.put(s,n)}else{const e=new Map;if(t.forEach(s=>e.set(s.key,s)),e.has("summary")&&e.has("description")&&e.has("issuetype")&&e.has("status")){const t={key:s,meta:{newIssueViewLockedIn:!1,dataSource:"memory",fetchTime:new Date},fields:e,layout:{contextPrimary:[],contextSecondary:[],content:[],contentRequest:void 0},issueSections:{__typename:"PrimarySecondaryContextSections",contentSection:{items:[]},primaryContextSection:{items:[]},secondaryContextSection:{items:[]}},remoteLinks:{confluencePages:{linkedPages:{pageCount:0},mentionedPages:{pageCount:0}},webLinks:{linkCount:0},remoteLinkedIssues:[]},myPreferences:{},comments:{totalCount:0,startIndex:0},users:{}};c.put(s,t)}else a.i.safeWarn("issue.data-provider.api","tried to populate cache with insufficient field data")}}catch(e){const t={eventNameSuffix:"issue.error",type:"js",app:"data-provider",event:e};a.i.safeError("issue.data-provider.updateIssue","Failed to update issue in the data provider",new i.a(t))}},getMetrics:()=>{try{return{cacheSize:c.size(),cacheStaleCount:c.staleCount(),cacheAvailableCapacity:c.availableCapacity(),cacheHit:c.wasCacheHit(),staleCacheHit:c.wasStaleHit()}}catch(e){const t={eventNameSuffix:"issue.error",type:"js",app:"data-provider",event:e};return a.i.safeError("issue.data-provider.getMetrics","Failed to get the data provider metrics",new i.a(t)),{cacheSize:0,cacheStaleCount:0,cacheAvailableCapacity:0,cacheHit:!1,staleCacheHit:!1}}},insertSerializedIssue:e=>{e&&e.key&&c.put(e.key,Object(S.a)(e))}}};let Zs;const et=()=>(null==Zs&&(Zs=Xs()),Zs)},"./src/packages/platform/services/issue/src/source/issue-express/graphql-util.js":function(e,s,t){"use strict";t.d(s,"b",(function(){return o})),t.d(s,"a",(function(){return c}));var n=t("./src/packages/platform/observability/analytics-legacy-gasv2/src/error.js"),r=t("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),i=t("./src/packages/platform/utils/fetch/src/utils/errors.js"),a=t("./src/packages/platform/services/issue/src/model/errors.js");const o=(e,s)=>{if(s.errors){const t=s.errors[0],a=new i.a(t.message),o={eventNameSuffix:"issue.error",type:"fetch",app:"data-provider",event:a};throw r.i.safeError(e,"getGraphQlData: Error present in GraphQL response",new n.a(o)),a}return s.data},c=e=>{if(!e||!Object.prototype.hasOwnProperty.call(e,"data"))throw new a.a("Response is either not present or has no data.");if(null===e.data)throw new a.a("Response is either not present or has no data.");return e}},"./src/packages/platform/services/spa-apdex-analytics/src/constants.js":function(e,s,t){"use strict";t.d(s,"b",(function(){return n})),t.d(s,"a",(function(){return r}));const n="jira.fe.spa-start",r="jira.fe.spa-end"},"./src/packages/platform/services/spa-apdex-analytics/src/context.js":function(e,s,t){"use strict";var n=t("./node_modules/react/index.js");s.a=Object(n.createContext)("SpaApdexAnalytics")},"./src/packages/platform/services/spa-apdex-analytics/src/feature-flags.js":function(e,s,t){"use strict";t.d(s,"d",(function(){return r})),t.d(s,"c",(function(){return i})),t.d(s,"a",(function(){return o})),t.d(s,"b",(function(){return c}));var n=t("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js");const r=()=>Object(n.b)("fe.platform.ssr.single-fragment.render",!1),i=()=>Object(n.b)("jfp.perf.extract-intl-provider",!1),a=()=>Object(n.e)("delorean.bm3","bm2",["bm2","bm3","both"]),o=()=>"bm2"===a()||"both"===a(),c=()=>"bm3"===a()||"both"===a()},"./src/packages/platform/services/spa-apdex-analytics/src/index.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return a})),t.d(s,"b",(function(){return o}));var n=t("./node_modules/react/index.js"),r=t.n(n),i=t("./src/packages/platform/services/spa-apdex-analytics/src/set-custom-mark/index.js");const a=()=>r.a.createElement(i.a,{name:"appBootstrapBundleReady"});a.displayName="SetBootstrapBundleReadyMark";const o=()=>r.a.createElement(i.a,{name:"appBundleReady"});o.displayName="SetBundleReadyMark"},"./src/packages/platform/services/spa-apdex-analytics/src/marks.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return r})),t.d(s,"c",(function(){return i})),t.d(s,"d",(function(){return a})),t.d(s,"b",(function(){return o}));var n=t("./src/packages/platform/services/spa-apdex-analytics/src/transform.js");const r=Object(n.b)("appBundleReady"),i=Object(n.b)("prefetchApiReady"),a=Object(n.b)("prefetchApiStart"),o=Object(n.b)("issueViewInitialDataReady")},"./src/packages/platform/services/spa-apdex-analytics/src/provider.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return j}));var n=t("./node_modules/react/index.js"),r=t.n(n),i=t("./node_modules/lodash/get.js"),a=t.n(i),o=t("./src/packages/platform/observability/browser-metrics/src/index.js"),c=t("./src/packages/common-legacy-do-not-add-anything-new/src/performance/index.js"),u=t("./src/packages/common-legacy-do-not-add-anything-new/src/util/get-timestamp.js"),l=t("./src/packages/common-legacy-do-not-add-anything-new/src/util/op-triggers/on-mount-and-update/index.js"),d=t("./src/packages/platform/services/spa-apdex-analytics/src/constants.js"),p=t("./src/packages/platform/services/spa-apdex-analytics/src/context.js"),m=t("./src/packages/platform/services/spa-apdex-analytics/src/feature-flags.js"),f=t("./src/packages/platform/services/spa-apdex-analytics/src/transform.js");function b(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,n)}return t}function g(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?b(Object(t),!0).forEach((function(s){y(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}function y(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}class j extends n.Component{constructor(...e){super(...e),this.onStart=()=>{Object(c.clearMarksWithPrefix)("jira.fe.spa-"),Object(c.setMark)(d.b)},this.onCustomMark=e=>{Object(c.setMark)(Object(f.b)(e)),this.customMarks.push(e)},this.onReady=(e,s,t,n,r=[],i={},l,p,b)=>{const y=Object(o.c)();Object(c.setMark)(d.a);const j=g({},i);this.customMarks.forEach(e=>{const s=Object(f.b)(e),n=Object(c.getMark)(s);j[e]=t?n?n.startTime:0:Object(c.timeBetweenMarks)(d.b,s)}),j.isSSRFullPage=Object(m.d)(),j.hasIntlProvider=!Object(m.c)(),r.filter(e=>!!e.startsWith("jira.fe.spa-")||(console.warn(`Performance mark "${e}" is ignored as it doesn't start with proper prefix.`),!1)).forEach(e=>{const s=Object(f.a)(e);j[s]=Object(c.timeBetweenMarks)(d.b,e)});const h=Object(u.a)(),O=p||b?{ttrSloSuccessThreshold:p,ttiSloSuccessThreshold:b}:{};if(t){const s=Object(c.getMark)("ssr.spa.rendered"),t=g({},a()(window,["SPA_STATE","ssr/metrics","data"],{}));if(s&&n){const n={key:e,collectors:[e=>g(g(g(g({},e),j),t),{},{ssr:!0}),e=>g(g({},e),{},{tti:e.end,end:s.startTime})]};y.markTimeToInitialRender({ttr:s.startTime,tti:h},g(g({},n),{},{appName:l},O))}else{const s={key:e,collectors:[e=>g(g(g(g({},e),j),t),{},{tti:e.end,ssr:!1})]};y.markTimeToInitialRender({ttr:h,tti:h},g(g({},s),{},{appName:l},O))}}else{const e={metricKey:s,startMarkKey:d.b,endMarkKey:d.a,collectors:[e=>g(g(g({},e),j),{},{tti:e.end?e.end-e.start:null})]};y.markTimeToPageTransition({ttr:h,tti:h},g(g({},e),{},{appName:l},O))}},this.customMarks=[]}render(){const{children:e,pageId:s}=this.props;return(r.a.createElement(p.a.Provider,{value:{pageId:s,onReady:this.onReady,onCustomMark:this.onCustomMark}},r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{op:this.onStart,args:[s]}),e)))}}j.displayName="Provider"},"./src/packages/platform/services/spa-apdex-analytics/src/set-custom-mark/index.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return o}));var n=t("./node_modules/react/index.js"),r=t.n(n),i=t("./src/packages/common-legacy-do-not-add-anything-new/src/util/op-triggers/on-mount-and-update/index.js"),a=t("./src/packages/platform/services/spa-apdex-analytics/src/context.js");class o extends n.Component{render(){const{name:e}=this.props;return(r.a.createElement(a.a.Consumer,null,({pageId:s,onCustomMark:t})=>r.a.createElement(i.a,{op:t,args:[e,s]})))}}o.displayName="SetCustomMark"},"./src/packages/platform/services/spa-apdex-analytics/src/transform.js":function(e,s,t){"use strict";t.d(s,"b",(function(){return n})),t.d(s,"a",(function(){return r}));const n=e=>`jira.fe.spa-${e}`,r=e=>e.substring("jira.fe.spa-".length)},"./src/packages/platform/ui/layouts/shared-global-components/src/ui/embedded-issue-preload/index.js":function(e,s,t){"use strict";t.r(s);var n=t("./node_modules/react/index.js"),r=t.n(n),i=t("./node_modules/react-resource-router/build/esm/index.js"),a=t("./src/packages/routes/src/ui/spa/issue/index.js"),o=t("./src/packages/platform/ui/layouts/shared-global-components/src/feature-flags.js");s.default=()=>{var e,s,n;const[{route:c}]=Object(i.n)();return Object(o.f)()&&(Object(o.b)()?null===(e=c.afterPaint)||void 0===e?void 0:e.includes(a.a):null===(s=c.preloadOptions)||void 0===s||null===(n=s.prefetchChunks)||void 0===n?void 0:n.includes("async-issue-app"))&&((()=>{Promise.all([t.e("vendor~748942c6"),t.e("vendor~31ecd969"),t.e("async-issue-app~atlaskit~6f4eaae6"),t.e("async-issue-app~vendor"),t.e("async-issue-app~issue"),t.e("async-issue-app")]).then(t.bind(null,"./src/packages/issue/issue-view/src/views/issue-details/issue-app.js"))})(),performance.mark("EmbeddedIssuePreloadComponent:rendered")),r.a.createElement(r.a.Fragment,null)}},"./src/packages/platform/utils/constants/src/analytics-sources.js":function(e,s,t){"use strict";t.d(s,"c",(function(){return n})),t.d(s,"b",(function(){return r}));const n={AGILITY_BACKLOG:"agility-backlog",BITBUCKET_ISSUE:"bitbucket-issue",CORE_ISSUE:"core-issue",BUSINESS_CALENDAR:"business-calendar",BUSINESS_LIST:"business-list",FULL_ISSUE:"full-issue",GLOBAL_ISSUE_NAVIGATOR_ISSUE:"global-issue-navigator-issue",LINKED_ISSUE_MODAL:"linked-issue-modal",MOBILE_ISSUE:"mobile-issue",PROJECT_ISSUE_NAVIGATOR:"project-issue-navigator",STANDARD_ROADMAP_ISSUE:"roadmap-issue",SIMPLE_SOFTWARE_BOARD:"simple-software-board",SOFTWARE_BACKLOG_ISSUE:"software-backlog-issue",SOFTWARE_DEPLOYMENTS_ISSUE:"software-deployments-issue",SOFTWARE_ISSUE:"software-issue",SERVICEDESK_QUEUES_ISSUE:"queues-issue-view",SERVICEDESK_REPORTS_ISSUE:"reports-issue-view",CLASSIC_PROJECT_LAYOUT_CONFIG:"classic-project-layout-config"},r=Object.keys(n).map(e=>n[e]);s.a=n},"./src/packages/platform/utils/fetch/src/utils/as-json-stream.js":function(e,s,t){"use strict";var n=t("./node_modules/icepick/icepick.js"),r=t("./node_modules/rxjs/Observable.js"),i=(t("./node_modules/rxjs/add/observable/of.js"),t("./node_modules/rxjs/add/operator/mergeMap.js"),t("./node_modules/rxjs/add/operator/catch.js"),t("./src/packages/platform/utils/constants/src/fetch-default-options.js")),a=t("./src/packages/common-legacy-do-not-add-anything-new/src/performance/index.js"),o=t("./src/packages/platform/utils/fetch/src/utils/errors.js");function c(e,s){if(null==e)return{};var t,n,r=function(e,s){if(null==e)return{};var t,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],s.indexOf(t)>=0||(r[t]=e[t]);return r}(e,s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],s.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}s.a=(e,s={})=>{const{perf:t,headersProcessor:u}=s,l=c(s,["perf","headersProcessor"]);let d;const p=!!t;if(p){const s=`REST${(e=>{const s=e.replace(/\//g,"_");return s.substr(0,s.indexOf("?")>-1?s.indexOf("?"):s.length)})(e)}`;d=t&&`${null!=t.prefix&&""!==t.prefix?`${t.prefix}_`:""}${t.key}`||s,Object(a.setMark)(`BEGIN_${d}`)}return r.Observable.of(e).mergeMap(()=>fetch(e,Object(n.merge)(i.a,l))).mergeMap(e=>{if(p&&Object(a.setMark)(`END_${d}`),!e.ok){const{status:s}=e;return e.text().then(t=>{const n=e.headers.get("atl-traceid");throw null!=n&&""!==n?new o.b(s,t,n):new o.b(s,t)})}return"function"==typeof u&&u(e.headers),204===e.status?r.Observable.of(null):e.json()})}},"./src/packages/platform/utils/permalinks/src/constants.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return n})),t.d(s,"c",(function(){return r})),t.d(s,"b",(function(){return i}));const n="Comments",r="Worklog",i={COMMENTS:"focusedCommentId",WORKLOG:"focusedWorklogId"}},"./src/packages/platform/utils/permalinks/src/index.js":function(e,s,t){"use strict";t.d(s,"b",(function(){return c})),t.d(s,"a",(function(){return u})),t.d(s,"c",(function(){return l}));var n=t("./node_modules/memoize-one/dist/memoize-one.esm.js"),r=t("./node_modules/query-string/index.js"),i=t.n(r),a=t("./src/packages/platform/utils/permalinks/src/constants.js");const o=Object(n.a)(e=>{const s=i.a.parseUrl(e).query;return s[a.b.COMMENTS]?{permalinkType:"Comments",permalinkId:s[a.b.COMMENTS]}:s[a.b.WORKLOG]?{permalinkType:"Worklog",permalinkId:s[a.b.WORKLOG]}:null}),c=()=>o(window.location.search),u=e=>{const{permalinkId:s,permalinkType:t}=c()||{},n=t===e&&null!=s;return{hasPermalink:n,permalinkId:n?s:""}},l=(e,s)=>{const t=window.location.pathname;let n=`?${s}=${e}`;if("/secure/RapidBoard.jspa"===t||t.startsWith("/jira/software/projects/")&&"boards"===t.split("/")[5]||t.startsWith("/jira/servicedesk/projects/")&&"queues"===t.split("/")[5]){const t=new URL(window.location.href);t.searchParams.delete(s===a.b.WORKLOG?a.b.COMMENTS:a.b.WORKLOG),t.searchParams.set(s,e),n=t.search}return n}},"./src/packages/rich-content/src/common/adf-parsing-utils.js":function(e,s,t){"use strict";t.d(s,"c",(function(){return l})),t.d(s,"h",(function(){return d})),t.d(s,"a",(function(){return p})),t.d(s,"g",(function(){return m})),t.d(s,"i",(function(){return f})),t.d(s,"j",(function(){return b})),t.d(s,"k",(function(){return g})),t.d(s,"d",(function(){return y})),t.d(s,"e",(function(){return j})),t.d(s,"f",(function(){return h})),t.d(s,"b",(function(){return O}));var n=t("./node_modules/@atlaskit/adf-utils/dist/es2019/traverse/traverse.js"),r=t("./node_modules/@atlaskit/adf-utils/dist/es2019/traverse/filter.js"),i=t("./src/packages/platform/observability/analytics-legacy-gasv2/src/error.js"),a=t("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js");function o(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,n)}return t}function c(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?o(Object(t),!0).forEach((function(s){u(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}function u(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}const l={type:"doc",version:1,content:[]},d=e=>null==e?null:"media"===e.type&&e.attrs?c(c({},e),{},{attrs:c(c({},e.attrs),{},{collection:""})}):e.content?c(c({},e),{},{content:e.content.map(d)}):c({},e),p=e=>{if("string"==typeof e)try{return d(JSON.parse(e))}catch(s){return a.i.safeError("rich-content.convert-adf-to-object","Failed to parse rich content",new i.a({eventNameSuffix:"RICH_CONTENT_ERROR_ANALYTICS",type:"js",app:"issue",event:s})),null}return d(e)},m=e=>!(!e||!e.content)&&e.content.every(e=>"paragraph"===e.type&&(0===e.content.length||e.content.every(e=>"text"===e.type&&null!==e.text.match(/^\s*$/)))),f=e=>{if(!e||!e.content)return l;let s;for(s=e.content.length-1;s>=0&&e.content[s].content&&"paragraph"===e.content[s].type&&0===e.content[s].content.length&&!(s>0&&"mediaGroup"===e.content[s-1].type);s-=1);return c(c({},e),{},{content:e.content.slice(0,s+1)})},b=e=>e.replace(/[\r\n]+$/,""),g=e=>m(e)?l:e,y=e=>{const s=new Map;return Object(n.a)(e,{media:e=>{e.attrs.id&&void 0!==e.attrs.collection&&s.set(e.attrs.id,e)}}),s.size>0},j=(e,s)=>{const t=new Set,r=new Set,i=new Set;return s&&Object(n.a)(s,{media:e=>{e.attrs.id&&void 0!==e.attrs.collection&&r.add(e.attrs.id)}}),e&&Object(n.a)(e,{media:e=>{if(e.attrs.id&&void 0!==e.attrs.collection&&(t.add(e.attrs.id),r.size)){r.has(e.attrs.id)||i.add(e.attrs.id)}}}),t.size!==r.size||!!i.size},h=e=>{if(null==e)return!1;return 0===Object(r.a)(e,e=>"paragraph"!==e.type&&"doc"!==e.type&&"text"!==e.type).length},O=async e=>{const{defaultSchema:s}=await t.e("async-adf-defaultschema").then(t.bind(null,"./node_modules/@atlaskit/adf-schema/dist/es2019/index.js")),{WikiMarkupTransformer:n}=await t.e("async-wikimarkup-transformer").then(t.bind(null,"./node_modules/@atlaskit/editor-wikimarkup-transformer/dist/es2019/index.js")),{JSONTransformer:r}=await t.e("async-json-transformer").then(t.bind(null,"./node_modules/@atlaskit/editor-json-transformer/dist/es2019/index.js")),i=new r,a=new n(s);if(null==e)return"";const o=i.parse(e);return a.encode(o)}},"./src/packages/routes/src/common/ui/resources/utils/create-resource-error/index.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return i}));var n=t("./src/packages/common-legacy-do-not-add-anything-new/src/util/logging/log.js");function r({name:e,message:s,component:t},r){this.name=e,this.message=s,r&&(this.name=r.name?r.name:e,this.message=r.message?r.message:s,r.stack&&(this.stack=r.stack)),n.a.safeError(t,s,r)}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r;const i=({name:e="UnknownError",message:s="",component:t=""},i)=>i?(n.a.safeError(t,s,i),i):new r({name:e,message:s,component:t},i)},"./src/packages/routes/src/ui/spa/issue/index.js":function(e,s,t){"use strict";t.d(s,"b",(function(){return Q})),t.d(s,"a",(function(){return X}));var n=t("./node_modules/react/index.js"),r=t.n(n),i=t("./node_modules/react-loosely-lazy/lib/esm/index.js"),a=t("./node_modules/react-resource-router/build/esm/index.js"),o=t("./src/packages/platform/services/spa-apdex-analytics/src/provider.js"),c=t("./src/packages/platform/services/spa-apdex-analytics/src/index.js"),u=t("./src/packages/platform/utils/types/src/general.js"),l=t("./src/packages/spa-apps/common/src/analytics-sub-product/project-sub-product-updater/index.js"),d=e=>{const{issueKey:s,location:t,children:n}=e,i=s.toUpperCase();if(s&&s!==i){const e={pathname:t.pathname.replace(s,i),search:"",hash:""};return(r.a.createElement(a.b,{to:e}))}return n},p=t("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js");const m=()=>Object(p.e)("delorean.bm3","bm2",["bm2","bm3","both"]),f=()=>Object(p.b)("delorean.bm3.bento.full-page",!1),b=()=>f()&&("bm3"===m()||"both"===m());var g=t("./node_modules/@atlassian/browser-metrics/dist/es2019/factory/index.js"),y=t("./src/packages/issue/issue-view/src/perf.config.js");const j=g.a.pageLoad({key:"issue-view",until:y.b,include:[y.b],ssr:{doneAsFmp:!0}});var h=t("./src/packages/platform/observability/analytics-web-react/src/components/decorators.js"),O=t("./src/packages/platform/observability/analytics-web-react/src/utils/events.js"),v=t("./src/packages/common-legacy-do-not-add-anything-new/src/util/with-injected-props.js"),w=t("./src/packages/platform/services/spa-async-component/src/component.js"),k=t("./src/packages/platform/utils/constants/src/analytics-sources.js"),E=t("./src/packages/issue/issue-view/src/common/util/entry/get-project-key.js"),S=t("./src/packages/issue/issue-view/src/utils/prefetched-resources/index.js"),I=t("./src/packages/issue/issue-view/src/views/issue-details/issue-layout/utils.js"),P=t("./src/packages/platform/services/issue/src/service/index.js"),x=t("./src/packages/routes/src/ui/spa/issue/resources/issue/index.js"),C=t("./src/packages/platform/controllers/spa-state/src/components/transition-state/index.js"),D=t("./src/packages/platform/controllers/tenant-context/src/components/index.js"),_=t("./node_modules/styled-components/dist/styled-components.browser.esm.js"),T=t("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js");const R=_.default.div(["height:100%;"]);T.e,T.e,T.e;var A=t("./node_modules/query-string/index.js"),U=t.n(A);const F=()=>{const e=U.a.parse(window.location.search);return e.oldIssueView="true",`${window.location.protocol}//${window.location.host}${window.location.pathname}?${U.a.stringify(e)}${window.location.hash}`};function L(){return(L=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function $(e,s){if(null==e)return{};var t,n,r=function(e,s){if(null==e)return{};var t,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],s.indexOf(t)>=0||(r[t]=e[t]);return r}(e,s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],s.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}const M=({resolveIssueApp:e,configuration:s,rapidViewId:t,AsyncComponentConsumer:i})=>{const o=Object(D.m)(),{baseUrl:c,locale:l}=o,[{match:d}]=Object(a.n)(),p=Object(u.l)(d.params.issueKey||""),m=Object(E.a)(p),{push:f}=Object(a.o)(),[{isInitialRender:b}]=Object(C.b)(),{data:g}=Object(a.l)(x.a),[y]=Object(S.a)({resolveIssueApp:e,issue:g,isInitialRender:b,isServer:!1}),j=Object(u.l)(g?g.key:p),h=Object(P.a)();g&&!h.getIssue(g.key)&&h.insertSerializedIssue(g);const O=s||{},{applicationKey:v}=O,w=$(O,["applicationKey"]),_=Object(n.useCallback)(e=>{f(`${c}/browse/${e.toIssueKey}`)},[f,c]),T=Object(n.useCallback)(()=>{window.location.assign(`${c}/browse/${m}`)},[m,c]);if(j!==p)return r.a.createElement(a.b,{to:`/browse/${j}`});return r.a.createElement(R,null,r.a.createElement(i,{bundleName:"async-issue-app",resolve:y},({component:e})=>e&&(e=>r.a.createElement(e,L({},w,{issueKey:j,issueId:g&&g.id,baseUrl:Object(u.b)(c),locale:l,analyticsSource:k.a.FULL_ISSUE,isSpaEnabled:!0,rapidViewId:t,history:null,onIssueKeyChange:_,oldViewUrl:F(),onIssueDeleteSuccess:T,shouldShowRootProjectsBreadcrumb:!0,shouldShowProjectLevelBreadcrumb:!0,isStickyHeaderOffset:!0,issueMaxWidth:Object(I.a)()})))(e)))};M.displayName="MainIssueView";const K=Promise.all([t.e("vendor~748942c6"),t.e("vendor~31ecd969"),t.e("async-issue-app~atlaskit~6f4eaae6"),t.e("async-issue-app~vendor"),t.e("async-issue-app~issue"),t.e("async-issue-app")]).then(t.bind(null,"./src/packages/issue/issue-view/src/views/issue-details/issue-app.js")),N=Object(h.a)("fullIssue",O.a.SCREEN)(M);var V=Object(v.a)(N,{AsyncComponentConsumer:w.a,resolveIssueApp:()=>K});class G extends n.Component{constructor(){super(),b()&&j.startPageLoad()}componentDidUpdate(e){if(b()){Object(u.l)(this.props.match.params.issueKey||"")!==Object(u.l)(e.match.params.issueKey||"")&&j.startPageLoad()}}render(){const e=Object(u.l)(this.props.match.params.issueKey||"");return(r.a.createElement(d,{issueKey:e,location:this.props.location},r.a.createElement(l.a,null),r.a.createElement(V,null)))}}G.displayName="IssueWithoutRouter";var q=Object(a.p)(G),B=t("./src/packages/platform/controllers/spa-state/src/components/index.js"),H=t("./src/packages/platform/utils/constants/src/analytics-marks.js"),z=t("./src/packages/platform/observability/spa-performance-breakdown/src/utils/performance-marks-tools/index.js");const W=e=>(e.then(()=>{Object(z.d)("bento.bundle-ready","jira-spa.js:eval-stop");const e=performance.getEntriesByType("mark");for(let s=e.length-1;s>=0;s-=1)if(e[s].name.startsWith("async-issue-app")&&e[s].name.endsWith(H.JS_EVAL_START)){Object(z.d)("bento.eval",e[s].name);break}}),e);var J=t("./src/packages/spa/src/view/lazy-page/index.js"),Y=t("./src/packages/routes/src/feature-flags.js");(()=>{W(Promise.all([t.e("vendor~748942c6"),t.e("vendor~31ecd969"),t.e("async-issue-app~atlaskit~6f4eaae6"),t.e("async-issue-app~vendor"),t.e("async-issue-app~issue"),t.e("async-issue-app")]).then(t.bind(null,"./src/packages/spa-apps/issue/src/index.js")))})();const Q=Object(i.f)(()=>W(Promise.all([t.e("vendor~748942c6"),t.e("vendor~31ecd969"),t.e("async-issue-app~atlaskit~6f4eaae6"),t.e("async-issue-app~vendor"),t.e("async-issue-app~issue"),t.e("async-issue-app")]).then(t.bind(null,"./src/packages/spa-apps/issue/src/index.js"))),{moduleId:"./src/packages/spa-apps/issue/src/index.js"}),X=Object(i.e)(()=>Promise.all([t.e("vendor~748942c6"),t.e("vendor~31ecd969"),t.e("async-issue-app~atlaskit~6f4eaae6"),t.e("async-issue-app~vendor"),t.e("async-issue-app~issue"),t.e("async-issue-app")]).then(t.bind(null,"./src/packages/issue/issue-view/src/views/issue-details/issue-app.js")),{moduleId:"./src/packages/issue/issue-view/src/views/issue-details/issue-app.js"});s.c=()=>{const[{match:e}]=Object(a.n)();return Object(Y.j)()?r.a.createElement(J.a,{Page:Q,pageId:"spa-issue",shouldShowSpinner:!1}):r.a.createElement(o.a,{pageId:"spa-issue"},r.a.createElement(B.e,{isGlobal:!0,appId:"spa-issue"},r.a.createElement(B.d,{match:e}),r.a.createElement(c.a,null),r.a.createElement(q,null)))}},"./src/packages/routes/src/ui/spa/issue/resources/issue-forge-data/index.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return c}));var n=t("./node_modules/react-resource-router/build/esm/index.js"),r=t("./src/packages/routes/src/ui/spa/issue/utils/index.js"),i=t("./src/packages/issue/issue-fetch-services/src/services/issue-forge-data/index.js"),a=t("./src/packages/routes/src/common/ui/resources/utils/create-resource-error/index.js"),o=t("./src/packages/routes/src/feature-flags.js");const c=Object(n.i)({type:"ISSUE_FORGE_DATA",getKey:({match:e,query:s})=>Object(r.a)(e,s)||"",getData:(...e)=>(async({match:e,query:s},{tenantContext:t})=>{const n=Object(r.a)(e,s);if(Object(o.fb)()&&!n)return null;if(!n)throw new Error("Issue Key is not in the params, you may be mis-using this resource.");try{const{baseUrl:e,cloudId:s}=t;return await Object(i.a)(e,s)}catch(c){throw Object(a.a)({component:"spa.view.routes.issue-view.forge.getData",message:"An error was thrown while prefetching issue Forge data",name:"ResourceError"},c)}})(...e)})},"./src/packages/routes/src/ui/spa/issue/resources/issue-gira-data/index.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return l}));var n=t("./node_modules/react-resource-router/build/esm/index.js"),r=t("./src/packages/routes/src/feature-flags.js"),i=t("./src/packages/routes/src/ui/spa/issue/utils/index.js"),a=t("./src/packages/routes/src/ui/spa/issue/resources/utils.js"),o=t("./src/packages/platform/utils/types/src/general.js"),c=t("./src/packages/issue/issue-fetch-services/src/services/issue-gira-data/index.js"),u=t("./src/packages/routes/src/common/ui/resources/utils/create-resource-error/index.js");const l=Object(n.i)(Object(a.b)({type:"ISSUE_GIRA_DATA",getKey:({match:e,query:s})=>Object(i.a)(e,s)||"",getData:(...e)=>!Object(r.j)()&&Object(a.a)()?null:(async({match:e,query:s},{tenantContext:t})=>{const n=Object(i.a)(e,s);if(Object(r.fb)()&&!n)return null;if(!n)throw new Error("Issue Key is not in the params, you may be mis-using this resource.");try{const{baseUrl:e}=t;return await Object(c.a)(e,Object(o.l)(n))}catch(a){throw Object(u.a)({component:"spa.view.routes.issue-view.gira.getData",message:"An error was thrown while prefetching issue gira data",name:"ResourceError"},a)}})(...e)}))},"./src/packages/routes/src/ui/spa/issue/resources/issue-graphql-data/index.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return l}));var n=t("./node_modules/react-resource-router/build/esm/index.js"),r=t("./src/packages/routes/src/feature-flags.js"),i=t("./src/packages/routes/src/ui/spa/issue/utils/index.js"),a=t("./src/packages/routes/src/ui/spa/issue/resources/utils.js"),o=t("./src/packages/issue/issue-fetch-services/src/common/utils/get-project-data.js"),c=t("./src/packages/issue/issue-fetch-services/src/services/issue-graphql-data/index.js"),u=t("./src/packages/routes/src/common/ui/resources/utils/create-resource-error/index.js");const l=Object(n.i)(Object(a.b)({type:"ISSUE_GRAPHQL_DATA",getKey:({match:e,query:s})=>Object(i.a)(e,s)||"",getData:(...e)=>!Object(r.j)()&&Object(a.a)()?null:(async({match:e,query:s},{tenantContext:t})=>{const n=Object(i.a)(e,s);if(Object(r.fb)()&&!n)return null;if(!n)throw new Error("Issue Key is not in the params, you may be mis-using this resource.");try{const{baseUrl:e}=t,s=Object(o.a)(n);return await Object(c.a)(e,n,s)}catch(a){throw Object(u.a)({component:"spa.view.routes.issue-view.gira.getData",message:"An error was thrown while prefetching issue gira data",name:"ResourceError"},a)}})(...e)}))},"./src/packages/routes/src/ui/spa/issue/resources/issue-media-read-permissions/index.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return d}));var n=t("./node_modules/react-resource-router/build/esm/index.js"),r=t("./src/packages/issue/issue-fetch-services-common/src/feature-flags.js"),i=t("./src/packages/routes/src/feature-flags.js"),a=t("./src/packages/routes/src/ui/spa/issue/resources/utils.js"),o=t("./src/packages/issue/issue-fetch-services/src/services/issue-media-read-permissions/index.js"),c=t("./src/packages/issue/issue-fetch-services-common/src/common/utils/token-browser-utils.js"),u=t("./src/packages/routes/src/common/ui/resources/utils/create-resource-error/index.js"),l=t("./src/packages/routes/src/ui/spa/issue/utils/index.js");const d=Object(n.i)(Object(a.b)({type:"ISSUE_MEDIA_READ_PERM",getKey:({match:e})=>e&&e.params&&void 0!==e.params.issueKey&&null!==e.params.issueKey?e.params.issueKey:"",getData:(...e)=>Object(r.d)()||!Object(i.j)()&&Object(a.a)()?null:(async({match:e},{tenantContext:s})=>{const t=Object(l.a)(e);if(!t)throw new Error("Issue Key is not in the params, you may be mis-using this resource.");try{const{baseUrl:e}=s;return await Object(o.a)(e,t,Object(c.a)())}catch(n){throw Object(u.a)({component:"spa.view.routes.issue-view.media-read-perm.getData",message:"An error was thrown while prefetching issue media read permissions",name:"ResourceError"},n)}})(...e)}))},"./src/packages/routes/src/ui/spa/issue/resources/issue-media-upload-permissions/index.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return l}));var n=t("./node_modules/react-resource-router/build/esm/index.js"),r=t("./src/packages/issue/issue-fetch-services-common/src/feature-flags.js"),i=t("./src/packages/routes/src/feature-flags.js"),a=t("./src/packages/routes/src/ui/spa/issue/utils/index.js"),o=t("./src/packages/routes/src/ui/spa/issue/resources/utils.js"),c=t("./src/packages/issue/issue-fetch-services/src/services/issue-media-upload-permissions/index.js"),u=t("./src/packages/routes/src/common/ui/resources/utils/create-resource-error/index.js");const l=Object(n.i)(Object(o.b)({type:"ISSUE_MEDIA_UPLOAD_PERM",getKey:({match:e})=>Object(a.a)(e)||"",getData:(...e)=>Object(r.d)()||!Object(i.j)()&&Object(o.a)()?null:(async({match:e},{tenantContext:s})=>{const t=Object(a.a)(e);if(!t)throw new Error("Issue Key is not in the params, you may be mis-using this resource.");try{const{baseUrl:e}=s;return await Object(c.a)(e,t)}catch(n){throw Object(u.a)({component:"spa.view.routes.issue-view.media-upload-perm.getData",message:"An error was thrown while prefetching issue media upload permissions",name:"ResourceError"},n)}})(...e)}))},"./src/packages/routes/src/ui/spa/issue/resources/issue-media-user-auth/index.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return l}));var n=t("./node_modules/react-resource-router/build/esm/index.js"),r=t("./src/packages/issue/issue-fetch-services-common/src/feature-flags.js"),i=t("./src/packages/routes/src/feature-flags.js"),a=t("./src/packages/routes/src/ui/spa/issue/utils/index.js"),o=t("./src/packages/routes/src/ui/spa/issue/resources/utils.js"),c=t("./src/packages/issue/issue-fetch-services/src/services/issue-media-user-auth/index.js"),u=t("./src/packages/routes/src/common/ui/resources/utils/create-resource-error/index.js");const l=Object(n.i)(Object(o.b)({type:"ISSUE_MEDIA_USER_AUTH",getKey:({match:e})=>Object(a.a)(e)||"",getData:(...e)=>Object(r.d)()||!Object(i.j)()&&Object(o.a)()?null:(async({match:e},{tenantContext:s})=>{if(!Object(a.a)(e))throw new Error("Issue Key is not in the params, you may be mis-using this resource.");try{const{baseUrl:e}=s;return await Object(c.a)(e)}catch(t){throw Object(u.a)({component:"spa.view.routes.issue-view.media-user-auth.getData",message:"An error was thrown while prefetching issue media user auth",name:"ResourceError"},t)}})(...e)}))},"./src/packages/routes/src/ui/spa/issue/resources/issue/index.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return a}));var n=t("./node_modules/react-resource-router/build/esm/index.js"),r=t("./src/packages/routes/src/common/ui/resources/constants.js"),i=t("./src/packages/routes/src/ui/spa/issue/utils/index.js");const a=Object(n.i)({type:r.q,getKey:({match:e})=>Object(i.a)(e)||"",getDataLoader:async()=>Promise.all([t.e("vendor~748942c6"),t.e("vendor~31ecd969"),t.e("async-resource-issue")]).then(t.bind(null,"./src/packages/routes/src/ui/spa/issue/resources/issue/get-data/index.js")),maxAge:0})},"./src/packages/routes/src/ui/spa/issue/resources/utils.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return u})),t.d(s,"b",(function(){return l}));var n=t("./src/packages/issue/issue-fetch-services-common/src/feature-flags.js"),r=t("./src/packages/routes/src/feature-flags.js");function i(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,n)}return t}function a(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?i(Object(t),!0).forEach((function(s){o(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}function o(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function c(e,s){if(null==e)return{};var t,n,r=function(e,s){if(null==e)return{};var t,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],s.indexOf(t)>=0||(r[t]=e[t]);return r}(e,s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],s.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}const u=()=>{if(Object(n.d)()){if(window.issueResources&&Object.keys(window.issueResources).length>0&&window.issueResources.issueGiraDataPromise&&window.issueResources.issueGraphqlDataPromise)return!0}else if(window.issueResources&&Object.keys(window.issueResources).length>0&&window.issueResources.mediaUserAuthPromise&&window.issueResources.mediaUploadPermissionPromise&&window.issueResources.mediaReadPermissionPromise&&window.issueResources.issueGiraDataPromise&&window.issueResources.issueGraphqlDataPromise)return!0;return!1},l=e=>{let{type:s,getData:t}=e;return a(a({},c(e,["type","getData"])),{},{type:s,getData:(...e)=>{if(Object(r.j)()&&s in window){const e=window[s];return delete window[s],e}return t(...e)}})}},"./src/packages/routes/src/ui/spa/issue/utils/index.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return i}));var n=t("./src/packages/platform/utils/types/src/general.js"),r=t("./src/packages/routes/src/feature-flags.js");const i=(e,s={})=>{const t=e&&e.params&&void 0!==e.params.issueKey&&null!==e.params.issueKey?Object(n.l)(e.params.issueKey):null;if(Object(r.fb)()){const e=s&&s.selectedIssue?Object(n.l)(s.selectedIssue):null;return t||e}return t}},"./src/packages/spa-apps/common/src/analytics-sub-product/project-sub-product-updater/index.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return c}));var n=t("./node_modules/react/index.js"),r=t.n(n),i=(t("./node_modules/react-magnetic-di/lib/esm/index.js"),t("./src/packages/navigation-next/src/baskets/navigation/components/container-context/index.js")),a=t("./src/packages/spa-apps/common/src/analytics-sub-product/sub-product-updater/index.js"),o=t("./src/packages/spa-apps/common/src/analytics-sub-product/transformations.js");const c=()=>r.a.createElement(i.a,{fromCache:!0},({data:e})=>e&&e.project?r.a.createElement(a.a,{subProduct:Object(o.a)(e.project.type)}):null);c.displayName="ProjectSubProductUpdater"},"./src/packages/spa-apps/common/src/analytics-sub-product/sub-product-updater/index.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return y}));var n=t("./node_modules/react/index.js"),r=t.n(n),i=t("./src/packages/common-legacy-do-not-add-anything-new/src/util/op-triggers/on-mount-and-update/index.js"),a=t("./src/packages/common-legacy-do-not-add-anything-new/src/util/op-triggers/on-mount/index.js"),o=t("./src/packages/platform/controllers/tenant-context/src/components/index.js"),c=t("./src/packages/common-legacy-do-not-add-anything-new/src/util/logging/log.js"),u=t("./src/packages/platform/utils/fetch/src/utils/requests.js"),l=(e,s)=>{Object(u.b)(`${e}/rest/internal/2/mauTag/${s}`).catch(e=>{c.a.safeError("common.tag-mau.tag-mau-event","Error connecting to monolith mau tag endpoint",e)})},d=({subProduct:e})=>r.a.createElement(o.b,null,({tenantContext:s})=>r.a.createElement(a.a,{op:l,args:[s.baseUrl,e]})),p=t("./src/packages/spa-apps/common/src/analytics-sub-product/transformations.js"),m=t("./src/packages/common-legacy-do-not-add-anything-new/src/bridge/index.js"),f=t("./src/packages/platform/observability/product-analytics-web-client/src/common/utils.js"),b=t("./src/packages/spa-apps/common/src/feature-flags.js"),g=e=>{Object(f.b)().then(s=>{s.setSubProduct(e),Object(b.h)()&&("serviceDesk"===e?s.setUIViewedAttributes(["jiraServiceManagement"]):s.clearUIViewedAttributes())}),Object(m.a)({name:"jira/analytics/sub-product-resolver",shouldLogError:!1}).then(s=>{s.setSubProduct(e)}).catch(e=>c.a.safeError("common.analytics-sub-product.sub-product-updater","Error connecting to monolith sub product resolver",e))};const y=e=>{const s=e.subProduct?e.subProduct:Object(p.a)(e.projectType);return(r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{op:g,args:[s]}),r.a.createElement(d,{subProduct:s})))}},"./src/packages/spa-apps/common/src/feature-flags.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return r})),t.d(s,"e",(function(){return i})),t.d(s,"c",(function(){return a})),t.d(s,"d",(function(){return o})),t.d(s,"f",(function(){return c})),t.d(s,"g",(function(){return u})),t.d(s,"h",(function(){return l})),t.d(s,"b",(function(){return d}));var n=t("./src/packages/common-legacy-do-not-add-anything-new/src/util/get-feature-flag-value.js");const r=()=>Object(n.b)("jsd.consistent.breadcrumbs",!1),i=()=>Object(n.b)("endeavour-people-profile-transition-in-spa",!1),a=()=>Object(n.b)("jsd-spa-fix-project-not-found-redirection",!1),o=()=>"experiment"===Object(n.c)("jsw-onboarding-phase-3-quickstart","not-enrolled",["control","not-enrolled","experiment"]),c=()=>Object(n.b)("endeavour.projects-directory.pretty-url",!1),u=()=>Object(n.b)("endeavour.rapidboards-wrm.search-session-tracker",!1),l=()=>Object(n.b)("solutions-attribute-in-jsd-ui-viewed-analytics-event",!1),d=()=>Object(n.b)("jsd.enable.embedded.confluence",!1)},"./src/packages/spa/src/view/lazy-page/index.js":function(e,s,t){"use strict";t.d(s,"a",(function(){return f}));var n=t("./node_modules/react/index.js"),r=t.n(n),i=t("./node_modules/react-loosely-lazy/lib/esm/index.js"),a=t("./node_modules/react-resource-router/build/esm/index.js"),o=t("./src/packages/common-legacy-do-not-add-anything-new/src/components/spinner/index.js"),c=t("./src/packages/platform/services/spa-apdex-analytics/src/provider.js"),u=t("./src/packages/platform/controllers/spa-state/src/components/index.js"),l=t("./src/packages/spa/src/feature-flags.js"),d=t("./src/packages/platform/controllers/spa-state/src/components/page-loaded-state/index.js");const p=({useLazyPhase:e=i.g,usePageLoadedSubscriber:s=d.a})=>{const[{hasLoaded:t}]=s(),{resetPhase:r,startNextPhase:a}=e();return Object(n.useEffect)(()=>{t?a():r()},[t,r,a]),null},m=({match:e,pageId:s,Page:t,shouldShowSpinner:n=!0})=>r.a.createElement(c.a,{pageId:s},r.a.createElement(u.e,{isGlobal:!0,appId:s},r.a.createElement(u.d,{match:e}),!Object(l.h)()&&r.a.createElement(p,null),r.a.createElement(i.a,{fallback:n?r.a.createElement(o.a,null):null},r.a.createElement(t,null))));m.displayName="LazyPageWithMatch";const f=Object(a.p)(m)}}]);try{window.__jsEvalStop("async-embedded-issue-preload.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/async-embedded-issue-preload.285a7290eb85822d47c2.8.js.map